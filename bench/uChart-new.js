!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=11)}([function(t,e,i){"use strict";i.r(e),i.d(e,"uuid",function(){return s}),i.d(e,"accAdd",function(){return h}),i.d(e,"accMul",function(){return c}),i.d(e,"accDiv",function(){return l}),i.d(e,"equal",function(){return u}),i.d(e,"get",function(){return p}),i.d(e,"getByPath",function(){return d}),i.d(e,"getByPathFromObjectArray",function(){return f}),i.d(e,"del",function(){return g}),i.d(e,"set",function(){return y}),i.d(e,"setByPath",function(){return v}),i.d(e,"sort",function(){return x}),i.d(e,"insertSort",function(){return b}),i.d(e,"getValueRange",function(){return m}),i.d(e,"getValueRangeFromArray",function(){return O}),i.d(e,"getRangeFromRangArray",function(){return w}),i.d(e,"trim",function(){return j}),i.d(e,"isNum",function(){return A}),i.d(e,"isPercent",function(){return L}),i.d(e,"isString",function(){return F}),i.d(e,"clone",function(){return S}),i.d(e,"assign",function(){return M}),i.d(e,"convertPercent",function(){return R}),i.d(e,"convertToNum",function(){return E}),i.d(e,"unionRect",function(){return T}),i.d(e,"getMin",function(){return B}),i.d(e,"getMax",function(){return k}),i.d(e,"_compare",function(){return D}),i.d(e,"quicklyForEach",function(){return V}),i.d(e,"simpleFilter",function(){return N}),i.d(e,"checkPoint",function(){return H}),i.d(e,"getPointsFromRect",function(){return z}),i.d(e,"hex2Rgba",function(){return W}),i.d(e,"Rgba2Hex",function(){return Y}),i.d(e,"throttle",function(){return X}),i.d(e,"cloneArray",function(){return G}),i.d(e,"dataURLToBlob",function(){return q}),i.d(e,"getBrowserInfo",function(){return U}),i.d(e,"openImagInIE",function(){return Z}),i.d(e,"callSafe",function(){return K}),i.d(e,"deleteMapProperty",function(){return Q}),i.d(e,"zip",function(){return $}),i.d(e,"unzip",function(){return J}),i.d(e,"zipWith",function(){return tt}),i.d(e,"unzipWith",function(){return et}),i.d(e,"sumArray",function(){return it}),i.d(e,"isFun",function(){return nt}),i.d(e,"quicklyFindInArray",function(){return ot}),i.d(e,"simpleIndexOf",function(){return rt}),i.d(e,"addIfAbsent",function(){return at}),i.d(e,"putArrayToArrayAndCreate",function(){return st}),i.d(e,"getIndexRangeFromPercent",function(){return ht}),i.d(e,"getRectCenter",function(){return ct}),i.d(e,"getPointProjectionInLine",function(){return lt}),i.d(e,"quadraticEquation",function(){return ut}),i.d(e,"lineIntersectCircle",function(){return pt}),i.d(e,"getNumberFromOneHex",function(){return dt}),i.d(e,"getHexColor",function(){return vt}),i.d(e,"compareObjByKeys",function(){return xt}),i.d(e,"CompareOperate",function(){return ft}),i.d(e,"operateCompare",function(){return bt}),i.d(e,"getPointProjectFromRect",function(){return mt}),i.d(e,"normalValue",function(){return Ot}),i.d(e,"getXYFromMouseEvent",function(){return wt}),i.d(e,"getSmallNumberAndPow",function(){return jt});var n=i(1),o=i(5),r=function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};function s(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}function h(t,e){var i,n,o;try{i=t.toString().split(".")[1].length}catch(t){i=0}try{n=e.toString().split(".")[1].length}catch(t){n=0}return(c(t,o=Math.pow(10,Math.max(i,n)))+c(e,o))/o}function c(t,e){var i=0,n=t.toString(),o=e.toString(),r=jt(n);r&&(i-=Number(r.pow),n=r.number);var a=jt(o);a&&(i-=Number(a.pow),o=a.number);try{i+=n.split(".")[1].length}catch(t){}try{i+=o.split(".")[1].length}catch(t){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,i)}function l(t,e){var i=0,n=0;try{i=t.toString().split(".")[1].length}catch(t){}try{n=e.toString().split(".")[1].length}catch(t){}return c(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,n-i))}function u(t,e,i){return void 0===i&&(i=!1),(i?t===e:t==e)||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function p(t,e,i){if(void 0===i&&(i=void 0),null==t)return i;if(null!=e){var n;n="string"==typeof e?e.split("."):e;for(var o=!0,r=t,a=0;a<n.length;a++){var s=n[a];if(!r||!r.hasOwnProperty(s)){o=!1;break}r=r[s]}return o&&null!=r?r:i}}function d(t,e,i){return void 0===i&&(i=void 0),p(t,e,i)}function f(t,e,i){void 0===i&&(i=void 0);var n=i;if(e instanceof Array){var o=e.concat(),r=o.pop(),a=o;if(t instanceof Array&&0===e.length)return t[0];ot(t,function(t){var e=d(t,a);if(!u(null,e)&&e.hasOwnProperty(r))return n=e[r],!0})}return n}function g(t,e){if(null==t)return t;if(null!=e){var i;i="string"==typeof e?e.split("."):e;for(var n=t,o=0;o<i.length;o++){var r=i[o];if(!n||!n.hasOwnProperty(r))break;o==i.length-1&&delete n[r],n=n[r]}}}function y(t,e,i){if(null==t)return t;if(null!=e){var n,o=t,r=0,a=(n="string"==typeof e?e.split("."):e).length-1;for(r=0;r<a;r++){var s=n[r];if(!o)return;o.hasOwnProperty(s)||(o[s]={}),o=o[s]}o[n[a]]=i}}function v(t,e,i){return y(t,e,i)}function x(t,e){if(!(t instanceof Array)||"function"!=typeof e)return t;for(var i=0;i<t.length;i++){for(var n=i,o=i+1;o<t.length;o++){e(t[n],t[o])<0&&(n=o)}var r=t[i];t[i]=t[n],t[n]=r}return t}function b(t,e){if(!(t instanceof Array)||"function"!=typeof e)return t;var i=[];t.length>0&&i.push(t[0]);for(var n=1;n<t.length;n++){var o=t[n],r=0,a=void 0,s=i.length-1;if(e(o,i[0])<0)i.splice(0,0,o);else if(e(o,i[i.length-1])>0)i.splice(i.length,0,o);else{for(var h=Math.ceil((r+s)/2);a!=h;){a=h,e(o,i[h=Math.ceil((r+s)/2)])>=0?r=h:s=h}i.splice(r+1,0,o)}}return i}function m(t){for(var e=0,i=0,n=0,o=0,r=!1,a=0;a<t.length;a++)if(t[a]instanceof Array)for(var s=0;s<t[a].length;s++){var h=t[a][s];r||isNaN(h)||null==h||(r=!0),n=Math.min(e,h),isNaN(n)||(e=n),o=Math.max(i,h),isNaN(o)||(i=o)}return{min:e,max:i,validate:r}}function O(t){var e,i={validate:!1},n=0;if(t instanceof Array)for(;n<t.length;n++)if(A(e=E(t[n]))){i.min=e,i.max=e,i.validate=!0,n++;break}if(i.validate)for(;n<t.length;n++)(e=E(t[n]))>i.max?i.max=e:e<i.min&&(i.min=e);return i}function w(t){for(var e={validate:!1},i=0;i<t.length;i++){if((n=t[i])&&n.validate){e=r({},n);break}}for(;i<t.length;i++){var n;(n=t[i])&&n.validate&&(e.max=k(e.max,n.min,n.max),e.min=B(e.min,n.min,n.max))}return e}var _="".trim||function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};function j(t){return _.call(t)}var P=/\s/;function A(t){var e=typeof t;return"number"===e&&!isNaN(t)||"string"===e&&j(t).length>0&&!isNaN(t)&&!P.test(t)}var C=/^(\d)+(.)?\d*%$/;function L(t){return"string"==typeof t&&C.test(t)}function I(t){return"undefined"===t||"number"===t||"function"===t||"string"===t||"boolean"===t}function F(t){return"string"==typeof t}function S(t,e){if(void 0===e&&(e=!0),!t)return t;var i=typeof t;if(t instanceof Array){var n=[];if(!e)return t.concat();for(var o=0;o<t.length;o++){var r=S(t[o],e);n.push(r)}return n}if(I(i))return t;var a={};for(var s in t)t.hasOwnProperty(s)&&(a[s]=e?S(t[s],e):t[s]);return a}function M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,n,o=t;if(1==o.length)n=null,i=o[0];else if(2==o.length)n=o[0],i=o[1];else if(o.length>2){n=o[0];for(var r=1;r<o.length-1;r++)n=M(n,o[r]);i=o[o.length-1]}if(null==n&&null!=i)n=i;else if(null!=n&&null!=i){if(I(typeof i))n=i;else{if(i instanceof Array){var a=[];for(r=0;r<i.length;r++){var s=i[r];a.push(M(s))}return a}for(var h in i)(i.hasOwnProperty(h)||i.key)&&(n[h]=M(n[h],i[h]))}}return n}function R(t,e,i){return void 0===i&&(i=void 0),"number"==typeof e?e:L(e)?t*parseFloat(e)/100:i}function E(t,e){void 0===e&&(e=void 0);var i=typeof t;if("string"==i){if((t=j(t)).length>0)return parseFloat(t)}else if("number"==i&&!isNaN(t))return t;return e}function T(t,e){var i=B(t.x,e.x),n=B(t.y,e.y);return{x:i,y:n,width:k(t.x+t.width-i,e.x+e.width-i),height:k(t.y+t.height-n,e.y+e.height-n)}}function B(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(e.length>0)return e.forEach(function(e){var i=parseFloat(e);t=!isNaN(i)&&(i<t||null==t)?i:t}),t}function k(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(e.length>0)return e.forEach(function(e){var i=parseFloat(e);t=!isNaN(i)&&(i>t||null==t)?i:t}),t}function D(t,e){return void 0===e&&(e="ascend"),function(i,n){return"ascend"===e?i[t]-n[t]:"descend"===e?n[t]-i[t]:void 0}}function V(t,e){if(t&&"function"==typeof e)for(var i=0;i<t.length;i++){e(t[i],i,t)}}function N(t,e,i){void 0===i&&(i=[]);var n=[];return V(t,function(t){var i=e(t);null!=i&&n.push(i)}),n.length>0?n:i}function H(t){return t&&null!=t.x&&null!=t.y&&!isNaN(t.x)&&!isNaN(t.y)}function z(t){var e=[];if(t){var i={x:t.x,y:t.y},n={x:t.x+t.width,y:t.y},o={x:t.x,y:t.y+t.height},r={x:t.x+t.width,y:t.y+t.height};H(i)&&e.push(i),H(n)&&e.push(n),H(o)&&e.push(o),H(r)&&e.push(r)}return e}function W(t,e){void 0===e&&(e=.1);var i=t.toLowerCase();if(i&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var n="#",o=1;o<4;o+=1)n+=i.slice(o,o+1).concat(i.slice(o,o+1));i=n}var r=[];for(o=1;o<7;o+=2)r.push(parseInt("0x"+i.slice(o,o+2)));return"rgba("+r.join(",")+", "+e+")"}return i}function Y(t){if(/^(rgba|RGBA)/.test(t)){for(var e=t.replace(/(?:\(|\)|rgba|RGBA)*/g,"").split(","),i="#",n=0;n<e.length-1;n++){var o=Number(e[n]).toString(16);"0"===o&&(o+=o),i+=o}return 7!==i.length&&(i=t),i}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var r=t.replace(/#/,"").split("");if(6===r.length)return t;if(3===r.length){var a="#";for(n=0;n<r.length;n+=1)a+=r[n]+r[n];return a}}function X(t,e,i){var n,o=(new Date).getTime();return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=(new Date).getTime();clearTimeout(n),s-o>=i?(t.apply(this,r),o=s):n=setTimeout(t,e)}}function G(t){return t instanceof Array?t.concat():[]}function q(t){for(var e=t.split(","),i=e[0].match(/:(.*?);/)[1],n=atob(e[1]),o=n.length,r=new Uint8Array(o);o--;)r[o]=n.charCodeAt(o);return new Blob([r],{type:i})}function U(){var t=navigator.userAgent,e=t.indexOf("Opera")>-1,i=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!e,n=t.indexOf("Edge")>-1,o=t.indexOf("Firefox")>-1,r=t.indexOf("Safari")>-1&&-1==t.indexOf("Chrome"),a=t.indexOf("Chrome")>-1&&t.indexOf("Safari")>-1;if(i){new RegExp("MSIE (\\d+\\.\\d+);").test(t);var s=parseFloat(RegExp.$1);return 7==s?"IE7":8==s?"IE8":9==s?"IE9":10==s?"IE10":11==s?"IE11":"0"}return e?"Opera":n?"Edge":o?"FF":r?"Safari":a?"Chrome":void 0}function Z(t){var e=window.open();e&&e.document.write('<img src="'+t+'" />')}function K(t,e){var i=void 0===e?{}:e,n=i.context,o=void 0===n?void 0:n,r=i.arg,a=void 0===r?[]:r;if("function"==typeof t)return t.apply(o,a)}function Q(t){if(t&&"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&delete t[e]}function $(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return t.map(function(t,i){return a(e.map(function(e){return e[i]||t}))})}function J(t){return t.reduce(function(t,e){return e.forEach(function(e,i){t[i]=t[i]||[],t[i].push(e)}),t},[])}function tt(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=e.pop();return t.map(function(t,i){return a([t],e.map(function(t){return t[i]}))}).map(function(t){return n.apply(void 0,t)})}function et(t,e){var i=Symbol();return t.reduce(function(t,e){return e.forEach(function(e,i){t[i]=t[i]||[],t[i].push(e)}),t},[]).map(function(t){return t.reduce(function(t,n,o,r){return t===i?n:e(t,n,o,r)})},i)}function it(t,e){void 0===e&&(e=!0);var i=0;return e?t.forEach(function(t){i=h(t||0,i)}):t.forEach(function(t){i+=t||0}),i}function nt(t){return"function"==typeof t}function ot(t,e){if(nt(e)&&t instanceof Array)for(var i=0;i<t.length;i++){var n=e(t[i],i);if(void 0!==n)return n}}function rt(t,e){var i=ot(t,function(t,i){if(t==e)return i});return i>=0?i:-1}function at(t,e){return t instanceof Array&&rt(t,e)<0&&(t.push(e),!0)}function st(t,e,i){if(t instanceof Array&&e instanceof Array){if(!A(i)||i<0)return e.concat(t);if(i>=t.length)return t.concat(e);var n=t.slice(0,i),o=t.slice(i,t.length);return n.concat(e).concat(o)}return t.concat()}function ht(t,e,i){return{startIndex:Math.round((t-1)*e),endIndex:Math.round((t-1)*i)}}function ct(t){return Object(n.O)(t)?{x:t.x+t.width/2,y:t.y+t.height/2}:null}function lt(t,e,i){if(e.x==i.x)return e.y==i.y?r({},i):{x:e.x,y:t.y};if(e.y==i.y)return{x:t.x,y:e.y};var n=i.x-e.x,o=(i.y-e.y)/n,a=(i.x*e.y-e.x*i.y)/n,s=(t.y+t.x/o-a)/(o+1/o);return{x:s,y:s*o+a}}function ut(t,e,i){var n=e*e-4*t*i;if(n<0)return[];if(0==n)return[-t*e/2];var o=Math.sqrt(n);return[(-e-o)/(2*t),(-e+o)/(2*t)]}function pt(t,e){var i=t[0],n=t[1],o=n.x-i.x,r=n.y-i.y;if(0!=o){var a=r/o,s=(i.x*n.y-n.x*i.y)/(i.x-n.x),h=s-e.y;return ut(Math.pow(a,2)+1,2*(a*h-e.x),Math.pow(h,2)-Math.pow(e.radius,2)).map(function(t){return{x:t,y:a*t+s}})}var c=n.x;return ut(1,-2*e.y,Math.pow(e.y,2)+Math.pow(c-e.x,2)-Math.pow(e.radius,2)).map(function(t){return{x:c,y:t}})}function dt(t){switch(t){case"f":return 15;case"e":return 14;case"d":return 13;case"c":return 12;case"b":return 11;case"a":return 10;case"F":return 15;case"E":return 14;case"D":return 13;case"C":return 12;case"B":return 11;case"A":return 10;case"0":return 0;case"1":return 1;case"2":return 2;case"3":return 3;case"4":return 4;case"5":return 5;case"6":return 6;case"7":return 7;case"8":return 8;case"9":return 9}}var ft,gt=/^#([0-9a-fA-f]{6})$/,yt=/^rgba?\s*\(\s*\d+(,\s*\d+){2}(,\d+\.\d+)?\s*\)$/i;function vt(t){var e;if("string"==typeof t){if(t=j(t),gt.test(t))e=t;else if(!(e=Object(o.transColor)(t)))if(yt.test(t))e="#"+(t=t.split("(")[1].split(")")[0]).split(",").splice(0,3).map(function(t){var e=E(j(t));return e>255?e=255:e<0&&(e=0),e}).map(function(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e}).join("");if(e)return e}}function xt(t,e,i){if(!i||i.length<1)return!0;for(var n=0,o=0;o<i.length;o++){var r=[i[o]];d(t,r)==d(e,r)&&n++}return n==i.length}function bt(t,e,i){switch(e){case ft.LT:return t<i;case ft.LTE:return t<=i;case ft.GT:return t>i;case ft.GTE:return t>=i;case ft.EQ:return t==i;case ft.NE:case ft.NEQ:return t!=i}}function mt(t,e){if(Object(n.O)(e))return{top:{x:t.x,y:e.y},right:{x:e.x+e.width,y:t.y},bottom:{x:t.x,y:e.y+e.height},left:{x:e.x,y:t.y}}}function Ot(t){if(A(t)){if(t>0)t=1;else if(t<0)return-1;return t}}function wt(t){return{x:t.offsetX||t.layerX,y:t.offsetY||t.layerY}}!function(t){t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.EQ="eq",t.NE="ne",t.NEQ="neq"}(ft||(ft={}));var _t=/\d+e-\d+/;function jt(t){if("string"==typeof t&&_t.test(t)){var e=t.split("e-");return 2==e.length?{number:e[0],pow:-Number(e[1])}:1==e.length?{number:e[0],pow:1}:void 0}}},function(t,e,i){"use strict";i.d(e,"k",function(){return p}),i.d(e,"l",function(){return d}),i.d(e,"m",function(){return y}),i.d(e,"h",function(){return v}),i.d(e,"g",function(){return w}),i.d(e,"w",function(){return _}),i.d(e,"n",function(){return j}),i.d(e,"u",function(){return P}),i.d(e,"p",function(){return C}),i.d(e,"q",function(){return L}),i.d(e,"r",function(){return I}),i.d(e,"N",function(){return M}),i.d(e,"i",function(){return R}),i.d(e,"e",function(){return E}),i.d(e,"t",function(){return T}),i.d(e,"c",function(){return B}),i.d(e,"B",function(){return k}),i.d(e,"a",function(){return D}),i.d(e,"C",function(){return V}),i.d(e,"E",function(){return N}),i.d(e,"O",function(){return H}),i.d(e,"D",function(){return z}),i.d(e,"A",function(){return W}),i.d(e,"K",function(){return Y}),i.d(e,"x",function(){return X}),i.d(e,"o",function(){return G}),i.d(e,"G",function(){return q}),i.d(e,"M",function(){return U}),i.d(e,"z",function(){return Z}),i.d(e,"j",function(){return $}),i.d(e,"F",function(){return tt}),i.d(e,"d",function(){return et}),i.d(e,"f",function(){return it}),i.d(e,"J",function(){return nt}),i.d(e,"I",function(){return ot}),i.d(e,"H",function(){return rt}),i.d(e,"s",function(){return at}),i.d(e,"b",function(){return st}),i.d(e,"L",function(){return ht}),i.d(e,"y",function(){return ct}),i.d(e,"v",function(){return lt});var n=i(4),o=i(0),r=(i(3),i(2)),a=23,s=18,h=5,c=10,l=5,u=9;function p(t,e,i,n,o,r){void 0===r&&(r=[]),d(t,[e,i],n,o,r)}function d(t,e,i,n,o){if(void 0===o&&(o=null),e)if(!t.setLineDash&&o&&o.length>0)for(var r=1;r<e.length;r++){f(t,e[r-1],e[r],i,n,o)}else{t.save(),t.beginPath(),o&&o.length>0&&t.setLineDash(o),t.moveTo(e[0].x,e[0].y);for(r=1;r<e.length;r++)t.lineTo(e[r].x,e[r].y);i&&(t.strokeStyle=i),n&&(t.lineWidth=n),t.stroke(),t.closePath(),t.restore()}}function f(t,e,i,n,r,a){if(Object(o.checkPoint)(e)&&Object(o.checkPoint)(i)){var s=i.x-e.x,h=i.y-e.y;r=r||1;var c=Math.sqrt(s*s+h*h);if(!(c<=0)){var l=h/c,u=s/c,p=0;(a=a&&a.length>0?a:[1]).forEach(function(t){t>0&&(p+=t)}),p=p||1;for(var d=Math.floor(c/p)*a.length,f=e.x,g=e.y,y=0;y<d;y++){var v=(m=a[y%a.length])*u,x=m*l;y%2==0&&(t.save(),t.beginPath(),n&&(t.strokeStyle=n),t.lineWidth=r,t.moveTo(f,g),t.lineTo(f+v,g+x),t.closePath(),t.stroke(),t.restore()),f+=v,g+=x}for(var b=0;(i.x-f)*(i.x-e.x)+(i.y-g)*(i.y-e.y)>0;){v=(m=a[b%a.length])*u,x=m*l;var m,O=(i.x-f-v)*(i.x-e.x)+(i.y-g-x)*(i.y-e.y);b%2==0&&(O>0?(t.save(),t.beginPath(),t.lineWidth=r,n&&(t.fillStyle=n),t.moveTo(f,g),t.lineTo(f+v,g+x),t.closePath(),t.stroke(),t.restore()):O<0&&(t.save(),t.lineWidth=r,n&&(t.fillStyle=n),t.beginPath(),t.moveTo(f,g),t.lineTo(i.x,i.y),t.closePath(),t.stroke(),t.restore())),f+=v,g+=x,b++}}}}function g(t,e,i,n,r,a,s){if(void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=-1),e&&!(e.length<1))if(1!=e.length){t.save(),a&&(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.clip()),t.beginPath(),r&&t.setLineDash(r),t.moveTo(e[0].point.x,e[0].point.y);for(var h=1;h<e.length;h++)t.lineTo(e[h].point.x,e[h].point.y);i&&(t.strokeStyle=-1!==s?S(i,s):i),n&&(t.lineWidth=n),t.stroke(),t.restore()}else{console.log("&&&&&&&&&&");var c=Object(o.getByPath)(e,[0,"point"]);Object(o.checkPoint)(c)&&(t.save(),v(t,c.x,c.y,n,i,s),t.restore())}}function y(t,e,i,n,a,s,h,c,l){void 0===a&&(a=null);for(var u=[],p=[],d=0;d<e.length;d++){var f=e[d];Object(o.get)(f,"point")?u.push(f):(u.length>=2&&p.push(u),u=[])}u.length>=1&&(p.push(u),u=[]);for(d=0;d<p.length;d++){var y=p[d];if("connectNulls"===s&&d>0){var v=p[d-1];if(y.length>0&&v.length>0)(x=[]).push(v[v.length-1]),x.push(y[0]),g(t,x,i,n,a,c,l)}if("fullNulls"===s&&d>0){v=p[d-1];if(y.length>0&&v.length>0){var x=[],b=v[v.length-1],m=q(Object(r.i)({x:.5,y:0},h));x.push(b),x.push({index:b.index+1,point:{x:b.point.x,y:m.y},xValue:b.xValue,yValue:0});var O=y[0];x.push({index:O.index-1,point:{x:O.point.x,y:m.y},xValue:O.xValue,yValue:0}),x.push(O),g(t,x,i,n,a,c,l)}}g(t,y,i,n,a,c,l)}}function v(t,e,i,n,o,r,a){void 0===a&&(a=1),t.beginPath(),o&&(t.strokeStyle=o);var s=t.globalAlpha;a&&(t.globalAlpha=a),r&&(t.fillStyle=r),t.arc(e,i,n,0,2*Math.PI),t.closePath(),r&&t.fill(),o&&t.stroke(),t.globalAlpha=s}var x,b,m,O={};function w(t){void 0===t&&(t=void 0);var e=document.createElement("div");return t&&e.setAttribute("id",t),e.style.cssText="width:1px!important;height:0px!important;position:absolute!important;display:none!important",e}function _(t){if(O[t])return O[t];x&&document.body.contains(x)||(x=function(){var t=document.createElement("div");t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.padding="0 0",t.style.margin="0 0";var e=document.createElement("div");return document.body.appendChild(t),t.appendChild(e),e.style.display="block",setTimeout(function(){document.body.removeChild(t)},6e5),e}()),x.innerText="Y",x.style.font=t;var e=window.getComputedStyle(x).height||"",i=parseInt(e);return O[t]=i,i}function j(t,e,i,n,o,r,a,s,h,c){void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===s&&(s=void 0),void 0===h&&(h={}),void 0===c&&(c=void 0),t.save(),c&&(t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip()),t.beginPath(),t.rect(e,i,n,o),t.closePath(),s&&(t.globalAlpha=s),h.shadowColor&&(t.shadowColor=h.shadowColor),h.shadowBlur&&(t.shadowBlur=h.shadowBlur),h.shadowOffsetX&&(t.shadowOffsetX=h.shadowOffsetX),h.shadowOffsetY&&(t.shadowOffsetY=h.shadowOffsetY),a&&(t.fillStyle=a,t.fill()),r&&(t.strokeStyle=r,t.stroke()),t.restore()}function P(t,e,i,n,o,r,a,s){if(void 0===s&&(s=void 0),2*r>n||2*r>o)return!1;t.save(),s&&(t.beginPath(),t.rect(s.x,s.y,s.width,s.height),t.clip()),t.translate(e,i),A(t,n,o,r),t.fillStyle=a||"#000",t.fill(),t.restore()}function A(t,e,i,n){t.beginPath(0),t.arc(e-n,i-n,n,0,Math.PI/2),t.lineTo(n,i),t.arc(n,i-n,n,Math.PI/2,Math.PI),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2),t.lineTo(e-n,0),t.arc(e-n,n,n,3*Math.PI/2,2*Math.PI),t.lineTo(e,i-n),t.closePath()}function C(t,e,i,n,o,r,a,s){void 0===r&&(r="12px sans-serif"),void 0===a&&(a="start"),void 0===s&&(s="top"),t.save();var h=t.font;t.font=r,t.fillStyle=o,t.textAlign=a,t.textBaseline=s,t.fillText(e,i,n),t.font=h,t.restore()}function L(t,e,i,n,o,r,a,s){void 0===r&&(r="12px sans-serif"),void 0===a&&(a="start"),void 0===s&&(s="top");var h=[];if("number"==typeof e)h=[e+""];else{if("string"!=typeof e)return;h=e.split("\n")}var c=_(r);t.save();var l=t.font;t.font=r,t.fillStyle=o,t.textAlign=a,t.textBaseline=s;for(var u=0;u<h.length;u++)t.fillText(h[u],i,n+c*u);t.font=l,t.restore()}function I(t,e,i,n,o,r){void 0===r&&(r="12px sans-serif"),L(t,e,i,n+_(r)/2,o,r,"start","middle")}function F(t,e,i,n,r,a,s){if(e&&1==e.length){var h=Object(o.getByPath)(e,[0,"point"]);Object(o.checkPoint)(h)&&(t.save(),v(t,h.x,h.y,r,null,n,s),t.restore())}else if(e&&e.length>0&&i&&i.length>0){t.save(),a&&(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.clip()),t.beginPath(),t.moveTo(e[0].point.x,e[0].point.y);for(var c=1;c<e.length;c++){if(h=e[c].point){var l=i[2*(c-1)+0],u=i[2*(c-1)+1];t.bezierCurveTo(l.x,l.y,u.x,u.y,h.x,h.y)}}r&&(t.lineWidth=r),t.strokeStyle=-1!==s?S(n,s):n,t.stroke(),t.closePath(),t.restore()}}function S(t,e){void 0===e&&(e=.3);var i=t.toLowerCase();if(i&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===i.length){for(var n="#",o=1;o<4;o+=1)n+=i.slice(o,o+1).concat(i.slice(o,o+1));i=n}var r=[];for(o=1;o<7;o+=2)r.push(parseInt("0x"+i.slice(o,o+2)));return"rgba("+r.join(",")+", "+e+")"}return i}function M(t,e){var i=[],n=[];if(t.length>=1){var r=[],a=[],s=Object(o.get)(t[0],"point");s&&r.push(t[0]);for(var h=1;h<t.length;h++){var c=t[h];null==c.point?(r.length>=1&&(i.push(r),e&&n.push(a)),a=[],r=[]):(s&&e&&(a.push(e[2*(h-1)]),a.push(e[2*(h-1)+1])),r.push(c)),s=c.point}r.length>=1&&(i.push(r),e&&n.push(a),a=[],r=[])}return{pointInfoListArray:i,controlPointsArray:n}}function R(t,e,i,n,o,a,s,h,c){for(var l=M(e,i),u=l.pointInfoListArray,p=l.controlPointsArray,d=0;d<u.length;d++){F(t,u[d],p[d],n,o,h,c);var f=u[d];if("connectNulls"===a&&d>0){var y=u[d-1];if(f.length>0&&y.length>0)(v=[]).push(y[y.length-1]),v.push(f[0]),g(t,v,n,o,null,h,c)}if("fullNulls"===a&&d>0){y=u[d-1];if(f.length>0&&y.length>0){var v=[],x=y[y.length-1],b=q(Object(r.i)({x:.5,y:0},s));v.push(x),v.push({index:x.index+1,point:{x:x.point.x,y:b.y},xValue:x.xValue,yValue:0});var m=f[0];v.push({index:m.index-1,point:{x:m.point.x,y:b.y},xValue:m.xValue,yValue:0}),v.push(m),g(t,v,n,o,null,h,c)}}}}function E(t){return!t||t.length<1?null:(t.forEach(function(t){t&&null!=t.x&&null!=t.y&&(null==e?e=t.x:t.x>e&&(e=t.x),null==n?n=t.x:t.x<n&&(n=t.x),null==i?i=t.y:t.y>i&&(i=t.y),null==o?o=t.y:t.y<o&&(o=t.y))}),null!=e?{x:n,y:o,width:e-n,height:i-o}:void 0);var e,i,n,o}function T(t,e,i){if(t&&null!=t.x&&null!=t.y){var n=Object(o.assign)({},t);return null==n.width&&(n.width=0),null==n.height&&(n.height=0),{x:n.x-e,y:n.y-i,width:n.width+2*e,height:n.height+2*i}}}function B(t,e,i){void 0===i&&(i=void 0),e=e||.1;var o=[];if(t&&t.length>0){var r=t.concat();r.push(r[r.length-1]),r.unshift(r[0]);for(var a=r.length-1,s=1;s<a;s++){var h=null,c=null,l=r[s],u=r[s-1]||l,p=r[s+1]||l;if(null!=u&&null!=p&&null!=l){var d=Object(n.e)(u,p),f=Object(n.a)(l,u),g=Object(n.a)(l,p),y=e*f/(f+g),v=e*g/(f+g);h=Object(n.i)(l,Object(n.d)(d,y)),c=Object(n.i)(l,Object(n.d)(d,-v))}i&&(h&&!V(i,h.x,h.y)&&(h={x:l.x,y:l.y}),c&&!V(i,c.x,c.y)&&(c={x:l.x,y:l.y})),o.push(h),o.push(c)}}return o.shift(),o.pop(),o}function k(t,e,i){void 0===i&&(i=void 0);var n=i;if(i||(document.body.contains(b)||(document.body.contains(m)||(m=w(),document.body.appendChild(m)),b=document.createElement("canvas"),m.appendChild(b)),n=b.getContext("2d")),null!=t){var o=n.font;n.font=e;var r=n.measureText(t).width;return n.font=o,r}return 0}function D(){document.body.contains(m)&&(document.body.removeChild(m),m=null)}function V(t,e,i,n){return void 0===n&&(n=!1),n?t&&e>t.x&&i>t.y&&e<t.x+t.width&&i<t.y+t.height:!!(t&&e>=t.x&&i>=t.y&&e<=t.x+t.width&&i<=t.y+t.height)}function N(t,e){if(!H(t))return e;if(!H(e))return t;var i=Math.min(t.x,e.x),n=Math.min(t.y,e.y);return{x:i,y:n,width:Math.max(t.x+t.width-i,e.x+e.width-i),height:Math.max(t.y+t.height-n,e.y+e.height-n)}}function H(t){return t&&null!=t.x&&null!=t.y&&null!=t.width&&null!=t.height}function z(t,e){var i=t.width,n=t.height,o=e.width,r=e.height,a=t.x,s=t.y,h=e.x,c=e.y;return a<h+o&&s<c+r&&h<a+i&&c<s+n}function W(t,e){var i=0,n=0;if(null!=t){var o=_(e),r=[],a=typeof t;"string"===a?r=t.split("\n"):"number"===a&&r.push(t),r.forEach(function(t){var r=k(t,e);i=i<r?r:i,n+=o})}return{width:i,height:n}}function Y(t,e,i,n,o,r,a){void 0===a&&(a=1),r=Math.min(r,n/2,o/2),t.beginPath(),t.lineWidth=a,t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.arc(e+n-r,i+r,r,3*Math.PI/2,0),t.lineTo(e+n,i+o-r),t.arc(e+n-r,i+o-r,r,0,Math.PI/2),t.lineTo(e+r,i+o),t.arc(e+r,i+o-r,r,Math.PI/2,Math.PI),t.lineTo(e,i+r),t.arc(e+r,i+r,r,Math.PI,3*Math.PI/2),t.closePath()}function X(t,e){if(t.beginPath(),e.length>0){Object(o.checkPoint)(e[0])&&t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++){var n=e[i];Object(o.checkPoint)(n)&&t.lineTo(n.x,n.y)}}t.closePath()}function G(t,e,i,n,o,r,a,s,h,c){void 0===h&&(h=0),void 0===c&&(c="");var l=0,u=0;isNaN(n)?1==n.length?l=u=n[0]:n.length>=2&&(l=n[0],u=n[1]):l=u=n,t.save(),t.strokeStyle=a,t.fillStyle=a,t.beginPath();var p=l==u||null==l;if(p?t.moveTo(e,i):t.arc(e,i,l,r,o,!s),t.arc(e,i,u,o,r,s),t.closePath(),t.fill(),c&&h>0){t.lineWidth=h,t.strokeStyle=c;var d={x:e+u*Math.cos(o),y:i+u*Math.sin(o)},f={x:e+u*Math.cos(r),y:i+u*Math.sin(r)};t.beginPath(),p?(t.moveTo(e,i),t.lineTo(d.x,d.y),t.moveTo(f.x,f.y),t.lineTo(e,i)):(t.moveTo(e+l*Math.cos(o),i+l*Math.sin(o)),t.lineTo(d.x,d.y),t.moveTo(f.x,f.y),t.lineTo(e+l*Math.cos(r),i+l*Math.sin(r))),t.stroke()}t.restore()}function q(t,e){return void 0===e&&(e=!1),e?{x:t.x,y:t.y}:{x:Math.round(t.x),y:Math.round(t.y)}}function U(t,e,i){if(t){t.style.width=e+"px",t.style.height=i+"px";var n=window.devicePixelRatio||1;t.width=e*n,t.height=i*n;var o=t.getContext("2d");o&&o.scale(n,n)}}function Z(t,e){var i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},n=Math.min(t.x+t.width,e.x+e.width),o=Math.min(t.y+t.height,e.y+e.height);return n-i.x<=0||o-i.y<0?null:{x:i.x,y:i.y,width:n-i.x,height:o-i.y}}function K(t,e,i,n){void 0===n&&(n=.8),t.save(),e&&(t.strokeStyle=e,t.lineWidth=1,t.lineJoin="round",t.stroke()),i&&(t.fillStyle=i,t.globalAlpha=n,t.fill()),t.restore()}function Q(t,e,i,n,o,r){if(void 0===r&&(r="#525559"),o){var a=k(o.xValue,i),s=k(" ",i);C(t,o.xValue,n.x,n.y,r,i,"start","middle"),C(t," ",n.x+a,n.y,r,i,"start","middle");C(t,o.yValue,n.x+a+s,n.y,r,"bold 12px sans-serif","start","middle")}else C(t,e,n.x,n.y,r,i,"start","middle")}function $(t,e,i,n,o,r,p,d,f){void 0===d&&(d=void 0),void 0===f&&(f=.8);var g=i.point;if(e&&g){var y,v="12px sans-serif",x=k(n,v),b=function(t,e,i){var n=k(i,"12px sans-serif")+l,o="";if(!t)return o;var r=t.x+t.width-e.x,a=e.y-t.y;return r>=n&&a>=s&&(o="TOP_RIGHT"),r>=n+8&&a<s&&(o="TOP_RIGHT"),r<n&&a>=s&&(o="TOP_LEFT"),r<n+8&&a<s&&(o="TOP_LEFT"),o}(e,g,n),m=e;if(p)x=k((y=p({xValue:i.xValue,yValue:i.yValue})).xValue,v)+k(" ",v)+k(y.yValue,v);switch(t.beginPath(),b){case"TOP_RIGHT":m={x:g.x,y:g.y-a,width:x+c,height:s},t.moveTo(m.x,m.y),t.lineTo(m.x+m.width,m.y),t.lineTo(m.x+m.width,m.y+m.height),t.lineTo(m.x+8,m.y+m.height),t.lineTo(g.x,g.y),K(t,o,r,f),Q(t,n,v,{x:m.x+l,y:m.y+u},y,d);break;case"TOP_LEFT":m={x:g.x-x-c,y:g.y-a,width:x+c,height:s},t.moveTo(m.x,m.y),t.lineTo(m.x+m.width,m.y),t.lineTo(m.x+m.width,m.y+m.height+h),t.lineTo(m.x+m.width-h,m.y+m.height),t.lineTo(m.x,m.y+m.height),K(t,o,r),Q(t,n,v,{x:m.x+l,y:m.y+u},y,d);break;case"BUTTON_LEFT":m={x:g.x-x-c-h,y:g.y,width:x+c+h,height:s},t.moveTo(m.x,m.y),t.lineTo(m.x+m.width,m.y),t.lineTo(m.x+m.width-h,m.y+h),t.lineTo(m.x+m.width-h,m.y+m.height),t.lineTo(m.x,m.y+m.height),K(t,o,r),Q(t,n,v,{x:m.x+l,y:m.y+u},y,d);break;case"BUTTON_RIGHT":m={x:g.x,y:g.y,width:x+c+h,height:s},t.moveTo(m.x,m.y),t.lineTo(m.x+m.width,m.y),t.lineTo(m.x+m.width,m.y+m.height),t.lineTo(m.x+h,m.y+m.height),t.lineTo(m.x+h,m.y+h),K(t,o,r),Q(t,n,v,{x:m.x+l+h,y:m.y+u},y,d)}}}function J(t){for(var e,i,n,o,r=[],a=0;a<t.length;a++){var s=t[a];s&&null!=s.y?null!=i?s.y>i.y?(i=s,n=null):s.y<e.y?(e=s,n=s):n=s:null!=e?s.y>=e.y?i=s:(i=e,e=s):null==o?o=s:null==e&&(e=s):(null!=o&&(r.push(o),o=null),null!=i?(i.x<e.x?(r.push(i),r.push(e)):(r.push(e),r.push(i)),e=null,i=null):null!=e&&(r.push(e),e=null),null!=n&&(r.push(n),n=null),null==t[a+1]&&a!=t.length-1||r.push(s))}return null!=o&&r.push(o),null!=i?i.x<e.x?(r.push(i),r.push(e)):(r.push(e),r.push(i)):null!=e&&r.push(e),null!=n&&r.push(n),r}function tt(t,e,i,n,r){void 0===r&&(r=!1);var a=t||[];i=i||0,n=n||a.length;var s=[];if((a=a.slice(i,n+1)).length>0){s=new Array(a.length);for(var h=0;h<a.length;h++){var c=Object(o.convertToNum)(a[h]);s[h]={x:h,y:c,index:h+i}}}return r?function(t,e){if(!t||isNaN(e)||0==e)return t;var i=Math.floor(t.length/e);if(i<5)return t;for(var n=Math.ceil(t.length/i),o=[],r=0;r<n;r++){var a=r*i,s=(r+1)*i;s=s>t.length?t.length:s;var h=J(t.slice(a,s));o=o.concat(h)}return o}(s,e):s}function et(t,e,i,n){void 0===i&&(i={horizontal:"left",vertical:"top"}),void 0===n&&(n={horizontal:"left",vertical:"top"});var o=t.x,r=t.y,a=i.horizontal,s=i.vertical;switch(t.width<e.width&&(a=n.horizontal),t.height<e.height&&(s=n.vertical),a){case"middle":o=t.x+(t.width-e.width)/2;break;case"right":o=t.x-(t.width-e.width);break;default:o=t.x}switch(s){case"middle":r=t.y+(t.height-e.height)/2;break;case"bottom":r=t.y+(t.height-e.height);break;default:r=t.y}return{x:o,y:r}}function it(t,e,i,n,o){var r=t.width,a=t.height,s=e,h=i;return"left"==n?s=e:"middle"==n?s=e-r/2:"right"==n&&(s=e-r),"top"==o?h=i:"middle"===o?h=i-a/2:"bottom"==o&&(h=i-a),{x:s,y:h}}function nt(t,e){return{paddingTop:t.y-e.y,paddingLeft:t.x-e.x,paddingRight:e.x+e.width-t.x-t.width,paddingBottom:e.y+e.height-t.y-t.height}}function ot(t,e){return{x:t.x+e.paddingLeft,y:t.y+e.paddingTop,width:t.width-e.paddingLeft-e.paddingRight,height:t.height-e.paddingTop-e.paddingBottom}}function rt(t,e){var i=e.paddingLeft,n=void 0===i?0:i,o=e.paddingRight,r=void 0===o?0:o,a=e.paddingTop,s=void 0===a?0:a,h=e.paddingBottom,c=void 0===h?0:h;return{x:t.x-n,y:t.y-s,width:t.width+n+r,height:t.height+s+c}}function at(t,e,i){var n=W("...",e).width||0;if(n>i)return"";if(i>W(t,e).width)return t;for(var o=i-n,r=0,a=t.length,s=Math.round((r+a)/2),h=s;r<a;){W(t.substring(0,s),e).width>o?a=s-1:(h=s,r=s+1),s=Math.round((r+a)/2)}return 0==a?o>0?"...":"":t.substring(0,h)+"..."}function st(t,e,i){if(void 0===i&&(i=!1),e&&e[0]){i||t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++){var o=e[n];t.lineTo(o.x,o.y)}return!0}return!1}function ht(t,e,i){void 0===i&&(i=!1);var n=t.concat(Object(o.cloneArray)(e).reverse()),r=n[0],a=n[n.length-1];return r&&a&&i&&(Object(o.compareObjByKeys)(r,a,["x","y"])||n.push(Object.assign(n[0]))),n}function ct(t,e){var i=Object(n.i)(t[0],t[1]),r=Object(n.b)(i),a=e/2;if(Object(o.checkPoint)(r)){var s=t.map(function(t){return Object(n.f)(t,Object(n.d)(r,a))}),h=t.map(function(t){return Object(n.f)(t,Object(n.d)(r,-a))});return[s[0],s[1],h[1],h[0]]}}function lt(t){return t instanceof HTMLCanvasElement?t.getContext("2d"):null}},function(t,e,i){"use strict";function n(t,e){return new c([[1,0,0],[0,1,0],[t,e,1]])}function o(t,e){return new c([[t=t||1,0,0],[0,e=e||1,0],[0,0,1]])}function r(t){var e=Math.sin(t),i=Math.cos(t);return new c([[i,e,0],[-e,i,0],[0,0,1]])}function a(t){var e=h(t.data,t.data.length);return 0==e?new c:function(t,e){for(var i=new c,n=t.data,o=0;o<n.length;o++)for(var r=0;r<n[o].length;r++)i.data[o][r]=n[o][r]*e;return i}(function(t,e){for(var i=new c,n=0;n<e;n++)for(var o=0;o<e;o++){var r=s(t.data,n,o),a=h(r,e-1);i.data[o][n]=(o+n)%2==0?a:-a}return i}(t,t.data.length),1/e)}function s(t,e,i){for(var n=[],o=0;o<t.length;o++)if(o!=e){for(var r=[],a=0;a<t[o].length;a++)a!=i&&r.push(t[o][a]);n.push(r)}return n}function h(t,e){var i;if(2==e)return t[0][0]*t[1][1]-t[0][1]*t[1][0];if(e>2){i=0;for(var n=0;n<e;n++){for(var o=[],r=1;r<e;r++){for(var a=[],s=0;s<e;s++)s!=n&&a.push(t[r][s]);o.push(a)}var c=t[0][n]*h(o,e-1);n%2==1&&(c=-c),i+=c}return i}}i.d(e,"f",function(){return n}),i.d(e,"e",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"a",function(){return c}),i.d(e,"h",function(){return u}),i.d(e,"i",function(){return p}),i.d(e,"b",function(){return d}),i.d(e,"g",function(){return f});var c=function(){function t(t){if(void 0===t&&(t=void 0),this.data=[[1,0,0],[0,1,0],[0,0,1]],t)for(var e=0;e<3;e++)for(var i=0;i<3;i++)this.data[e][i]=t[e][i]}return t.prototype.clone=function(){for(var e=[],i=0;i<this.data.length;i++){for(var n=[],o=this.data[i],r=0;r<o.length;r++)n.push(o[r]);e.push(n)}return new t(e)},t}();function l(t,e){for(var i=new c,n=0;n<3;n++)for(var o=0;o<3;o++){i.data[n][o]=0;for(var r=0;r<3;r++)i.data[n][o]=i.data[n][o]+t.data[n][r]*e.data[r][o]}return i}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t;if(i&&i.length>1){for(var n=i[0],o=1;o<i.length;o++)n=l(n,i[o]);return n}}function p(t,e){return{x:t.x*e.data[0][0]+t.y*e.data[1][0]+e.data[2][0],y:t.x*e.data[0][1]+t.y*e.data[1][1]+e.data[2][1]}}function d(t,e,i,a){void 0===a&&(a=!1);var s=t.width,h=t.height;if(a){var l=s;s=h,h=l}var p=0==t.height||0==e.height?0:e.height/h,d=0==t.width||0==e.width?0:e.width/s,f=n(-t.x,-t.y),g=o(d,p),y=n(e.x,e.y),v=new c;return i&&(v=new c([[1,0,0],[0,-1,0],[0,0,1]])),a&&(v=r(-Math.PI/2)),v=u(f,v,g,y)}function f(t,e){if(t===e)return!0;if(null==t&&null==e)return!0;if(null!=t&&null!=e){if(t.data.length!=e.data.length)return!1;for(var i=t.data,n=e.data,o=0;o<i.length;o++){var r=i[o],a=n[o];if(r.length!=a.length)return!1;for(var s=0;s<r.length;s++){if(r[s]!==a[s])return!1}}return!0}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LIQUID_DEFAULT_COLOR="#31D78E";var n=e.DEFAULT_FONT_FAMILY='"microsoft yahei",sans-serif';e.UW_CHART="uw-chart",e.NORMAL="normal",e.DARK="dark",e.DASHED="dashed",e.SOLID="solid",e.CIRCLE="circle",e.NONE="none",e.DEFAULT_FONT="12px "+n,e.AXIS_TYPE={VALUE:"value",CATEGORY:"category"},e.FLOAT={LEFT:"left",RIGHT:"right"},e.TWO_PI=2*Math.PI,e.SERIE_SHOW_TYPE={LINE:"line",BAR:"bar",SCATTER:"scatter"},e.TEXT_ALIGN={LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"},e.UCHART_EVENT_ID_STRING="_uchart_event_instanceId"},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"i",function(){return r}),i.d(e,"f",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return h}),i.d(e,"h",function(){return c}),i.d(e,"g",function(){return l}),i.d(e,"c",function(){return u}),i.d(e,"b",function(){return p});var n=i(0);function o(t,e){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function r(t,e){return{x:t.x-e.x,y:t.y-e.y}}function a(t,e){return{x:t.x+e.x,y:t.y+e.y}}function s(t,e){return{x:e*t.x,y:e*t.y}}function h(t,e){return r(e,t)}function c(t){var e=o(t,{x:0,y:0});if(e>0)return{x:t.x/e,y:t.y/e}}function l(t,e){return t.x*e.x+t.y*e.y}function u(t,e){var i=(t.x*e.x+t.y*e.y)/(Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(e.x*e.x+e.y*e.y));return Math.acos(i)}function p(t){if(Object(n.checkPoint)(t)&&(0!=t.x||0!=t.y))return 0==t.x?{x:1,y:0}:0==t.y?{x:0,y:1}:c({x:1,y:-t.x/t.y})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={LightPink:"#FFB6C1",Pink:"#FFC0CB",Crimson:"#DC143C",LavenderBlush:"#FFF0F5",PaleVioletRed:"#DB7093",HotPink:"#FF69B4",DeepPink:"#FF1493",MediumVioletRed:"#C71585",Orchid:"#DA70D6",Thistle:"#D8BFD8",plum:"#DDA0DD",Violet:"#EE82EE",Magenta:"#FF00FF",Fuchsia:"#FF00FF",DarkMagenta:"#8B008B",Purple:"#800080",MediumOrchid:"#BA55D3",DarkVoilet:"#9400D3",DarkOrchid:"#9932CC",Indigo:"#4B0082",BlueViolet:"#8A2BE2",MediumPurple:"#9370DB",MediumSlateBlue:"#7B68EE",SlateBlue:"#6A5ACD",DarkSlateBlue:"#483D8B",Lavender:"#E6E6FA",GhostWhite:"#F8F8FF",Blue:"#0000FF",MediumBlue:"#0000CD",MidnightBlue:"#191970",DarkBlue:"#00008B",Navy:"#000080",RoyalBlue:"#4169E1",CornflowerBlue:"#6495ED",LightSteelBlue:"#B0C4DE",LightSlateGray:"#778899",SlateGray:"#708090",DoderBlue:"#1E90FF",AliceBlue:"#F0F8FF",SteelBlue:"#4682B4",LightSkyBlue:"#87CEFA",SkyBlue:"#87CEEB",DeepSkyBlue:"#00BFFF",LightBLue:"#ADD8E6",PowDerBlue:"#B0E0E6",CadetBlue:"#5F9EA0",Azure:"#F0FFFF",LightCyan:"#E1FFFF",PaleTurquoise:"#AFEEEE",Cyan:"#00FFFF",Aqua:"#00FFFF",DarkTurquoise:"#00CED1",DarkSlateGray:"#2F4F4F",DarkCyan:"#008B8B",Teal:"#008080",MediumTurquoise:"#48D1CC",LightSeaGreen:"#20B2AA",Turquoise:"#40E0D0",Auqamarin:"#7FFFAA",MediumAquamarine:"#00FA9A",MediumSpringGreen:"#F5FFFA",MintCream:"#00FF7F",SpringGreen:"#3CB371",SeaGreen:"#2E8B57",Honeydew:"#F0FFF0",LightGreen:"#90EE90",PaleGreen:"#98FB98",DarkSeaGreen:"#8FBC8F",LimeGreen:"#32CD32",Lime:"#00FF00",ForestGreen:"#228B22",Green:"#008000",DarkGreen:"#006400",Chartreuse:"#7FFF00",LawnGreen:"#7CFC00",GreenYellow:"#ADFF2F",OliveDrab:"#556B2F",Beige:"#6B8E23",LightGoldenrodYellow:"#FAFAD2",Ivory:"#FFFFF0",LightYellow:"#FFFFE0",Yellow:"#FFFF00",Olive:"#808000",DarkKhaki:"#BDB76B",LemonChiffon:"#FFFACD",PaleGodenrod:"#EEE8AA",Khaki:"#F0E68C",Gold:"#FFD700",Cornislk:"#FFF8DC",GoldEnrod:"#DAA520",FloralWhite:"#FFFAF0",OldLace:"#FDF5E6",Wheat:"#F5DEB3",Moccasin:"#FFE4B5",Orange:"#FFA500",PapayaWhip:"#FFEFD5",BlanchedAlmond:"#FFEBCD",NavajoWhite:"#FFDEAD",AntiqueWhite:"#FAEBD7",Tan:"#D2B48C",BrulyWood:"#DEB887",Bisque:"#FFE4C4",DarkOrange:"#FF8C00",Linen:"#FAF0E6",Peru:"#CD853F",PeachPuff:"#FFDAB9",SandyBrown:"#F4A460",Chocolate:"#D2691E",SaddleBrown:"#8B4513",SeaShell:"#FFF5EE",Sienna:"#A0522D",LightSalmon:"#FFA07A",Coral:"#FF7F50",OrangeRed:"#FF4500",DarkSalmon:"#E9967A",Tomato:"\t#FF6347",MistyRose:"#FFE4E1",Salmon:"#FA8072",Snow:"#FFFAFA",LightCoral:"#F08080",RosyBrown:"#BC8F8F",IndianRed:"#CD5C5C",Red:"#FF0000",Brown:"#A52A2A",FireBrick:"#B22222",DarkRed:"#8B0000",Maroon:"\t#800000",White:"#FFFFFF",WhiteSmoke:"#F5F5F5",Gainsboro:"#DCDCDC",LightGrey:"#D3D3D3",Silver:"#C0C0C0",DarkGray:"#A9A9A9",Gray:"#808080",DimGray:"#696969",Black:"#000000"},o={};for(var r in n)o[r]=n[r],o[r.toLowerCase()]=n[r].toLowerCase(),o[r.toUpperCase()]=n[r];e.common={BIG_FONT:"60px sans-serif",FONT:"14px/24px sans-serif",SMALL_FONT:"12px/24px sans-serif"},e.setCursorById=function(t,e){t.style.cursor=e},e.transColor=function(t){return t=t.toUpperCase(),o[t]}},function(t,e,i){"use strict";i.r(e);var n=i(3),o={UCharts:{connectGroupIds:{},groupId2DataZoom:{},connect:function(t){this.connectGroupIds[t]=!0},disconnect:function(t){delete this.connectGroupIds[t],o.Event.removeAll(o.EVENT_IDS.mousemove),o.Event.removeAll(o.EVENT_IDS.mouseleave)},setDataZoom:function(t,e){this.groupId2DataZoom[t]=e},getDataZoom:function(t){return this.groupId2DataZoom[t]},deleteDataZoom:function(t){delete this.groupId2DataZoom[t]}},EVENT_IDS:{click:"ucharts.click",lineClick:"ucharts.lineClick",mousemove:"ucharts.mousemove",mouseleave:"ucharts.mouseleave",leaveChart:"ucharts.leave",dataZoom:"ucharts.dataZoom",dataZoomReset:"ucharts.dataZoomReset",tooltipShow:"tooltip.show",tooltipHide:"tooltip.hide",didMount:"uchart.didMount"},Event:function(){var t={};return{listen:function(e,i,o,r){var a;t[e]||(t[e]=((a={})[o]=[],a)),t[e][o]||(t[e][o]=[]),r&&(i[n.UCHART_EVENT_ID_STRING]=r),t[e][o].push(i)},trigger:function(){var e=this,i=Array.prototype.shift.call(arguments),n=t[i];if(n){var r=arguments;if(r&&r[0]&&r[0].groupId){var a=r[0].groupId;if(n&&n[a]){var s=n[a];if(!s||0===s.length)return!1;for(var h,c=0;h=s[c++];)h.apply(this,r)}o.UCharts.disconnect(r[0].groupId)}else{Object.keys(o.UCharts.connectGroupIds).forEach(function(t){if(n&&n[t]){var i=n[t];if(!i||0===i.length)return!1;for(var o,a=0;o=i[a++];)o.apply(e,r)}})}}},remove:function(e,i,n){var o=t[e];if(o&&o[n]){var r=o[n];if(!r)return!1;if(i)for(var a=r.length-1;a>=0;a--){r[a]===i&&r.splice(a,1)}else r&&(r.length=0)}},hasListen:function(e){return!!t[e]},removeAll:function(e){var i=t[e];i&&(i={})},removeByInstanceId:function(e){for(var i in t){var o=t[i];if(o)for(var r in o){var a=o[r];if(a instanceof Array)for(var s=a.length-1;s>=0;s--){var h=a[s];h&&h[n.UCHART_EVENT_ID_STRING]==e&&a.splice(s,1)}}}}}}()};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultOption=function(){return{toolbox:{feature:{dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"},iconStyle:{color:"#0000ff",borderColor:void 0,borderWidth:1,shadowBlur:0,shadowColor:void 0,shadowOffsetX:0,shadowOffsetY:0,opacity:1,align:"right"}}}},yAxis:{show:!0,type:"value",inverse:!1,splitNumber:5,leaveSpace:!0,interval:1,axisLine:{show:!0,lineStyle:{color:"#f2f2f2",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#f2f2f2",width:1,type:"solid"}},axisLabel:{show:!0,inside:!1,color:"#000",fontStyle:"normal",fontWeight:"normal",fontFamily:n.DEFAULT_FONT_FAMILY,fontSize:"12",margin:8},splitLine:{show:!0,lineStyle:{color:["#f2f2f2"],width:1,type:"solid"}}},xAxis:{show:!0,type:"category",inverse:!1,splitNumber:5,interval:1,axisLine:{show:!0,lineStyle:{color:"#f2f2f2",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#f2f2f2",width:1,type:"solid"}},axisLabel:{show:!0,inside:!1,color:"#000",fontStyle:"normal",fontWeight:"normal",fontFamily:n.DEFAULT_FONT_FAMILY,fontSize:"12",margin:8},splitLine:{show:!0,lineStyle:{color:["#f2f2f2"],width:1,type:"solid"}}},tooltip:{show:!0,styles:{backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:"0px",borderColor:"rgb(51, 51, 51)",borderRadius:"4px",color:"rgb(255,255,255)",font:'14px/24px "sans-serif"',padding:"5px",boxShadow:"none"},axisPointer:{show:!0,type:"line",shadowStyle:{opacity:.5,color:"#e5e5e5",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},lineStyle:{opacity:1,color:"#bbbbbb",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,width:2}}},series:{markLine:o(),label:{formatters:{hover:function(t){return[{text:t.percent+"%",font:"24px",color:"red"},{text:"\n \n",font:"12px"},{text:t.name,font:"24px "+n.DEFAULT_FONT_FAMILY,color:t.color}]},normal:function(t){return[{text:t.total,font:"24px",color:"black"}]}}}},markLine:o()}},e.getDefaultMarkLine=o,e.getLiquidFillOption=function(){return{series:{radius:"40%",center:["50%","50%"],backgroundStyle:{borderColor:n.LIQUID_DEFAULT_COLOR,borderWidth:4,shadowColor:"rgba(0, 0, 0, 0.4)",shadowBlur:20},waveAnimation:!0}}};var n=i(3);function o(){return{symbol:n.CIRCLE,lineStyle:{normal:{color:"#e54545",width:1,type:n.DASHED,opacity:.8}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTCloudOption=function(){return{color:["#529DFF","#78BD6D","#63CDD6","#DBBA37","#7269F0","#37BF86","#FF7F47","#F54E4E","#A463D6","#DB4B8E"],toolbox:{feature:{dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"},iconStyle:{color:"#0000ff",borderColor:void 0,borderWidth:1,shadowBlur:0,shadowColor:void 0,shadowOffsetX:0,shadowOffsetY:0,opacity:1,align:"right"}}}},yAxis:{axisLine:{show:!1,lineStyle:{color:"#F2F2F2"}},axisTick:{show:!1,inside:!0,lineStyle:{color:"#F2F2F2"}},axisLabel:{inside:!0,color:"#888888",margin:0},splitLine:{lineStyle:{color:["#f2f2f2"]}}},xAxis:{axisLine:{lineStyle:{color:"#F2F2F2"}},axisTick:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#888888"},splitLine:{show:!0,lineStyle:{color:["#F2F2F2"]}}},tooltip:{show:!0,styles:{borderWidth:"0px",borderColor:"rgb(51, 51, 51)",borderRadius:"4px",display:"block",color:"#000000",font:"14px/24px "+r,padding:"5px",backgroundColor:"#ffffff",border:"solid 1px #ccc",boxShadow:"0px 4px 4px -2px rgba(208,208,208,0.7)"},formatter:function(t){var e=[],i=[],o=[],r=[],a=[],s=[],h=!1,c={pie:[],line:[],unknow:[],bar:[],radar:[],swimLane:[],hbar:[],heatMap:[]};t&&t.length>0&&t.forEach(function(t){t&&("pie"===t.seriesType?c.pie.push(t):"line"===t.seriesType?c.line.push(t):"bar"===t.seriesType?c.bar.push(t):"radar"===t.seriesType?c.radar.push(t):"swimLane"===t.seriesType?c.swimLane.push(t):"hbar"===t.seriesType?c.hbar.push(t):"heatMap"===t.seriesType&&c.heatMap.push(t))});c.line.forEach(function(t){e.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"seriesName","")+"</span></td><td ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),c.hbar.forEach(function(t){t.info.forEach(function(e,i){var o=(0,n.getByPath)(t,["values"],[]),r="";(0,n.isNum)(r)||(r=(0,n.get)(e,"3","")),1==o.length&&0===r&&(0,n.isNum)(o[0])&&(r=o[0]),a.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+(0,n.get)(e,"0","")+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+(0,n.get)(e,"1","")+"</span></td><td ><span style='padding-left:1em;#000;font-family:PingFangSC-Semibold;'>"+(0,n.get)(e,"2","")+"/"+r+" "+t.unit||!1)})});var l="<table style='font-family:Roboto,San Francisco,Helvetica Neue,Helvetica,Arial,PingFangSC-Light,Hiragina Sans GB,WenQuanYi Micro Hei,microsoft yahei ui,microsoft yahei,sans-serif'><tbody>",u=null;e.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#000;'>"+c.line[0].axisValueLabel+"</span></td></tr>"+e.join("")),c.pie.forEach(function(t){i.push("<tr><td colspan='2'><span style='color:#000;'>"+(0,n.get)(t,"seriesName","")+'</span></td></tr><tr><td><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+t.name+"</span></td><td  ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+t.value+"("+t.percent+"%)</span></td></tr>")}),c.radar.forEach(function(t){o.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+t.label+"</span></td><td ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),c.bar.forEach(function(t,e){0===e&&i.push("<tr><td colspan='2'><span style='color:#000;'>"+t.axisValueLabel+"</span></td></tr>"),i.push('<tr><td><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"seriesName","")+"</span></td><td  ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+t.value+"</span></td></tr>")}),c.swimLane.forEach(function(t){r.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#000;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"label","")+"</span></td><td ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),r.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#000;'>"+c.swimLane[0].axisValueLabel+"</span></td></tr>"+r.join(""));var p=function(t,e){return"<tr><td ><span style='color:#000;font-family:PingFangSC-Regular;'>"+(t||"")+"</span></td><td ><span style='padding-left:1em;color:#000;font-family:PingFangSC-Semibold;'>"+(e||"")+"<span></td></tr>"};if(c.heatMap.forEach(function(t){var e=(0,n.get)(t,"items",[]);e.forEach(function(t){s.push(p("buckets",t.buckets[0]+"-"+t.buckets[1])),s.push(p("count",t.count))})}),i.length>0&&(h=!0,u=i.join("")),o.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#000;'>"+c.radar[0].seriesName+"</span></td></tr>"+o.join("")),a.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#000;'>"+c.hbar[0].seriesName+"</span></td></tr>"+a.join("")),s.length>0&&(h=!0,u="<tr><td colspan='2'><span style=\"display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:"+c.heatMap[0].color+";\"></span><span style='color:#000;'>"+c.heatMap[0].axisValue+"</span></td></tr>"+s.join("")),h)return u&&(l+=u),l+"</tbody></table>"}},series:{markLine:a()},markLine:a()}},e.getTCloudMarkLine=a;var n=i(0),o=i(3),r="Roboto,San Francisco,Helvetica Neue,Helvetica,Arial,PingFangSC-Light,Hiragina Sans GB,WenQuanYi Micro Hei,microsoft yahei ui,microsoft yahei,sans-serif";function a(){return{symbol:o.NONE,lineStyle:{normal:{color:"#BCC2C8",width:1,type:o.DASHED,opacity:1}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNormalOption=function(){return{}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDarkOption=function(){return{backgroundColor:"#181B24",color:["#529DFF","#78BD6D","#63CDD6","#DBBA37","#7269F0","#37BF86","#FF7F47","#F54E4E","#A463D6","#DB4B8E"],toolbox:{feature:{dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"},iconStyle:{color:"#0000ff",borderColor:void 0,borderWidth:1,shadowBlur:0,shadowColor:void 0,shadowOffsetX:0,shadowOffsetY:0,opacity:1,align:"right"}}}},yAxis:{axisLine:{show:!1,lineStyle:{color:"#262E38"}},axisTick:{show:!1,inside:!0,lineStyle:{color:"#262E38"}},axisLabel:{inside:!0,color:"#81868C",margin:0},splitLine:{lineStyle:{color:["#262E38"]}}},xAxis:{axisLine:{lineStyle:{color:"#262E38"}},axisTick:{lineStyle:{color:"#262E38"}},axisLabel:{color:"#81868C"},splitLine:{show:!0,lineStyle:{color:["#262E38"]}}},legend:{color:"#81868C"},tooltip:{show:!0,styles:{backgroundColor:"#373E52",borderWidth:"0px",borderColor:"#252F3D",borderRadius:"4px",color:"#ffffff",font:'14px/24px "sans-serif"',padding:"5px",boxShadow:"none",border:"solid 1px #252F3D"},axisPointer:{show:!0,type:"line",shadowStyle:{opacity:.5,color:"#e5e5e5",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},lineStyle:{opacity:1,color:"#5C7699",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,width:2}},formatter:function(t){var e=[],i=[],o=[],r=[],a=[],s=[],h=!1,c={pie:[],line:[],unknow:[],bar:[],radar:[],swimLane:[],hbar:[],heatMap:[]};t&&t.length>0&&t.forEach(function(t){t&&("pie"===t.seriesType?c.pie.push(t):"line"===t.seriesType?c.line.push(t):"bar"===t.seriesType?c.bar.push(t):"radar"===t.seriesType?c.radar.push(t):"swimLane"===t.seriesType?c.swimLane.push(t):"hbar"===t.seriesType?c.hbar.push(t):"heatMap"===t.seriesType?c.heatMap.push(t):c.hbar.push(t))});c.line.forEach(function(t){e.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"seriesName","")+"</span></td><td ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),c.hbar.forEach(function(t){t.info.forEach(function(e,i){var o=(0,n.getByPath)(t,["values"],[]),r="";(0,n.isNum)(r)||(r=(0,n.get)(e,"3","")),1==o.length&&0===r&&(0,n.isNum)(o[0])&&(r=o[0]),a.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+(0,n.get)(e,"0","")+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+(0,n.get)(e,"1","")+"</span></td><td ><span style='padding-left:1em;#FFFFFF;font-family:PingFangSC-Semibold;'>"+(0,n.get)(e,"2","")+"/"+r+" "+t.unit||!1)})});var l="<table style='font-family:Roboto,San Francisco,Helvetica Neue,Helvetica,Arial,PingFangSC-Light,Hiragina Sans GB,WenQuanYi Micro Hei,microsoft yahei ui,microsoft yahei,sans-serif'><tbody>",u=null;e.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#FFFFFF;'>"+c.line[0].axisValueLabel+"</span></td></tr>"+e.join("")),c.pie.forEach(function(t){i.push("<tr><td colspan='2'><span style='color:#FFFFFF;'>"+(0,n.get)(t,"seriesName","")+'</span></td></tr><tr><td><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+t.name+"</span></td><td  ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+t.value+"("+t.percent+"%)</span></td></tr>")}),c.radar.forEach(function(t){o.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+t.label+"</span></td><td ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),c.bar.forEach(function(t,e){0===e&&i.push("<tr><td colspan='2'><span style='color:#FFFFFF;'>"+t.axisValueLabel+"</span></td></tr>"),i.push('<tr><td><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"seriesName","")+"</span></td><td  ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+t.value+"</span></td></tr>")}),c.swimLane.forEach(function(t){r.push('<tr><td ><span style="display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:'+t.color+";\"></span><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+(0,n.get)(t,"label","")+"</span></td><td ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+t.value+"<span></td></tr>")}),r.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#FFFFFF;'>"+c.swimLane[0].axisValueLabel+"</span></td></tr>"+r.join(""));var p=function(t,e){return"<tr><td ><span style='color:#FFFFFF;font-family:PingFangSC-Regular;'>"+(t||"")+"</span></td><td ><span style='padding-left:1em;color:#FFFFFF;font-family:PingFangSC-Semibold;'>"+(e||"")+"<span></td></tr>"};if(c.heatMap.forEach(function(t){var e=(0,n.get)(t,"items",[]);e.forEach(function(t){s.push(p("buckets",t.buckets[0]+"-"+t.buckets[1])),s.push(p("count",t.count))})}),i.length>0&&(h=!0,u=i.join("")),o.length>0&&(h=!0,u="<tr><td colspan='2'><span style='color:#FFFFFF;'>"+c.radar[0].seriesName+"</span></td></tr>"+o.join("")),a.length>0&&(h=!0,u=a.join("")),s.length>0&&(h=!0,u="<tr><td colspan='2'><span style=\"display:inline-block;margin-right:10px;border-radius:10px;width:10px;height:10px;background-color:"+c.heatMap[0].color+";\"></span><span style='color:#FFFFFF;'>"+c.heatMap[0].axisValue+"</span></td></tr>"+s.join("")),h)return u&&(l+=u),l+"</tbody></table>"}},series:{markLine:r()},markLine:r()}},e.getDarkMarkLine=r;var n=i(0),o=i(3);function r(){return{symbol:o.NONE,lineStyle:{normal:{color:"#5C7699",width:1,type:o.SOLID,opacity:1}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(13)),o=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}i(12);var a=o.default.UCharts;window.UWChart=n.default,window.UCharts=a,e.default=n.default},function(t,e,i){"use strict";!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),o=Math.max(0,16.7-(n-t)),r=window.setTimeout(function(){e(n+o)},o);return t=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i(7),r=i(8),a=i(9),s=i(10),h=i(3);var c=["#529DFF","#78BD6D","#63CDD6","#DBBA37","#7269F0","#37BF86","#FF7F47","#F54E4E","#A463D6","#DB4B8E"],l=function(){function t(){this.type=null,this.startIndex=-1,this.endIndex=-1,this.xStickCountMax=6,this.colorArray=[],this.getXAxis=function(t){void 0===t&&(t=0);var e=Object(n.get)(this.option,"xAxis",[]);return e instanceof Array||null==e||(e=[e]),e[t]},this.createXAxisLabels=function(t){var e=[];if(null==t)return e;for(var i=this._getXAxisLabelFormatter(),n=t.data||[],o=0;o<n.length;o++){var r=n[o];i?"number"==typeof(r=i(r,o))?e.push(r+""):"string"==typeof r&&e.push(r):e.push(r)}return e},this.getBackgroudImage=function(){return this.option.backgroundImage},this.getTitle=function(){return this.option.title},this.getGrid=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=void 0),!this.option.grid)return null;var i=this.option.grid.top,o=this.option.grid.bottom,r=this.option.grid.left,a=this.option.grid.right;return null!=t&&(r=Object(n.convertPercent)(t,r,0),a=Object(n.convertPercent)(t,a,0)),null!=e&&(o=Object(n.convertPercent)(e,o,0),i=Object(n.convertPercent)(e,i,0)),{paddingTop:i,paddingBottom:o,paddingLeft:r,paddingRight:a}}}return t.prototype.getOption=function(){return this.option},t.prototype.setOption=function(t,e){var i=this;void 0===t&&(t=void 0),void 0===e&&(e=null),this.setTheme(e),this.option=this.mergeOption(t,e),this.option&&this.option.xAxis&&this.option.xAxis.data&&this.option.xAxis.data.length>0&&(this.startIndex=0,this.endIndex=this.option.xAxis.data.length-1),this.option.color instanceof Array&&(this.colorArray=[],this.option.color.forEach(function(t){t&&i.colorArray.push(t)})),c.forEach(function(t){i.colorArray.indexOf(t)<0&&i.colorArray.push(t)})},t.prototype.setTheme=function(t){t!==h.DARK&&t!==h.NORMAL&&t!==h.UW_CHART&&(t=h.UW_CHART),this.theme=t},t.prototype.getTheme=function(){return this.theme},t.prototype.getPointSelectedAnimation=function(){return this.option.pointSelectedAnimation||!1},t.prototype.getClickEvent=function(){return this.option.onEvent&&this.option.onEvent.click?this.option.onEvent.click:null},t.prototype.getClickAttachmentEvent=function(){return this.option.onEvent&&this.option.onEvent.clickAttachment?this.option.onEvent.clickAttachment:null},t.prototype.getDBClickEvent=function(){return this.option.onEvent&&this.option.onEvent.dbclick?this.option.onEvent.dbclick:null},t.prototype.getClickBlankEvent=function(){return this.option.onEvent&&this.option.onEvent.clickBlank?this.option.onEvent.clickBlank:null},t.prototype.setIndexRange=function(t,e){this.startIndex=t,this.endIndex=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(t){this.size={width:t.width,height:t.height}},t.prototype.getIndexRange=function(){return{startIndex:this.startIndex,endIndex:this.endIndex}},t.prototype.getXAxisCount=function(t){return void 0===t&&(t=0),this.option.xAxis?this.option.xAxis instanceof Array?Object(n.get)(this.option.xAxis,t+".data.length",0):this.option.xAxis.data.length:0},t.prototype.getXAxisData=function(t){return void 0===t&&(t=0),this.option.xAxis?this.option.xAxis instanceof Array?Object(n.get)(this.option.xAxis,t+".data",[]):this.option.xAxis.data:[]},t.prototype.getOnEvent=function(t){return this.option.onEvent?this.option.onEvent[t]:null},t.prototype.getSeriesDataByIndex=function(t){return this.option.series&&this.option.series[t]&&this.option.series[t].data?this.option.series[t].data:[]},t.prototype.getSeriesNameByIndex=function(t){if(this.option.series&&this.option.series[t])return this.option.series[t]},t.prototype.getTwoSeriesMap=function(){var t={},e={};return Object(n.quicklyForEach)(this.option.series,function(i){var o=i.yAxisIndex||0,r=i.xAxisIndex||0,a=[r,o],s=[o,r],h=Object(n.getByPath)(t,a);h instanceof Array||(h=[],Object(n.setByPath)(t,a,h)),h.push(i);var c=Object(n.getByPath)(e,s);c instanceof Array||(c=[],Object(n.setByPath)(e,s,c)),c.push(i)}),{xFirstMap:t,yFirstMap:e}},t.prototype.axisClassify=function(){var e={value:{horizontal:[],vertical:[]},category:{horizontal:[],vertical:[]},horizontal:{value:[],category:[]},vertical:{value:[],category:[]}};return Object(n.quicklyForEach)(this.getFromOption("yAxis"),function(i,o){t.isCateory(i)?(Object(n.addIfAbsent)(e.category.vertical,o),Object(n.addIfAbsent)(e.vertical.category,o)):(Object(n.addIfAbsent)(e.value.vertical,o),Object(n.addIfAbsent)(e.vertical.value,o))}),Object(n.quicklyForEach)(this.getFromOption("xAxis"),function(i,o){t.isCateory(i)?(Object(n.addIfAbsent)(e.category.horizontal,o),Object(n.addIfAbsent)(e.horizontal.category,o)):(Object(n.addIfAbsent)(e.value.horizontal,o),Object(n.addIfAbsent)(e.horizontal.value,o))}),e},t.isCateory=function(t){if(t){if("category"===Object(n.getByPath)(t,["type"]))return!0;if(Object(n.getByPath)(t,["data"]))return!0}return!1},t.prototype.getColorByIndex=function(t){var e=t%this.colorArray.length;return this.colorArray[e]},t.prototype.getPieColorByIndex=function(t){var e=t%this.colorArray.length;return this.colorArray[e]},t.prototype.getValuesArray=function(){var t=[];if(this.option&&this.option.series)for(var e=0;e<this.option.series.length;e++)this.option.series[e]&&this.option.series[e].data&&t.push(this.option.series[e].data);return t},t.prototype.getSeries=function(){return this.option.series||[]},t.prototype.getDataZoom=function(){var t=this.option.dataZoom,e=0,i=100;if(t&&t[0]&&t[1]&&t[1].show){var n=t[0];return"number"==typeof n.start&&(e=n.start),"number"==typeof n.end&&(i=n.end),e=(e=Math.min(e,100))<0?0:e,i=Math.max(e,i),{start:e/100,end:(i=i>100?100:i)/100}}return null},t.prototype.getDataZoomResetLabel=function(){var t=this.option.dataZoom;return t&&t[1]&&t[1].resetText||"重置"},t.prototype.showResetBtn=function(){var t=this.option.dataZoom,e=Object(n.get)(t,"1"),i=!0;if(e){var o=Object(n.get)(e,"showResetBtn");i=void 0===o||o}return i},t.prototype._getYAxisLabelFormatter=function(t){if(void 0===t&&(t=0),this.option.yAxis&&this.option.yAxis.axisLabel&&"function"==typeof this.option.yAxis.axisLabel.formatter)return this.option.yAxis.axisLabel.formatter;var e=Object(n.get)(this.option,"yAxis"),i=e||{};return e instanceof Array||(i=[e]),e=i[t],Object(n.get)(e,"axisLabel.formatter")},t.prototype._getXAxisLabelFormatter=function(){if(this.option.xAxis&&this.option.xAxis.axisLabel&&"function"==typeof this.option.xAxis.axisLabel.formatter)return this.option.xAxis.axisLabel.formatter},t.prototype._getTooltip=function(){if(this.option.tooltip)return this.option.tooltip},t.prototype.getPipelineType=function(){return Object(n.get)(this.option,"series.type")},t.prototype.getFromOption=function(t,e){return void 0===e&&(e=void 0),Object(n.get)(this.option,t,e)},t.prototype.getInnerOptionByTheme=function(t){return t!=h.NORMAL&&t!=h.UW_CHART&&t!=h.DARK&&(t=h.UW_CHART),t==h.UW_CHART?Object(r.getTCloudOption)():t==h.DARK?Object(s.getDarkOption)():Object(a.getNormalOption)()},t.prototype.mergeOption=function(t,e){var i=this;if(!t)return{xAxis:{data:[]},yAxis:{data:[]},series:[]};var r=Object(n.clone)(t,!1),a=r.yAxis,s=r.xAxis,h=r.series;delete r.series,delete r.yAxis,delete r.xAxis;var c=Object(n.assign)(Object(o.getDefaultOption)(),this.getInnerOptionByTheme(e));this.handleFeature(c,r),r=Object(n.assign)(c,r);var l,u,p=[];return!a||a instanceof Array||(a=[a]),a instanceof Array&&a.forEach(function(t){var r=Object(n.clone)(t),a=r.data;delete r.data;var s=Object(n.assign)(Object(o.getDefaultOption)().yAxis,i.getInnerOptionByTheme(e).yAxis||{},r);null!=a&&(s.data=a),p.push(s)}),s instanceof Array||(s=[s]),s.forEach(function(t){if(l=l||[],t){var r=t.data;delete t.data;var a=Object(n.assign)(Object(o.getDefaultOption)().xAxis,i.getInnerOptionByTheme(e).xAxis,t);null!=r&&(a.data=r),l.push(a)}}),h instanceof Array||(h=[h]),u=[],h.forEach(function(t){var r=Object(n.clone)(t);if(r){var a;a="liquidFill"==Object(n.get)(r,"type")?Object(n.assign)(Object(o.getLiquidFillOption)().series,r):Object(n.assign)(Object(o.getDefaultOption)().series,i.getInnerOptionByTheme(e).series);var s=r.data;r.data&&delete r.data;var h=Object(n.assign)(a,r);null!=s&&(h.data=s),u.push(h)}}),h=u,a?r.yAxis=p:delete r.yAxis,s?r.xAxis=l:delete r.xAxis,h?r.series=h:delete r.series,r},t.prototype.handleFeature=function(t,e){Object(n.get)(e,"toolbox.feature.dataZoom")||Object(n.del)(t,"toolbox.feature.dataZoom")},t.prototype.getSerieMaxDataLength=function(){var t=this.getFromOption("series"),e=0;return Object(n.cloneArray)(t).forEach(function(t){e=Object(n.getMax)(Object(n.get)(t,"data.length"),e)}),e},t.prototype.destroy=function(){Object(n.quicklyForEach)(this.getFromOption("series"),function(t){Object(n.del)(t,"data")}),Object(n.deleteMapProperty)(this.option)},t}(),u=(function(){}(),function(){}(),i(1)),p=i(5),d=i(2),f=function(){function t(t,e,i,n,o,r,a,s,h,c,l,u){this.width=0,this.height=0,this.btnWidth=0,this.btnHeight=0,this.progressHeight=0,this.progressPadding=0,this.leftBtnValue=0,this.rightBtnValue=1,this.paddingRight=0,this._needRefresh=!0,this.option=null,this.width=o||0,this.topCanvas=t,this.height=r||0,this.btnWidth=l||10,this.btnHeight=u||r,this.progressHeight=a,this.progressPadding=.1*this.height,this.leftBtnValue=s||0,this.rightBtnValue=h||1,this.paddingRight=0,this.x=i||0,this.y=n||0,this.lastPost=null,this.selectedBtn,this.valueChangecallback=function(t){c(t)},this.mousedownListener=this.mousedownListener.bind(this),this.mousemoveListener=this.mousemoveListener.bind(this),this.mouseupListener=this.mouseupListener.bind(this),this.mouseleaveListener=this.mouseleaveListener.bind(this),this.option=null,this.optionManager=e,this._needRefresh=!0,this._inVisible=!1}return t.prototype.resize=function(t,e,i,n){this.width=i,this.height=n,this.x=t,this.y=e,this._needRefresh=!0},t.prototype.setBoundRect=function(t){this.boundRect=t},t.prototype.beforeDraw=function(t){this.boundRect&&t&&(t.save(),t.clearRect(this.boundRect.x,this.boundRect.y,this.boundRect.width,this.boundRect.height),t.restore())},t.prototype.isInLeftBtn=function(t,e){var i=this.x+this.leftBtnValue*this.getProgressLength(),n=this.y+(this.height-this.btnHeight)/2;return Object(u.C)({x:i,y:n,width:this.btnWidth,height:this.btnHeight},t,e)},t.prototype.isInRightBtn=function(t,e){var i=this.x+this.rightBtnValue*this.getProgressLength()+this.btnWidth,n=this.y+(this.height-this.btnHeight)/2;return Object(u.C)({x:i,y:n,width:this.btnWidth,height:this.btnHeight},t,e)},t.prototype.isInProgress=function(t,e){var i=this.x+this.btnWidth+this.getProgressLength()*this.leftBtnValue,n=this.y+this.progressPadding,o=(this.rightBtnValue-this.leftBtnValue)*this.getProgressLength(),r=this.height-2*this.progressPadding;return Object(u.C)({x:i,y:n,width:o,height:r},t,e)},t.prototype.getProgressLength=function(){return this.width-2*this.btnWidth-this.paddingRight},t.prototype.setCursorStyle=function(t,e,i){Object(u.C)(this.getRectExtend(),e,i)&&(this.isInLeftBtn(e,i)||this.isInProgress(e,i)||this.isInRightBtn(e,i)?Object(p.setCursorById)(t,"ew-resize"):Object(p.setCursorById)(t,"default"))},t.prototype.mousemoveListener=function(t){if(!this._inVisible){var e=(t=window.event||t).offsetX||t.layerX,i=t.offsetY||t.layerY;if(this.setCursorStyle(this.topCanvas,e,i),this.lastPost&&this.selectedBtn){var n=e-this.lastPost.x;if(0!==n){var o=n/this.getProgressLength();"left"===this.selectedBtn?(this.setLeftBtnValue(this.leftBtnValue+o),this._needRefresh=!0):"right"===this.selectedBtn?(this.setRightBtnValue(this.rightBtnValue+o),this._needRefresh=!0):"progress"===this.selectedBtn&&(o=o<0?this.leftBtnValue+o>=0?o:-this.leftBtnValue:this.rightBtnValue+o>=1?1-this.rightBtnValue:o,this.setLeftBtnValue(this.leftBtnValue+o),this.setRightBtnValue(this.rightBtnValue+o),this._needRefresh=!0),this.validate()&&(this.lastPost={x:e,y:i}),this.valueChangecallback()}}}},t.prototype.needRefresh=function(){return this._needRefresh},t.prototype.mouseleaveListener=function(){this.lastPost=null,this.selectedBtn=null},t.prototype.mousedownListener=function(t){var e=(t=window.event||t).offsetX||t.layerX,i=t.offsetY||t.layerY;this.lastPost={x:e,y:i},this.isInLeftBtn(e,i)?this.selectedBtn="left":this.isInRightBtn(e,i)?this.selectedBtn="right":this.isInProgress(e,i)?this.selectedBtn="progress":(this.selectedBtn=null,this.lastPost=null)},t.prototype.mouseupListener=function(){this.lastPost=null,this.selectedBtn=null},t.prototype.getBtnWidth=function(){return this.btnWidth},t.prototype.getBtnHeight=function(){return this.btnHeight},t.prototype.validate=function(){return this.leftBtnValue<=1&&this.leftBtnValue>=0&&this.rightBtnValue>=this.leftBtnValue&&this.rightBtnValue<=1},t.prototype.normalizeValue=function(){this.leftBtnValue<0?this.leftBtnValue=0:this.leftBtnValue>1?this.leftBtnValue=1:"number"!=typeof this.leftBtnValue&&(this.leftBtnValue=0),this.rightBtnValue<this.leftBtnValue?this.rightBtnValue=this.leftBtnValue:this.rightBtnValue>1?this.rightBtnValue=1:"number"!=typeof this.rightBtnValue&&(this.rightBtnValue=this.leftBtnValue)},t.prototype.setLeftBtnValue=function(t){t<0?t=0:t>this.rightBtnValue?t=this.rightBtnValue:t>1&&(t=1),this.leftBtnValue=t,this._needRefresh=!0},t.prototype.getLeftBtnValue=function(){return this.leftBtnValue},t.prototype.setRightBtnValue=function(t){t<0?t=0:t<this.leftBtnValue?t=this.leftBtnValue:t>1&&(t=1),this.rightBtnValue=t,this._needRefresh=!0},t.prototype.getRightBtnValue=function(){return this.rightBtnValue},t.prototype.getRectExtend=function(){return{x:this.x-10,y:this.y-10,width:this.width+20,height:this.height+20}},t.prototype.getRegion=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.repaint=function(){this._needRefresh=!0},t.prototype.setVisible=function(t){this._inVisible=!t,t&&(this._needRefresh=!0)},t.prototype.isVisible=function(){return!this._inVisible},t.prototype.draw=function(t){if(this._inVisible)this._needRefresh=!1;else{this.normalizeValue();var e=this.getProgressLength();this.drawBackground(t);var i=this.x+e*this.leftBtnValue,n=this.y+(this.height-this.btnHeight)/2;t.save(),t.beginPath(),Object(u.K)(t,i,n,this.btnWidth,this.btnHeight,5),t.closePath(),t.fillStyle="#fff",t.fill(),t.strokeStyle="#ccc",t.stroke(),t.restore();var o=this.x+this.btnWidth+e*this.rightBtnValue,r=this.y+(this.height-this.btnHeight)/2;t.save(),t.beginPath(),Object(u.K)(t,o,r,this.btnWidth,this.btnHeight,5),t.closePath(),t.fillStyle="#fff",t.fill(),t.strokeStyle="#ccc",t.stroke(),t.restore(),this._needRefresh=!1}},t.prototype.drawBackground=function(t){var e=this.optionManager.getSeriesDataByIndex(0),i=e.length-1,o=Object(n.getValueRange)([e]);i=i<0?0:i;var r={x:0,y:0,width:e.length-1,height:o.max-o.min},a={x:this.x+this.btnWidth,y:this.y+this.height-this.progressPadding,width:this.getProgressLength(),height:this.height-2*this.progressPadding},s=Object(d.b)(r,a,!0),h=Object(d.i)({x:0,y:0},s),c=Object(d.i)({x:e.length-1,y:0},s),l=[];if(e&&e.length>0){for(var u=0;u<e.length;u++){var p={x:u,y:e[u]},f=Object(d.i)(p,s);l.push(f)}t.save(),t.beginPath(),t.moveTo(h.x,h.y);for(u=0;u<l.length;u++)t.lineTo(l[u].x,l[u].y);t.lineTo(c.x,c.y),t.closePath(),t.fillStyle="#E7E7E7",t.globalAlpha=.8,t.fill(),t.restore(),t.save(),t.beginPath(),t.moveTo(l[0].x,l[0].y);for(u=0;u<l.length;u++)t.lineTo(l[u].x,l[u].y);t.strokeStyle="#D6D6D6",t.stroke(),t.closePath(),t.restore()}t.save(),t.beginPath(),t.rect(this.x+this.btnWidth,this.y+this.progressPadding,this.getProgressLength(),this.height-2*this.progressPadding),t.closePath(),t.strokeStyle="#D6DEE7",t.lineWidth=1,t.stroke(),t.restore(),t.save(),t.beginPath(),t.rect(this.x+this.btnWidth+this.getProgressLength()*this.leftBtnValue,this.y+this.progressPadding,this.getProgressLength()*(this.rightBtnValue-this.leftBtnValue),this.height-2*this.progressPadding),t.closePath(),t.fillStyle="#D6DEE7",t.globalAlpha=.5,t.fill(),t.restore()},t}(),g=function(){function t(){this.listenersMap={},this.mousemoveListener=this.mousemoveListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mouseleaveListener=this.mouseleaveListener.bind(this),this.mouseupListener=this.mouseupListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}return t.prototype.registerListener=function(t,e,i){if(void 0===i&&(i=null),t&&e)if(this.listenersMap[t]){var n=this.listenersMap[t];if(i){for(var o=0;o<n.length;o++){var r=n[o];if(r.listener===e&&r.context===i)return}n.push({listener:e,context:i})}else n.push({listener:e})}else this.listenersMap[t]=[],this.listenersMap[t].push({context:i,listener:e})},t.prototype.unRegisterListener=function(t,e,i){if(t)if(null==e)this.listenersMap[t]=[];else{for(var n=(this.listenersMap[t]||[]).concat(),o=n.length-1;o>=0;o--){var r=n[o];r.listener===e&&r.context===i&&n.splice(o,1)}this.listenersMap[t]=n}},t.prototype.dispatchPropertyChangeEvent=function(t){this._dispatchEvent("propertyChange",t)},t.prototype.mousemoveListener=function(t){t=window.event||t,this._dispatchEvent("mousemove",t)},t.prototype.mousedownListener=function(t){t=window.event||t,this._dispatchEvent("mousedown",t)},t.prototype.mouseleaveListener=function(t){t=window.event||t,this._dispatchEvent("mouseleave",t)},t.prototype.mouseupListener=function(t){t=window.event||t,this._dispatchEvent("mouseup",t)},t.prototype.mousewheelListener=function(t){t=window.event||t,this._dispatchEvent("mousewheel",t)},t.prototype._dispatchEvent=function(t,e){(this.listenersMap[t]||[]).concat().forEach(function(t){if(t.context)t.listener.call(t.context,e);else{var i=window||t;t.listener.call(i,e)}})},t.prototype.destroy=function(){Object(n.deleteMapProperty)(this.listenersMap)},t}();function y(t){return{x:t.offsetX||t.layerX,y:t.offsetY||t.layerY}}var v=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},x=function(){function t(t){this.tipContainer=t,this.font=p.common.BIG_FONT,this.chartDom=t&&t.chartDom}return t.prototype.show=function(t,e,i,o,r,a){if(Object(n.get)(i,"length")<1)this.hide();else{this.x=t,this.y=e;var s,h,c=this.chartDom.getBoundingClientRect().left+document.documentElement.scrollLeft,l=this.chartDom.getBoundingClientRect().top+document.documentElement.scrollTop,u=t+(o=o&&"number"==typeof o?o:0)+c,p=e+o+l,d=a&&a._getTooltip()?a._getTooltip():{show:!0};d.enterable&&(this.enterable=d.enterable),this.sortType=d.sortType||void 0;for(var f=0;f<i.length;f++){var g=i[f];!g||Object(n.get)(g,"items.length")<1||((this.sortType&&"ascend"===this.sortType||"descend"===this.sortType)&&(g.items=g.items.sort(Object(n._compare)("value",this.sortType))),h=v(g.items),"function"==typeof d.formatter&&0!=d.show&&(s=d.formatter(g.items)))}var y=this.tipContainer;if(s){y.innerHTML="";var x=function(t){var e=Object(n.assign)({},{borderWidth:"0px",borderColor:"rgb(51, 51, 51)",borderRadius:"4px",display:"block",color:"black",font:'14px/24px "Microsoft YaHei"',padding:"5px",backgroundColor:"rgb(255,255,255)",border:"solid 1px #ccc",boxShadow:"0px 4px 4px -2px rgba(208,208,208,0.7)"},t),i=document.createElement("div");return b(i,e),i}(d.styles);y.appendChild(x),x.innerHTML=s,"block"!=y.style.display&&(y.style.display="block"),t>this.chartDom.clientWidth/2&&(u=t-y.clientWidth-o+c),e>this.chartDom.clientHeight/2&&(p=e-y.clientHeight-o+l);var m=[];d.position?("function"==typeof d.position?m=d.position({point:[t,e],params:h,tooltip:y,chartDom:this.chartDom,coordinateRect:this.coordinateRect})||[]:"object"==typeof d.position&&d.position.length&&(m=v(d.position)),m[0]||0===m[0]?"number"==typeof m[0]?y.style.left=m[0]+c+"px":"string"==typeof m[0]&&m[0].indexOf("%")>0&&(y.style.left=Number(m[0].replace("%",""))/100*this.chartDom.getBoundingClientRect().width+c+"px"):y.style.left=u+"px",m[1]||0===m[1]?"number"==typeof m[1]?y.style.top=m[1]+l+"px":"string"==typeof m[1]&&m[1].indexOf("%")>0&&(y.style.top=Number(m[1].replace("%",""))/100*this.chartDom.getBoundingClientRect().height+l+"px"):y.style.top=p+"px"):(y.style.left=u+"px",y.style.top=p+"px")}else this.hide()}},t.prototype.hide=function(){this.tipContainer&&(this.enterable?"none"==this.tipContainer.style.display||this.handleHover()||(this.tipContainer.style.display="none"):"none"!=this.tipContainer.style.display&&(this.tipContainer.style.display="none"))},t.prototype.handleHover=function(){if(this.tipContainer)return Object(u.C)({x:this.tipContainer.style.left,y:this.tipContainer.style.top,width:this.tipContainer.clientWidth,height:this.tipContainer.clientHeight},this.x,this.y)},t.prototype.handleData=function(t){var e={},i=[];return t&&t.items&&(t.items.forEach(function(t){if(t){var n=t.seriesType;if(n)e[n]=e[n]||[],e[n].push(t);else i.push(t)}}),e.line=e.line||[],i.forEach(function(t){t&&e.line.push(t)})),e},t}();function b(t,e){for(var i in e)t.style[i]=e[i]}var m=function(){function t(){this.visible=!0,this._animationFlag=!0,this.level=-1,this.priority=0,this.showType=[],this.getPointInfo=function(){},this.getHover=function(){},this.setRGBA=function(){},this.getPieClick=function(){},this._matrix=new d.a,this.id=Object(n.uuid)(),this._inverseMatrix=new d.a,this.properties={}}return t.prototype.getName=function(){return this.name},t.prototype.setName=function(t,e){void 0===e&&(e=!1),this.name!=t&&(this.name=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"name",source:this}))},t.prototype.getSeriesName=function(){return this.seriesName},t.prototype.setSeriesName=function(t){this.seriesName=t},t.prototype.getSeriesIndex=function(){return this.seriesIndex},t.prototype.setSeriesIndex=function(t){this.seriesIndex=t},t.prototype.setSeriesType=function(t){this.seriesType=t},t.prototype.getSeriesType=function(){return this.seriesType},t.prototype.setShowType=function(t){this.showType=t},t.prototype.getShowType=function(){return this.showType},t.prototype.setColor=function(t){this.color=t,this.initColor||(this.initColor=t)},t.prototype.getColor=function(){return this.color},t.prototype.setInitColor=function(t){this.initColor=t},t.prototype.getPriority=function(){return this.priority},t.prototype.setPrority=function(t,e){void 0===e&&(e=!1),this.priority!=t&&(this.priority=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"priority",source:this}))},t.prototype.getInitColor=function(){return this.initColor},t.prototype.setMatrix=function(t,e){if(void 0===e&&(e=!1),!Object(d.g)(this._matrix,t)){var i=t.clone();this._matrix=i,this._inverseMatrix=Object(d.c)(i),e||this.eventHandler.dispatchPropertyChangeEvent({type:"matrix",source:this})}},t.prototype.getMatrix=function(){return this._matrix()},t.prototype.getId=function(){return this.id},t.prototype.setId=function(t){return this.id=t},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(t,e){void 0===e&&(e=!1),this.visible!=t&&(this.visible=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"visible",source:this}))},t.prototype.setAnimation=function(t){this._animationFlag=t},t.prototype.isAnimation=function(){return this._animationFlag},t.prototype.getRect=function(){if(null!=this.x&&null!=this.y&&null!=this.width&&null!=this.height)return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.setZIndex=function(t,e){void 0===e&&(e=!1),t=parseInt(t,10)||0,this.zIndex!=t&&(this.zIndex=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"zIndex",source:this}))},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.buildAnimation=function(){},t.prototype.destroy=function(){},t.prototype.getProperty=function(t){return this.properties[t]},t.prototype.setProperty=function(t,e){null!=t&&(this.properties[t]=e)},t.prototype.setLevel=function(t){this.level=t},t.prototype.getLevel=function(){return this.level},t}(),O=function(){function t(t){this.additionalData={},this.point=t}return t.prototype.getPoint=function(){return this.point},t.prototype.setPoint=function(t){this.point=t},t.prototype.getXValue=function(){return this.xValue},t.prototype.setXValue=function(t){this.xValue=t},t.prototype.getYValue=function(){return this.yValue},t.prototype.setYValue=function(t){this.yValue=t},t.prototype.setValue=function(t){this.value=t},t.prototype.getValue=function(){return this.value},t.prototype.getIndex=function(){return this.index},t.prototype.setIndex=function(t){this.index=t},t.prototype.setAdditionalData=function(t){this.additionalData=t},t.prototype.getAdditionalData=function(){return this.additionalData},t.prototype.setAdditionalDataByKey=function(t,e){Object(n.set)(this.additionalData,t,e)},t.prototype.getAddionalDataByKey=function(t){return Object(n.get)(this.additionalData,t)},t}(),w=i(4),_=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),j=function(){return(j=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},P=function(t){function e(e,i,o){var r=t.call(this)||this;return r.pointInfoList=[],r.pointInfoListForDraw=[],r.smooth=!1,r.controlPoints=[],r.indexInterval=1,r.startIndex=0,r.endIndex=0,r._drawPercent=1,r.yAxisIndex=-1,r.xAxisIndex=-1,r._optimizate=!1,r._calculateTime=0,r.isSupportClip=!1,r.lineOpacity=1,r.connectType=null,r.barWidth=0,r.setRGBA=function(t,e){void 0===e&&(e=!1),t=Object(n.hex2Rgba)(t),r.color=t,e||r.eventHandler.dispatchPropertyChangeEvent({type:"color",source:r})},r.getPointInfo=function(t,e){if(1===r.pointInfoList.length&&r.footPoint)return r.pointInfoList[0];var i=r._getXAxisIndexByPosition(t,e);return r.pointInfoList[i]},r.optionManager=e,r.valueArray=r._convertValueArray(i.data),r.markLine=i.markLine,r._needCalculate=!0,r.eventHandler=o,r.zIndex=0,r.lineWidth=1,r}return _(e,t),e.prototype.setCoordinate=function(t){this._coordinate=t},e.prototype.setConnectType=function(t){this.connectType=t},e.prototype.setColor=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.color=t,this.hexColor=t,this.initColor&&!0!==i||(this.initColor=t),e||this.eventHandler.dispatchPropertyChangeEvent({type:"color",source:this})},e.prototype.hightLight=function(t){t?(this.setRGBA(this.color),this.setLevel(-1)):(this.color!==this.hexColor&&this.setColor(this.hexColor),this.setLevel(1))},e.prototype.downplay=function(){this.color!==this.initColor&&this.setColor(this.initColor,!1)},e.prototype.supportClip=function(t){this.isSupportClip=t},e.prototype.setInitColor=function(t){this.initColor=t},e.prototype.getInitColor=function(){return this.initColor},e.prototype.setLineWidth=function(t,e){void 0===e&&(e=!1),Object(n.isNum)(t)&&this.lineWidth!=t&&(this.lineWidth=parseInt(t,10)||1,e||this.eventHandler.dispatchPropertyChangeEvent({type:"lineWidth",source:this}))},e.prototype.setLineOpacity=function(t){this.lineOpacity=t},e.prototype.setXAxisIndex=function(t){this.xAxisIndex=t},e.prototype.getDataIndex=function(){return this.dataIndex},e.prototype.setDataIndex=function(t){this.dataIndex=t},e.prototype.getXAxisIndex=function(){return this.xAxisIndex},e.prototype.setYAxisIndex=function(t){this.yAxisIndex=t},e.prototype.getYAxisIndex=function(){return this.yAxisIndex},e.prototype.getPointInfoList=function(){return this.pointInfoList},e.prototype.getColor=function(){return this.color},e.prototype.setValues=function(t,e){void 0===e&&(e=!1),this.valueArray=this._convertValueArray(t),this._needCalculate=!0,e||this.eventHandler.dispatchPropertyChangeEvent({type:"valueArray",source:this})},e.prototype._convertValueArray=function(t){if(t&&t instanceof Array){var e=[];return t.forEach(function(t){e.push(Object(n.convertToNum)(t))}),e}},e.prototype.setIndexRange=function(t,e,i){void 0===i&&(i=!1),this.startIndex==t&&this.endIndex==e||(this._needCalculate=!0,i||this.eventHandler.dispatchPropertyChangeEvent({type:"IndexRange",source:this})),this.startIndex=t,this.endIndex=e},e.prototype.setSmooth=function(t,e){void 0===e&&(e=!1),this.smooth!=t&&(this.smooth=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"smooth",source:this}))},e.prototype.isSmooth=function(){return this.smooth},e.prototype.setAreaStyle=function(t,e){void 0===e&&(e=!1),this._areaStyle=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"areaStyle",source:this})},e.prototype.getAreaStyle=function(){return this._areaStyle},e.prototype.setStack=function(t){this._stack=t},e.prototype.getStack=function(){return this._stack},e.prototype.setAreaValueRange=function(t){this._areaValueRange={max:t.max,min:t.min}},e.prototype.getAreaValueRange=function(){return this._areaValueRange},e.prototype.setViewClip=function(t){this.viewClip=t},e.prototype.setOptimizate=function(t){this._optimizate=!("none"===t||!t)},e.prototype.isOptimization=function(){return this._optimizate},e.prototype.getColorFromThreshold=function(t,e,i,o,r,a,s){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===r&&(r=[]),void 0===s&&(s="red");var h=e[o],c=i[o],l=Object(n.simpleIndexOf)(r,n.CompareOperate.LT)>=0,u=Object(n.simpleIndexOf)(r,n.CompareOperate.GT)>=0,p=Object(n.isNum)(h)&&1==Object(n.operateCompare)(t,n.CompareOperate.GT,h),d=Object(n.isNum)(c)&&1==Object(n.operateCompare)(t,n.CompareOperate.LT,c);if(!u&&l){if(d)return s}else if(!l&&u){if(p)return s}else if(l&&u&&(d||p))return s;return a},e.prototype.calculatePointInfo=function(t,e){void 0===e&&(e=void 0);var i,o,r=(new Date).getTime(),a=[],s=[],h=[],c=[],l=Object(n.get)(this._areas,"values",[]),p=[],f=this.endIndex-this.startIndex+1,g=Object(d.i)({x:0,y:0},this._matrix),y=Object(d.i)({x:1,y:0},this._matrix);this.barWidth=Object(n.getMax)(Object(w.a)(g,y)/2,1);var v=this._coordinate.getVerticalAxisByIndex(this.getYAxisIndex()),x=this._coordinate.getHorizontalAxisByIndex(this.getXAxisIndex());o=(v.isValueAxis()?x:v)===x?x.axisParam:v.axisParam;var b,m,_=v.isValueAxis()?v:x,j=[n.CompareOperate.LT,n.CompareOperate.GT],P=!1;b=_.getFromAxisParam("threshold.upperBoundValue",[]),m=_.getFromAxisParam("threshold.lowerBoundValue",[]),j=_.getFromAxisParam("threshold.condition",j);var A=_.getScaleInfo();(b.length>0||m.length>0)&&(P=!0);var C=_.computeThresholdArray(b,m,j,A.maxSupport,A.minSupport);if(l){p=Object(u.F)(l,e,this.startIndex,this.endIndex,this.isOptimization())||[];var L=Object(n.getMin)(f,this.endIndex-this.startIndex+1);if(L>0){a=new Array(L);for(var I=new Array(L),F=0,S=this.startIndex+L,M=this.startIndex;M<S;M++){var R=l[M],E=this.valueArray[M];if(i=null,null!=R&&(i=Object(d.i)({x:F,y:R},this._matrix)),(N=new O(i)).setYValue(E),N.setValue(R),N.setIndex(M),I[F]=i,o&&(o.data&&N.setXValue(o.data[M]),o.description&&N.setAdditionalDataByKey("description",o.description[M]),o.maxData&&N.setAdditionalDataByKey("maxData",o.maxData[M])),P){var T=Object(n.getByPath)(C,[0,M]),B=Object(n.getByPath)(C,[1,M]),k=this.color;Object(n.checkPoint)(T)&&Object(n.checkPoint)(B)&&(E<B.y||E>T.y)&&(k="red"),N.setAdditionalDataByKey("color",k)}var D=Object(d.i)({x:F,y:R-E},this._matrix);Object(n.checkPoint)(D)&&N.setAdditionalDataByKey("prevSerieValue",D),a[F]=N,(!this.maxPointInfo||N.getValue()>=this.maxPointInfo.getValue())&&(this.maxPointInfo=N),(!this.minPointInfo||null!==N.getValue()&&N.getValue()<=this.minPointInfo.getValue())&&(this.minPointInfo=N),F++}}var V=Object(n.getMin)(f,p.length);if(V>0){s=new Array(V),c=new Array(V);for(M=0;M<V;M++){var N=a[(D=p[M]).x];s[M]=N,c[M]=N.point}}if(this.footPoint=null,1==f&&l.length>this.startIndex){a=[],s=[],h=[];R=l[this.startIndex],E=this.valueArray[this.startIndex];i=null,null!=R&&(i=Object(d.i)({x:0,y:R},this._matrix),this.footPoint=Object(d.i)({x:0,y:0},this._matrix)),h.push(i),(N=new O(i)).setYValue(E),N.setIndex(this.startIndex),o&&(o.data&&N.setXValue(o.data[this.startIndex]),o.description&&N.setAdditionalDataByKey("description",o.description[this.startIndex]),o.maxData&&N.setAdditionalDataByKey("maxData",o.maxData[this.startIndex]));D=Object(d.i)({x:0,y:R-E},this._matrix);Object(n.checkPoint)(D)&&N.setAdditionalDataByKey("prevSerieValue",D),a.push(N),s.push(N)}}this.pointInfoList=a,this.pointInfoListForDraw=s,this.isSmooth()&&(this.controlPoints=Object(u.c)(c,.3,t)),this._needCalculate=!1,this._calculateTime=(new Date).getTime()-r},e.prototype.needCalculate=function(){return this._needCalculate},e.prototype._getXAxisIndexByPosition=function(t,e){var i=Object(d.c)(this._matrix),n=Object(d.i)({x:t,y:e},i).x;return Math.round(n)},e.prototype.buildAnimation=function(){},e.prototype.draw=function(t){this.drawByPercent(t,this._drawPercent),this.drawMarkLine(t)},e.prototype.drawMarkLine=function(t){var e=this;if(this.markLine&&this.markLine.data&&this.markLine.lineStyle){var i=Object(n.getByPath)(this.markLine,["symbol"]),o=this.markLine.lineStyle,r=o.type===h.DASHED?[2,2]:void 0;this.markLine.data.forEach(function(a){var s;if(a.xAxis&&e.pointInfoList.forEach(function(t){t.xValue!==a.xAxis||(s=t)}),s&&s.point){var c=s.point.x||0;if(e.footPoint||(e.footPoint=Object(d.i)({x:.5,y:0},e._matrix)),e._coordinate){var l=e._coordinate.getVerticalAxisByIndex(e.getYAxisIndex()||0),p=0;l&&(p=l.getAxisLength());var f=(b=e.footPoint.y)-p;if(Object(u.k)(t,{x:c,y:f},{x:c,y:b},o.normal.color,o.normal.width,[2,2]),"circle"===i&&(Object(u.h)(t,c,f,3,e.markLine.lineStyle.normal.color,e.markLine.lineStyle.normal.color),Object(u.h)(t,c,b,3,e.markLine.lineStyle.normal.color,e.markLine.lineStyle.normal.color)),Object(n.get)(e,"markLine.label.formatter")){var g=e.markLine.label.formatter(s.xValue),y=Object(u.B)(g,"12px sans-serif"),v=c-y/2;c<y/2?v=c:c+y/2>e.width&&(v=e.width-y),Object(u.p)(t,g,v,f-10,e.markLine.lineStyle.normal.color,void 0,"start","middle")}}}if("max"===a.type&&e.maxPointInfo){e.footPoint||(e.footPoint=Object(d.i)({x:0,y:0},e._matrix));var x=e.footPoint.x,b=e.footPoint.y;if(e.pointInfoList.length>2){var m=e.pointInfoList[0],O=e.pointInfoList[e.pointInfoList.length-1];if(e.maxPointInfo.index<m.index||e.maxPointInfo.index>O.index)return}if(1==e.pointInfoList.length){m=e.pointInfoList[0];if(e.maxPointInfo.index!=m.index)return}if(!e.maxPointInfo.point)return;Object(u.k)(t,{x:x,y:e.maxPointInfo.point.y},{x:e.maxPointInfo.point.x,y:e.maxPointInfo.point.y},e.markLine.lineStyle.normal.color,o.normal.width,r),Object(u.k)(t,{x:e.maxPointInfo.point.x,y:e.maxPointInfo.point.y},{x:e.maxPointInfo.point.x,y:b},e.markLine.lineStyle.normal.color,o.normal.width,r);var w=e.optionManager.getTheme(),_=Object(n.get)(e,"markLine.precision"),j=e.maxPointInfo.yValue;void 0!==_&&(j=j.toFixed(_));var P="("+e.maxPointInfo.xValue+", "+j+")";Object(n.get)(e,"markLine.label.formatter")&&(P=e.markLine.label.formatter({xValue:e.maxPointInfo.xValue,yValue:e.maxPointInfo.yValue}));var A=w===h.DARK,C=A?"#373E52":"#D7DBE0",L=A?"#373E52":"#D7DBE0",I=A?"#ffffff":"#000";Object(u.j)(t,e._coordinate.getCoordinateRect(),e.maxPointInfo,P,C,L,Object(n.get)(e,"markLine.label.advancedFormatter"),I)}})}},e.prototype.drawByPercent=function(t,e){var i=this,o=this.getShowType().indexOf(h.SERIE_SHOW_TYPE.LINE)>=0;e=e<0?0:e;var r=this.pointInfoListForDraw;if(e&&e<1){var a=Object(n.getIndexRangeFromPercent)(r.length,0,e).endIndex;r=r.slice(0,a+1)}var s=this.getCoordinateRect(),c=function(t,e){i.getShowType().indexOf(h.SERIE_SHOW_TYPE.LINE)>=0&&(!i.smooth||null==i.controlPoints||i.controlPoints.length<2?Object(u.m)(t,r,e,i.lineWidth,null,i.connectType,i._matrix,s,i.lineOpacity):Object(u.i)(t,r,i.controlPoints,e,i.lineWidth,i.connectType,i._matrix,s,i.lineOpacity))},l=this._coordinate,p=!1,d=Object(n.getByPath)(l,["thresholdMap",this.xAxisIndex,this.yAxisIndex]),f=this.lineWidth/2,g=function(t,e){for(var i=[],o=[],a=Object(n.getByPath)(t,[0,"length"]),s=0;s<a;s++){var h=Object(n.getByPath)(e,[0,s]),c=Object(n.getByPath)(e,[1,s]),l=Object(n.getByPath)(t,[0,s]),p=Object(n.getByPath)(t,[1,s]),d=j({},l),g=j({},p),y=h.index,v=r[y];if(v&&Object(n.checkPoint)(v.point)){var x=v.getValue();x>h.y?(d.y=d.y+f,g.y=g.y+f):x<c.y?(d.y=d.y-f,g.y=g.y-f):(d.y=d.y-f,g.y=g.y+f)}i.push(d),o.push(g)}return Object(u.L)(i,o,!0)};if(this.viewClip&&d&&this.viewClip.draw(t,[{draw:function(t){var e=Object(n.getByPath)(d,["areaArray"],[]),o=Object(n.getByPath)(d,["areaPosArray"],[]),r=Object(n.getByPath)(d,["rectArray"],[]),a=Object(n.getByPath)(d,["rectPosArray"],[]);o.length>0&&a.length>0&&(p=!0,t.save(),c(t,i.color),t.beginPath(),Object(n.quicklyForEach)(a,function(e,i){Object(u.b)(t,g(e,r[i]),!0)}),t.clip(),t.clearRect(0,0,i.viewClip.outerWidth,i.viewClip.outerHeight),t.restore(),t.save(),t.beginPath(),Object(n.quicklyForEach)(a,function(e,i){Object(u.b)(t,g(e,r[i]),!0)}),t.clip(),c(t,"red"),t.beginPath(),Object(n.quicklyForEach)(o,function(i,n){Object(u.b)(t,g(i,e[n]),!0)}),t.clip(),t.clearRect(0,0,i.viewClip.outerWidth,i.viewClip.outerHeight),t.restore(),t.save(),t.beginPath(),Object(n.quicklyForEach)(o,function(i,n){Object(u.b)(t,g(i,e[n]),!0)}),t.clip(),c(t,i.color),t.restore())}}]),p||c(t,this.color),this.getShowType().indexOf(h.SERIE_SHOW_TYPE.SCATTER)>=0&&this.drawPoints(t,r),1===r.length&&this.footPoint&&o){var y=Object(n.get)(r,"0.point");Object(n.checkPoint)(y)&&Object(u.h)(t,y.x,y.y,this.lineWidth,this.color,this.color)}},e.prototype.drawPoints=function(t,e){var i=this;Object(n.quicklyForEach)(e,function(e){e&&Object(n.checkPoint)(e.point)&&Object(u.h)(t,e.point.x,e.point.y,2,i.color,i.color)})},e.prototype.drawBarByIndex=function(t,e){var i=Object(n.getByPath)(this.pointInfoList,[e]);if(i&&Object(n.checkPoint)(i.point)){var o=i.getAddionalDataByKey("prevSerieValue");if(Object(n.checkPoint)(o)){if(t.save(),this.barWidth>0&&this.barWidth<=2)Object(u.k)(t,{x:o.x,y:o.y},i.point,this.color,this.barWidth);else if(this.barWidth>2){var r=Object(u.y)([i.point,o],this.barWidth);(null===r||void 0===r?void 0:r.length)>0&&(t.save(),t.beginPath(),Object(u.b)(t,r,!0),t.closePath(),t.strokeStyle=this.color,t.fillStyle=this.color,t.globalAlpha=.8,t.fill(),t.stroke(),t.restore())}t.restore()}}},e.prototype.destroy=function(){this._animation&&(this._animation.cancel(),this._animation=null)},e.prototype.getCoordinateRect=function(){return this.isSupportClip?this._coordinate.getCoordinateRect():null},e.prototype._buildAreaPath=function(t,e,i){if(e&&!(e.length<1)){t.save(),t.beginPath(),t.globalAlpha=1,t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++){var o=e[n],r=null,a=null;i&&this.isSmooth()&&(r=i[2*(n-1)+0],a=i[2*(n-1)+1]),r&&a?t.bezierCurveTo(r.x,r.y,a.x,a.y,o.x,o.y):t.lineTo(o.x,o.y)}t.closePath(),t.restore()}},e.prototype.drawArea=function(t,e){var i=Object(n.get)(this.getAreaStyle(),"opacity",.7);i=1-parseFloat(i)||0;var o=this.pointInfoListForDraw,r=o.length;e&&e<1&&(o=o.slice(0,Math.round(e*r)));var a=Object(u.N)(o,this.controlPoints),s=Object(n.get)(a,"pointInfoListArray",[]),h=Object(n.get)(a,"controlPointsArray",[]);if(!(r<2))for(var c=0;c<s.length;c++){var l=s[c],p=h[c],f=void 0,g=void 0;if(l.length>0){var y=l[l.length-1].point,v=l[0].point,x=Object(d.i)(y,this._inverseMatrix),b=Object(d.i)(v,this._inverseMatrix);f=Object(d.i)({x:x.x,y:0},this._matrix),g=Object(d.i)({x:b.x,y:0},this._matrix);for(var m=[],O=0;O<l.length;O++)m.push(l[O].point);f&&g&&(m.push(f),m.push(g)),t.save();var w=this.getCoordinateRect();w&&(t.beginPath(),t.rect(w.x,w.y,w.width,w.height),t.clip()),this._buildAreaPath(t,m,p),t.globalCompositeOperation="destination-out",t.fill(),t.globalAlpha=i,t.globalCompositeOperation="source-over",t.fillStyle=this.color,t.fill(),t.restore()}}},e}(m),A=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){o=o||{};var r=t.getIndexRange();if(e&&e.data&&e.data.length>0){var a=Object(n.get)(e,"xAxisIndex",0),s=Object(n.get)(e,"yAxisIndex",0),c=Object(n.get)(e,"stack"),l=e.areaStyle,u=new P(t,e,i),p=e.data;u.setAreaStyle(l),u.setStack(c),u.setXAxisIndex(a),u.setYAxisIndex(s),u.setIndexRange(r.startIndex,r.endIndex,!0),u.setSmooth(Object(n.get)(e,"smooth")),u.setAnimation(Object(n.get)(e,"animation",!0)),u.setOptimizate(Object(n.get)(e,"sampling")),u.setName(e.name,!0),u.setZIndex(e.z,!0);var d=Object(n.get)(e,"lineStyle.normal.width");u.setDataIndex(Object(n.get)(p,"length")),d?u.setLineWidth(d):u.setLineWidth(2);var f=Object(n.get)(e,"lineStyle.opacity");void 0!==f&&null!==f&&(f=1-parseFloat(f)||0,u.setLineOpacity(f)),u.setColor(o.color),u.width=o.width,u.height=o.height;var g=Object(n.get)(e,"connectNulls",!1),y=Object(n.get)(e,"fullNulls",!1);!0===g?u.setConnectType("connectNulls"):!0===y&&u.setConnectType("fullNulls");var v=["yAxis.min","yAxis.max","yAxis."+s+".min","yAxis."+s+".max","xAxis.min","xAxis.max","xAxis."+a+".min","xAxis."+a+".max"];Object(n.quicklyFindInArray)(v,function(e){if(Object(n.isNum)(t.getFromOption(e)))return!0})&&u.supportClip(!0);var x=Object(n.simpleFilter)(Object(n.get)(e,"showType"),function(t){switch(t){case h.SERIE_SHOW_TYPE.BAR:case h.SERIE_SHOW_TYPE.LINE:case h.SERIE_SHOW_TYPE.SCATTER:return t}});return u.setShowType([h.SERIE_SHOW_TYPE.LINE]),x.length>0&&u.setShowType(x),u}},t}(),C=function(){function t(t,e,i){var n=this;void 0===i&&(i={}),this._milisecond=t,this.callback=e,this._userData=i,this._timerObject={},this._loop=function(){if(n._hascancel||n._hasDone)n._timerObject.timer&&(cancelAnimationFrame(n._timerObject.timer),n._timerObject.timer=null);else{var t=(new Date).getTime()-n._beginTime.getTime();t>=n._milisecond?(n.callback(n._milisecond,n._userData),n._hasDone=!0):(n.callback(t,i),window.cancelAnimationFrame(n._timerObject.timer),n._timerObject.timer=window.requestAnimationFrame(n._loop))}}}return t.prototype.run=function(){var t=this;this._hasRun=!0,this._delay?this._timerObject.delayTimer=setTimeout(function(){t._beginTime=new Date,t._loop()},this._delay):(this._beginTime=new Date,this._loop())},t.prototype.cancel=function(){this.hasDone()||(clearTimeout(this._timerObject.delayTimer),window.cancelAnimationFrame(this._timerObject.timer),this._hascancel=!0)},t.prototype.hascancel=function(){return this._hascancel},t.prototype.hasFinish=function(){return this._hascancel||this._hasDone},t.prototype.hasRun=function(){return this._hasRun},t.prototype.hasDone=function(){return this._hasDone},t.prototype.done=function(t){this.hascancel()&&!t||this.hasDone()||(this.cancel(),this._hasDone=!0,this.callback(this._milisecond,this._userData))},t}(),L=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),I=function(t){function e(e,i){var n=t.call(this)||this;return n.setName(e),n.setValue(i),n._invisible=!1,n._runingAngle=0,n._color="#000",n._extendsLength=0,n._radiusOuter=0,n._enableAnimation=!0,n._hover=!1,n}return L(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.getName=function(){return this.name},e.prototype.setParent=function(t){this._parent=t},e.prototype.getParent=function(){return this._parent},e.prototype.setSeriesIndex=function(t){this.seriesIndex=t},e.prototype.getSeriesIndex=function(){return this.seriesIndex},e.prototype.getSeriesName=function(){return this.seriesName},e.prototype.setSeriesName=function(t){this.seriesName=t},e.prototype.setValue=function(t){if(!Object(n.isNum)(t))throw"value is can't convert to number!";this.value=parseFloat(t)},e.prototype.getValue=function(){return this.value},e.prototype.setDataIndex=function(t){this.dataIndex=t},e.prototype.getDataIndex=function(){return this.dataIndex},e.prototype._isInSector=function(t,e){var i=Math.sqrt(t*t+e*e);if(0==i)return!0;var n=t/i,o=Math.acos(n);e<0&&(o=h.TWO_PI-o);var r=this._normalAngle(this.startAngle),a=r+this.angle;return!!(this._isInRange(r,a,o-h.TWO_PI)||this._isInRange(r,a,o)||this._isInRange(r,a,o+h.TWO_PI))},e.prototype.hightLight=function(t){this.setVisible(!t,!1)},e.prototype._isInRange=function(t,e,i){return t<=i&&i<=e},e.prototype._normalAngle=function(t){return t>2*Math.PI?t-=2*Math.PI:t<0&&(t+=2*Math.PI),t},e.prototype.setStartAngle=function(t){this.startAngle=t},e.prototype.getStartAngle=function(){return this.startAngle},e.prototype.setAngle=function(t,e){void 0===e&&(e=!0),this.angle!=t&&(this.angle=t,e&&this.beginAngleAnimation())},e.prototype.getAngle=function(){return this.angle},e.prototype.setVisible=function(t,e){this._invisible!=!t&&(this._invisible=!t,e||this._pieEventHandler.dispatchPropertyChangeEvent({type:"needCalculateAngle",source:this}),t||(this.setAngle(0,!1),this._runingAngle=0))},e.prototype.isVisible=function(){return!this._invisible},e.prototype.getAngleForDraw=function(){return this._runingAngle},e.prototype.setColor=function(t){this._color=t},e.prototype.getColor=function(){return this._color},e.prototype.setPieEventHandler=function(t){this._pieEventHandler=t},e.prototype.getRect=function(){if(this._parent instanceof G)return this._parent.getRect()},e.prototype._convert=function(t,e){return"number"==typeof e?e:"string"==typeof e?t*parseFloat(e)/100:e},e.prototype.drawLegend=function(t,e){var i=e.getColor(),n=e.getFont(),o=e.getRect(),r=e.getName(),a=Object(u.A)(r,n),s=o.width-a.width-10;if(s>0&&(t.save(),Object(u.K)(t,o.x+5,o.y+2,s,o.height-4,2),t.fillStyle=e.isDisable()?"#ccc":i,t.fill(),t.restore()),o.width>a.width){var h=o.x+o.width-a.width;Object(u.p)(t,r,h,o.y,e.isDisable()?"#ccc":"#000",n)}},e.prototype.getNowAngle=function(){var t=this.angle;return this.isAnimation()&&(t=this.getAngleForDraw()),t},e.prototype.draw=function(t,e,i,n,o,r,a,s){if(void 0===a&&(a=0),void 0===s&&(s=""),r instanceof G){var h=this.getNowAngle();Object(u.o)(t,e,i,[n,o+this._extendsLength],this.startAngle,this.startAngle+h,this._color,!1,a,s)}},e.prototype.beginAngleAnimation=function(){var t=this;if(this.isAnimation())if(this._angleAnimation&&(this._angleAnimation.cancel(),this._angleAnimation=null),this._enableAnimation){var e=this.angle-this._runingAngle,i=this._runingAngle;this._angleAnimation=new C(1e3,function(n){var o=n/1e3*e;t._runingAngle=i+o,n>=1e3&&(t._runingAngle=t.angle),t._pieEventHandler.dispatchPropertyChangeEvent({type:"animation",source:t})}),this._angleAnimation.hasRun()||this._angleAnimation.run()}else this._runingAngle=this.angle},e.prototype.getRadiusFromParent=function(){if(this._parent instanceof G){var t=this._parent._width,e=this._parent.height,i=Object(n.getMin)(t,e)/2;return this._convert(i,this._parent._radiusOuter)}return 0},e.prototype.getAnimationExtendLength=function(){var t=.015*this.getRadiusFromParent();return 0!=t&&Object(n.isNum)(t)?t:1},e.prototype.onEnter=function(){var t=this;if(this._radiusAnimation&&(this._radiusAnimation.cancel(),this._radiusAnimation=null),this._enableAnimation){var e=this.getAnimationExtendLength();this._radiusAnimation=new C(2e3,function(i){var n=i/2e3;t._extendsLength+=n*e,t._extendsLength>e&&(t._extendsLength=e),t._pieEventHandler&&t._pieEventHandler.dispatchPropertyChangeEvent({type:"animation",source:t})}),this._radiusAnimation.hasRun()||(this._hover=!0,this._radiusAnimation.run())}},e.prototype.onLeave=function(){var t=this;if(this._radiusAnimation&&(this._radiusAnimation.cancel(),this._radiusAnimation=null),this._enableAnimation){var e=this.getAnimationExtendLength();this._radiusAnimation=new C(2e3,function(i){var n=i/2e3;t._extendsLength-=n*e,t._extendsLength<0&&(t._extendsLength=0),t._pieEventHandler&&t._pieEventHandler.dispatchPropertyChangeEvent({type:"animation",source:t})}),this._radiusAnimation.hasRun()||this._radiusAnimation.run()}},e.prototype.destroy=function(){this._radiusAnimation&&(this._radiusAnimation.cancel(),this._radiusAnimation=null),this._angleAnimation&&(this._angleAnimation.cancel(),this._angleAnimation=null)},e.prototype.buildTooltipInfo=function(){return{seriesType:"pie",seriesIndex:this.getSeriesIndex(),seriesName:this.getSeriesName(),name:this.getName(),dataIndex:this.getDataIndex(),value:this.getValue(),color:this.getColor(),percent:Math.round(.5*this.getAngle()/Math.PI*1e4)/100}},e}(m),F=["normal","inherit"],S=function(){function t(){this.fontStyle="",this.fontVariant="",this.fontWeight="",this.fontSize="14px",this.fontFamily=h.DEFAULT_FONT_FAMILY}return t.prototype.toString=function(){return this.fontStyle+" "+this.fontVariant+this.fontWeight+" "+this.fontSize+" "+this.fontFamily},t.prototype.setFontStyle=function(t){t&&(this.fontStyle=t)},t.prototype.setFontVariant=function(t){t&&(this.fontVariant=t)},t.prototype.setFontSize=function(t){isNaN(t)?this.fontSize=t:this.fontSize=t+"px"},t.prototype.setFontFamily=function(t){t&&(this.fontFamily=t)},t.prototype.setFontWeight=function(t){t&&(this.fontWeight=t)},t.prototype.setMap=function(t){t&&(this.setFontStyle(t.fontStyle),this.setFontSize(t.fontSize),this.setFontWeight(t.fontWeight),this.setFontFamily(t.fontFamily))},t}();function M(t){return function(t){var e=[],i=[],o=function(t){return R(t,"'")}(t);i=o.fontFamily,o.waitHandler.forEach(function(t){var n=function(t){return R(t,'"')}(t);i=i.concat(n.fontFamily),e=e.concat(n.waitHandler)});var r=function(t){if(!t)return t;var e=[];t.forEach(function(t){if(t){var i=t.split(",");i&&i.forEach(function(t){var i=Object(n.trim)(t);i.length>0&&","!=i&&e.push(i)})}});var i=[];e[0]&&(i=i.concat(e[0].split(" ")),e.shift());var o=[];return i.forEach(function(t){var e=Object(n.trim)(t);e.length>0&&o.push(e)}),o=o.concat(e)}(e);!function(t){if(t)for(var e=t.length-1;e>=0;e--)for(var i=t[e],n=0;n<F.length;n++)i===F[n]&&(t.splice(e,1),n=F.length)}(r);var a=function(t){var e="12px";if(t)for(var i=t.length-1;i>=0;i--){var n=t[i];(E(n)||N(n))&&(t.splice(i,1),e=n)}return e}(r),s=function(t){var e;if(t)for(var i=t.length-1;i>=0;i--){var n=t[i];k(n)&&(t.splice(i,1),e=n)}return e}(r),h=function(t){var e;if(t)for(var i=t.length-1;i>=0;i--){var n=t[i];D(n)&&(t.splice(i,1),e=n)}return e}(r),c=function(t){var e=null;if(t)for(var i=t.length-1;i>=0;i--){var n=t[i];V(n)&&(t.splice(i,1),e=n)}return e}(r),l=new S;l.fontSize=a||l.fontSize,l.fontWeight=s||l.fontWeight,l.fontStyle=h||l.fontStyle,l.fontVariant=c||l.fontVariant;var u="";(r=r.concat(i)).length>1?u='"'+r.join('","')+'"':1===r.length&&(u='"'+r[0]+'"');u&&(l.fontFamily=u);return l}(t)}function R(t,e){var i=[],n=[],o=-1,r=-1;if("string"==typeof t){for(o=t.indexOf(e);o>=0;)if(o>r){var a=t.substring(r,o);if(a.length>0&&n.push(a),!((r=t.indexOf(e,o+1))>o))break;var s=t.substring(o+1,r);s.length>0&&i.push(s),o=t.indexOf(e,r+1)}if(r>=-1&&o<0){var h=t.substring(r+1,t.length);h.length>0&&n.push(h)}}return{fontFamily:i,waitHandler:n}}function E(t){if(t.length>2){if(/^([0-9]+px)$/.test(t))return!0;if(t.indexOf("/")>=0){var e=t.split("/");if(2==e.length&&(T(e[0])||B(e[0]))&&(T(e[1])||B(e[1])))return!0}}return!1}function T(t){if(t&&/^([0-9]+px)$/.test(t))return!0}function B(t){if(t&&/^((([0-9]+)|([0-9]+.[0-9]+))(rem)|(em))$/.test(t))return!0}function k(t){return"string"==typeof t&&("bold"===t||"lighter"===t||(!!/^[1-9]00$/.test(t)||void 0))}function D(t){if("italic"===t||"olique"===t)return!0}function V(t){if("small-caps"===t)return!0}function N(t){return"string"==typeof t&&("XX-small"===t||"X-small"===t||"small"===t||"medium"===t||"large"===t||"X-large"===t||"XX-large"===t||"large"===t||"smaller"===t||(E(t)||function(t){if("string"==typeof t)return/^[0-9]+%$/.test(t)}(t)))}var H=function(){function t(t,e,i,n){"number"==typeof t&&NaN!=t&&(t+=""),this.fontProperty=M(i),this.mergeStyle(n),this.fontProperty,this.text=t,this.color=e}return t.prototype.mergeStyle=function(t){t&&(t.fontStyle&&this.fontProperty.setFontStyle(t.fontStyle),t.fontSize&&(isNaN(t.fontSize)||""==t.fontSize?this.fontProperty.setFontSize(t.fontSize):this.fontProperty.setFontSize(t.fontSize+"px")),t.fontFamily&&this.fontProperty.setFontFamily(t.fontFamily),t.fontWeight&&this.fontProperty.setFontWeight(t.fontWeight)),this.font=this.fontProperty.toString()},t.prototype.draw=function(t){Object(u.p)(t,this.text,this.x,this.y,this.color,this.font)},t.prototype.setPostion=function(t,e){this.x=t,this.y=e},t.prototype.getSize=function(){return this.size||(this.size=Object(u.A)(this.text,this.font)),this.size},t}(),z=function(){function t(t){var e=this;this.renderList=[],t&&t.forEach(function(t){if(t){var i=new H(t.text,t.color,t.font,t.textStyle);e.renderList.push(i)}})}return t.prototype.getSize=function(){var t=0,e=0;return this.size||(this.renderList.forEach(function(i){var n=i.getSize();n&&(e<n.height&&(e=n.height),t+=n.width)}),this.size={width:t,height:e}),this.size},t.prototype.setPostion=function(t,e){this.x=t,this.y=e},t.prototype.draw=function(t){var e=this.x,i=this.y,n=this.getSize();this.renderList.forEach(function(t){var o=t.getSize();t.setPostion(e,i+(n.height-o.height)/2),e+=o.width}),this.renderList.forEach(function(e){e.draw(t)})},t}(),W=function(){function t(t){var e=this;t=t||[],this.renderList=[];var i,n=[];t.forEach(function(t){if(i=i||[],null!=t&&null!=t.text){var e=[],o=typeof t.text;"string"===o?e=t.text.split("\n"):"number"===o&&e.push(t.text+"");for(var r=0;r<e.length-1;r++){var a=e[r];i=i||[],a.length>0&&i.push({text:a,color:t.color,font:t.font,textStyle:t.textStyle}),i.length>0&&n.push(i),i=void 0}e[e.length-1].length>0&&(i=i||[]).push({text:e[e.length-1],color:t.color,font:t.font,textStyle:t.textStyle})}}),i&&i.length>0&&(n.push(i),i=null),n.forEach(function(t){var i=new z(t);e.renderList.push(i)})}return t.prototype.draw=function(t,e,i){var n=0,o=0;this.renderList.forEach(function(t){var e=t.getSize();e&&(n=n<e.width?e.width:n,o+=e.height)});var r=e-n/2,a=i-o/2,s=0;this.renderList.forEach(function(t){var e=t.getSize();t.setPostion(r+(n-e.width)/2,a+s),s+=e.height}),this.renderList.forEach(function(e){e.draw(t)})},t}(),Y=function(){function t(t,e,i){void 0===t&&(t=void 0),void 0===e&&(e=h.DEFAULT_FONT),void 0===i&&(i="black"),this._x=0,this._y=0,this._posX=0,this._posY=0,this._angle=0,this._needCalculate=!0,this._visible=!0,this._font=h.DEFAULT_FONT,this._paddings={paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0},this.offsetMove=function(t,e){this._x+=t,this._y+=e,this._posX+=t,this._posY+=e},this._text=t,this._font=e,this._color=i}return t.prototype.setAngle=function(t){this._angle!=t&&(this._angle=t,this._needCalculate=!0,null!=this._posX&&null!=this._posY&&this.setPosition(this._posX,this._posY,this._horizontal,this._vertical))},t.prototype.setColor=function(t){this._color=t},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.setText=function(t){this._text!=t&&(this._text=t,this._needCalculate=!0)},t.prototype.getText=function(){return this._text},t.prototype.setFont=function(t){this._font=t},t.prototype.setVisible=function(t){this._visible=t},t.prototype.isVisible=function(){return this._visible},t.prototype.calculateSize=function(){this._needCalculate=!1;var t=Object(u.A)(this._text,this._font),e={width:t.width+this._paddings.paddingLeft+this._paddings.paddingRight,height:t.height+this._paddings.paddingBottom+this._paddings.paddingTop},i=null;if(0==this._angle)i={width:e.width,height:e.height};else{var n={x:e.width,y:0},o={x:0,y:e.height},r={x:0+e.width,y:e.height},a=Object(d.f)(-e.width/2,-e.height/2),s=Object(d.d)(this._angle),h=Object(d.h)(a,s),c=[Object(d.i)({x:0,y:0},h),Object(d.i)(n,h),Object(d.i)(r,h),Object(d.i)(o,h)];i=Object(u.e)(c)}this._size={width:i.width,height:i.height}},t.prototype.calculate=function(){return this.calculateSize()},t.prototype.setPosition=function(t,e,i,n){if(void 0===i&&(i=void 0),void 0===n&&(n=void 0),this._x=t,this._y=e,this._posX=t,this._posY=e,this._needCalculate&&this.calculateSize(),this._size&&!isNaN(this._size.width)&&!isNaN(this._size.height)&&null!=t&&null!=e){this._horizontal=i,this._vertical=n;var o=Object(u.f)(this._size,t,e,i,n);this._x=o.x,this._y=o.y}},t.prototype.setPaddings=function(t){t instanceof Array?this.setPaddingByArray(t):Object(n.isNum)(t)?this.setPaddingByArray(Object(n.convertToNum)(t)):this.setPaddingByMap(t)},t.prototype.setPaddingByArray=function(t){var e,i,n,o;t&&(1==t.length?e=i=n=o=t[0]:2==t.length?(n=o=t[0],e=i=t[1]):3==t.length?(n=t[0],e=i=t[1],o=t[2]):t.length>3&&(n=t[0],i=t[1],o=t[2],e=t[3]),this.setPaddingByMap({paddingLeft:e,paddingRight:i,paddingTop:n,paddingBottom:o}))},t.prototype.setPaddingByMap=function(t){var e=Object(n.convertToNum)(Object(n.get)(t,["paddingLeft"])),i=Object(n.convertToNum)(Object(n.get)(t,["paddingRight"])),o=Object(n.convertToNum)(Object(n.get)(t,["paddingTop"])),r=Object(n.convertToNum)(Object(n.get)(t,["paddingBottom"]));null!=e&&this._paddings.paddingLeft!=e&&(this._paddings.paddingLeft=e,this._needCalculate=!0),null!=i&&this._paddings.paddingRight!=i&&(this._paddings.paddingRight=i,this._needCalculate=!0),null!=o&&this._paddings.paddingTop!=o&&(this._paddings.paddingTop=o,this._needCalculate=!0),null!=r&&this._paddings.paddingBottom!=r&&(this._paddings.paddingBottom=r,this._needCalculate=!0)},t.prototype.setBorderRadius=function(t){this._borderRadius=Object(n.convertToNum)(t)},t.prototype.getRect=function(){var t=this.getSize();return{x:this._x,y:this._y,width:t.width,height:t.height}},t.prototype.getSize=function(){return!this._needCalculate&&this._size||this.calculateSize(),this._size},t.prototype.setAdditionalData=function(t){this._additionalData=t},t.prototype.getAdditionalData=function(){return this._additionalData},t.prototype.draw=function(t){if(this._visible){var e=Object(u.A)(this._text,this._font),i=this.getSize();t.save(),t.translate(this._x,this._y),t.translate(i.width/2,i.height/2),t.rotate(this._angle),t.translate(-e.width/2,-e.height/2),this._backgroundColor&&(t.save(),this._borderRadius>0?Object(u.K)(t,0-this._paddings.paddingLeft,0-this._paddings.paddingTop,i.width,i.height,this._borderRadius):(t.beginPath(),t.rect(0-this._paddings.paddingLeft,0-this._paddings.paddingTop,i.width,i.height),t.closePath()),t.fillStyle=this._backgroundColor,t.fill(),t.restore()),Object(u.r)(t,this._text,0,0,this._color,this._font),t.restore()}},t.prototype.getAlignPos=function(){return{x:this._posX,y:this._posY}},t}(),X=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),G=function(t){function e(e,i){var n=t.call(this)||this;return n._centerX=0,n._centerY=0,n._total=0,n._startAngle=-Math.PI/2,n._id2TextRenderObject={},n._labelRenders=[],n._needGroupingAndAjust=!0,n._radiusAdded=20,n._labelLayout="inner",n._labelLines=[],n._labelShow=!0,n.centrifugalLength=2,n._labelLineStyle={normal:{show:!0,lineStyle:{color:"#000000",lineWidth:1}}},n.getPieClick=function(t,e){var i;n.handleHover(t,e);var o=[],r={items:[]},a=0,s=[];n._children.forEach(function(t){t instanceof I&&t.isVisible()&&(s.push(t),a+=t.getValue())});var h=s.pop(),c=0,l=1e4;return s.forEach(function(t){var e=Math.round(t.getValue()/a*1e4);c+=e}),h&&(l-=c,l/=100),n._hoverList.forEach(function(t){var e=n.getChildById(t);if(e)return i=e.buildTooltipInfo(),e===h&&i&&(i.percent=l),void(i&&(n.setLabelParam(i),r.items.push(i)))}),r.items&&r.items.length>0&&o.push(r),o},n.getHover=function(t,e,i){var o;n.handleHover(t,e);var r=[],a={items:[]},s=0;n._children.forEach(function(t){t instanceof I&&t.isVisible()&&(r.push(t),s+=t.getValue())});var h=r.pop(),c=0,l=1e4;return r.forEach(function(t){var e=Math.round(t.getValue()/s*1e4);c+=e}),h&&(l-=c,l/=100),n._hoverList.forEach(function(t){var e=n.getChildById(t);if(e)return o=e.buildTooltipInfo(),e===h&&o&&(o.percent=l),void(o&&(n.setLabelParam(o),a.items.push(o)))}),a.items.length>0&&i.push(a),n._hoverList.length>0},n.eventHandler=e,n._pipeEventHanlder=new g,n._pipeEventHanlder.registerListener("propertyChange",n.onPiePropertyChangeListener,n),n._children=[],n._chart=i,n._hoverList=[],n}return X(e,t),e.prototype.setWidth=function(t,e){void 0===e&&(e=!1);var i=parseFloat(t);i!=this.width&&(this._width=i,e||this.eventHandler.dispatchPropertyChangeEvent({type:"width",source:this}))},e.prototype.setHeight=function(t,e){void 0===e&&(e=!1);var i=parseFloat(t);i!=this.height&&(this._height=i,e||this.eventHandler.dispatchPropertyChangeEvent({type:"height",source:this}))},e.prototype.setCentrifugalLength=function(t,e){void 0===e&&(e=!1),Object(n.isNum)(t)&&(this.centrifugalLength=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"centrifugalLength",source:this}))},e.prototype.getCentrifugalLength=function(){return this.centrifugalLength},e.prototype.setLabelShow=function(t){this._labelShow=t},e.prototype.setLabelLineStyle=function(t){this._labelLineStyle=t},e.prototype.getLabelLine=function(){return this._labelLineStyle},e.prototype.setChart=function(t){this._chart=t},e.prototype.hightLight=function(t){console.log(t)},e.prototype.setItemStyle=function(t){this._itemStyle=t},e.prototype.getItemStyle=function(){return this._itemStyle},e.prototype.setCenterX=function(t,e){if(void 0===e&&(e=!1),this._centerX!==t){this._centerX=this._validate(t);var i=this._convert(this._width,this._centerX),n=this._convert(this._height,this._centerY);e||this.eventHandler.dispatchPropertyChangeEvent({type:"x",source:this});var o=Object(d.f)(i,n);this.setMatrix(o)}},e.prototype.setCenterY=function(t,e){if(void 0===e&&(e=!1),this._centerY!==t){this._centerY=this._validate(t);var i=this._convert(this._width,this._centerX),n=this._convert(this._height,this._centerY);e||this.eventHandler.dispatchPropertyChangeEvent({type:"y",source:this});var o=Object(d.f)(i,n);this.setMatrix(o)}},e.prototype.setRadiusInner=function(t){this._radiusInner=this._validate(t)},e.prototype.setRadiusOuter=function(t){this._radiusOuter=this._validate(t)},e.prototype.setOptionManager=function(t){this.optionManager=t},e.prototype.setLabelLayout=function(t){this._labelLayout=t},e.prototype.getLabelLayout=function(){return this._labelLayout},e.prototype._getFloatFromPercentString=function(t){return parseFloat(t)},e.prototype._validate=function(t){return"number"===t||Object(n.isPercent)(t)?t:Object(n.isNum)(t)?parseFloat(t):void 0},e.prototype._convert=function(t,e){return"number"==typeof e?e:"string"==typeof e?t*parseFloat(e)/100:e},e.prototype.draw=function(t){var e=this._convert(this._width,this._centerX),i=this._convert(this._height,this._centerY),o=Math.min(this._width,this._height)/2,r=this._convert(o,this._radiusInner),a=this._convert(o,this._radiusOuter),s=this._startAngle,h=this.getChildren();for(var c in this._id2TextRenderObject){(O=this._id2TextRenderObject[c]).visible=!1}for(var l=0;l<h.length;l++){if((m=h[l])&&m.isVisible()){c=m.getId();var p=this._id2TextRenderObject[c];p&&(p.angles.center=s+m.getAngle()/2,p.visible=!0),m.setStartAngle(s),m.isAnimation()?s+=m.getAngleForDraw():s+=m.getAngle()}}this._needGroupingAndAjust&&"outer"==this._labelLayout&&(K(this._id2TextRenderObject,e,i,a+this._radiusAdded),function(t,e,i,n){var o=[],r=[];for(var a in t){var s=t[a];s.visible&&("left"===s.horizontal?o.push(s):r.push(s))}for(var h=[r,o],c=0;c<h.length;c++){var l=h[c];Q(l,e,i,n)}}(this._id2TextRenderObject,e,i,a+this._radiusAdded)),this._labelLines=[];var d=Object(n.get)(this._labelLineStyle,"normal.show",!0);if("outer"==this._labelLayout&&d){this.buildLabelLines();var f=Object(n.get)(this._labelLineStyle,"normal.lineStyle",{}),g=Object(n.get)(f,"color","#000000"),y=Object(n.get)(f,"width","1");for(l=0;l<this._labelLines.length;l++){var v=this._labelLines[l];v&&2==v.length&&Object(n.checkPoint)(v[0])&&Object(n.checkPoint)(v[1])&&Object(u.k)(t,v[0],v[1],g,y)}}var x=Object(n.getByPath)(this._itemStyle,["borderColor"]),b=Object(n.getByPath)(this._itemStyle,["borderWidth"]);for(l=0;l<h.length;l++){var m;(m=h[l])&&m.isVisible()&&m.draw(t,e,i,r,a,this,b,x)}if(this._labelShow&&(this._drawCenterLabel(t,this.labelParam),"outer"==this._labelLayout))for(var c in this._id2TextRenderObject){var O;(O=this._id2TextRenderObject[c]).visible&&O.render.draw(t)}},e.prototype.setLabelParam=function(t){this.labelParam=t},e.prototype._drawCenterLabel=function(t,e){if(this._isVisible()&&"outer"!=this._labelLayout){var i={x:0,y:0};if("center"===(this._labelPosition||"center")&&(i.x=this._convert(this._width,"50%"),i.y=this._convert(this._height,"50%")),e&&this._hoverList.length>0&&"function"==typeof this._hoverFormatter)(l=this._hoverFormatter(e))instanceof Array&&(this._centerLabelRender=new W(l),this._centerLabelRender.draw(t,i.x,i.y));else if("function"!=typeof this._normalFormatter){if(e){var n=this._labelFontSize+"px ";if(!e||!e.name)return;var o=e.name,r=t.font.replace(/\d+px\s/g,n),a=Object(u.A)(o,r),s=i.x-a.width/2,h=i.y-a.height/2,c=e.color;Object(u.p)(t,o,s,h,c,r)}}else{var l,p=this.buildAllLabelParams();(l=this._normalFormatter(p))instanceof Array&&(this._centerLabelRender=new W(l),this._centerLabelRender.draw(t,i.x,i.y))}}},e.prototype.setLabelPosition=function(t){this._labelPosition=t},e.prototype.setLabelFontSize=function(t){this._labelFontSize=t},e.prototype.getRect=function(){var t=this._convert(this._width,this._centerX),e=this._convert(this._height,this._centerY),i=Math.min(this._width,this._height)/2,n=this._convert(i,this._radiusOuter);return{x:t-n,y:e-n,width:2*n,height:2*n}},e.prototype.onPiePropertyChangeListener=function(t){if(t.source instanceof I||t.source instanceof e)if(this.eventHandler.dispatchPropertyChangeEvent({type:"animation",source:this}),t.source instanceof I&&"needCalculateAngle"===t.type)this.calculateItemAngle();else if(t.source instanceof I&&"visible"===t.type){var i=t.source.getId(),n=t.source.isVisible();if(i)this._id2TextRenderObject[i].visible=n}},e.prototype.getChildren=function(){return this._children},e.prototype.addChildren=function(t){var e=this;t.forEach(function(t){e._children.push(t),t.setParent(e),t.setPieEventHandler(e._pipeEventHanlder)}),this.calculateItemAngle()},e.prototype.removeByName=function(t){for(var e=this._children.length-1;e>=0;e--){var i=this._children[e];i.name===t&&this.removes([i])}},e.prototype.removes=function(t){if(t){for(;t.length>0;){var e=t.pop();if(e){var i=this._children.indexOf(e);i>=0&&this._children.splice(i,1),e.destroy()}}this.calculateItemAngle()}},e.prototype.calculateItemAngle=function(){var t=this;this._total=0;var e=0;this._children.forEach(function(e){e.isVisible()&&(t._total+=e.getValue())}),this._children.forEach(function(i){i.isVisible()&&(e=i.getValue()*Math.PI*2/t._total,i.setAngle(e,!0))})},e.prototype.destroy=function(){this._children.forEach(function(t){t&&t&&t.destroy()})},e.prototype.handleHover=function(t,e){var i=this,n=Object(d.i)({x:t,y:e},this._inverseMatrix),o=Math.sqrt(n.x*n.x+n.y*n.y),r=Math.min(this._width,this._height)/2,a=this._convert(r,this._radiusInner),s=this._convert(r,this._radiusOuter),h=this.getChildren(),c=[],l=this._hoverList.concat(),u=[];if(null==a&&o<s||o>a&&o<s)for(var p=this._startAngle,f=0;f<h.length;f++){var g=h[f];if(g.setStartAngle(p),p+=g.getAngle(),g._isInSector(n.x,n.y)){c.push(g.getId());break}}return c.forEach(function(t){var e=l.indexOf(t);e<0?u.push(t):l.splice(e,1)}),l.forEach(function(t){var e=i.getChildById(t);e&&e.onLeave()}),u.forEach(function(n){var o=i.getChildById(n);o&&o.onEnter(t,e)}),this._hoverList.length>0&&0==c.length?this.onLeave():0==this._hoverList.length&&c.length>0&&this.onEnter(),this._hoverList=c,!1},e.prototype.onLeave=function(){this.setLabelParam(null)},e.prototype.onEnter=function(){},e.prototype.getChildById=function(t){var e=null;return this._children.forEach(function(i){i.getId()!==t||(e=i)}),e},e.prototype.setNormalFormatter=function(t){this._normalFormatter=t},e.prototype.setHoverFormatter=function(t){this._hoverFormatter=t},e.prototype.buildAllLabelParams=function(){var t=[],e=0,i={};if(this._children)return this._children.forEach(function(i){var n=i.buildTooltipInfo();n.visible=i.isVisible(),e+=n.value,t.push(n)}),i.all=t,i.total=e,i.seriesName=this.getSeriesName(),i},e.prototype._isVisible=function(){if(null==this._children||this._children.length<0)return!1;var t=!1;return this._children.forEach(function(e){e&&e.isVisible()&&(t=!0)}),t},e.prototype.buildLabels=function(){var t=this;this._labelRenders=[],this._id2TextRenderObject={},this._children.forEach(function(e){var i=e.getName(),n=e.getColor()||"#000000",o=t._normalFormatter({seriesName:i,color:n});o instanceof Array||(o=[o]);var r=o&&o[0]||{},a=function(t,e){var i=M(t);e&&(e.fontStyle&&i.setFontStyle(e.fontStyle),e.fontSize&&(isNaN(e.fontSize)||""==e.fontSize?i.setFontSize(e.fontSize):i.setFontSize(e.fontSize+"px")),e.fontFamily&&i.setFontFamily(e.fontFamily),e.fontWeight&&i.setFontWeight(e.fontWeight));return i.toString()}(r.font||h.DEFAULT_FONT_FAMILY,r.textStyle),s=new Y(i,a,r.color),c=e.getId(),l=e.getStartAngle()+e.getAngle()/2,u=e.isVisible(),p=U(l);t._id2TextRenderObject[c]={angles:{center:p},render:s,visible:u,text:i}})},e.prototype.buildLabelLines=function(){if(this._id2TextRenderObject){var t=this._convert(this._width,this._centerX),e=this._convert(this._height,this._centerY),i=Math.min(this._width,this._height)/2,n=this._convert(i,this._radiusOuter);for(var o in this._id2TextRenderObject){var r=this._id2TextRenderObject[o];if(r&&1==r.visible){var a=r.angles;if(a&&a.center&&r.render instanceof Y){var s={x:n*Math.cos(a.center)+t,y:n*Math.sin(a.center)+e},h=r.render.getAlignPos();this._labelLines.push([s,h])}}}}},e}(m);function q(t,e){return t.x<e.x?"right":"left"}function U(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}function Z(t){return(t=U(t))>=Math.PI/2&&t<Math.PI?2:t>=Math.PI&&t<3*Math.PI/2?3:t>=3*Math.PI/2&&t<2*Math.PI?4:1}function K(t,e,i,n){for(var o in t){var r=t[o],a=r.angles.center,s=n*Math.cos(a)+e,h=n*Math.sin(a)+i,c=r.render,l=q({x:s,y:h},{x:e,y:i});c.calculateSize(),r.horizontal="left"===l?"left":"right";var u=Z(r.angles.center);r.vertical=1==u||2==u?"bottom":"top",c.setPosition(s,h,l,"middle"),r.rect=c.getRect()}}function Q(t,e,i,o){for(var r=t.concat(),a={},s=[],h=o,c=function(){s=[];var t=[];Object(n.sort)(r,function(t,e){var i=t.id,n=e.id,o=t,r=e;null==a[i]&&(a[i]=Math.sin(o.angles.center)),null==a[n]&&(a[n]=Math.sin(r.angles.center));var s=a[i];return a[n]-s}),K(r,e,i,h);var o=[],c=[];r.forEach(function(t){"top"==t.vertical?c.push(t):o.push(t)});for(var l=!1;c.length>0||o.length>0;){var u=void 0;$(u=l&&c.length>0||o.length<1?c.shift():o.pop(),s,e,i,h)?s.push(u):t.push(u),l=!l}var p=Object(n.simpleFilter)(s,function(t){if(t)return t.rect});h=function(t,e,i){var o=0;return Object(n.quicklyForEach)(i,function(i){var r=Object(n.getPointsFromRect)(i);Object(n.quicklyForEach)(r,function(i){var n=i.x-t,r=i.y-e,a=n*n+r*r;a>o&&(o=a)})}),Math.sqrt(o)}(e,i,p),r=t.concat(),s.forEach(function(t){var e=t.rect,i=t.render.getRect(),n=e.x-i.x,o=e.y-i.y;t.render.offsetMove(n,o)})};r.length>0;)c()}function $(t,e,i,n,o){var r=e.concat(),a=[],s=[],h=t.rect,c=n-o,l=n+o;if(t.tempRect=t.rect,r.length<1)return!0;if(r.forEach(function(t){var e=t.rect;"bottom"===t.vertical?(l-=e.height,a.unshift(t)):(c+=e.height,s.push(t))}),l-c<h.height)return!1;var u=J({y:c},h),p=J(h,{y:l}),d=!0,f=!0;return u<0?(a.unshift(t),d=et(s,{y:c},"up",i,n,o),f=et(a,{y:c},"down",i,n,o)):p<0?(s.push(t),d=et(s,{y:l},"up",i,n,o),f=et(a,{y:l},"down",i,n,o)):(d=et(s,{y:t.rect.y},"up",i,n,o),f=et(a,{y:t.rect.y+t.rect.height},"down",i,n,o)),!(!f||!d)&&(s.forEach(function(t){t.rect=t.tempRect}),a.forEach(function(t){t.rect=t.tempRect}),!0)}function J(t,e){var i=t.height||0;return e.y-t.y-i}function tt(t){return t?{x:t.x,y:t.y,width:t.width,height:t.height}:t}function et(t,e,i,n,o,r){var a=0,s=Math.PI/6;if(t.length<1)return!0;for(var h=0;h<t.length;h++){var c=t[h],l=tt(c.rect),u=(l.x-n)*(l.x-n)+(l.y-o)*(l.y-o);"down"!=i?(a=J(l,e))<0&&(l.y=l.y+a):(a=J(e,l))<0&&(l.y=l.y-a),u=u||r*r;var p=l.y-o;if(u==(p*=p))l.x=n;else if(u>p){var d=Math.sqrt(u-p);"right"==c.horizontal?l.x=n-l.width-d:"left"==c.horizontal&&(l.x=n+d)}var f={x:c.rect.x-n,y:c.rect.y-o},g={x:l.x-n,y:l.y-o},y=Object(w.c)(f,g);return!(y>s||y<-s)&&(c.tempRect=l,!0)}}var it=function(){function t(){}return t.prototype.createChart=function(t,e,i,o,r){var a=Object(n.get)(o,"lastIndex",0),s=new G(i,o.chart),h=Object(n.get)(e,"center",["50%","50%"]),c=Object(n.get)(e,"radius",["0%","100%"]),l=Object(n.get)(e,"animation",!0),u=Object(n.get)(e,"label.layout"),p=Object(n.get)(e,"labelLine"),d=Object(n.get)(e,"label.show",!0),f=Object(n.get)(e,"itemStyle"),g=[s];s.setWidth(o.width),s.setHeight(o.height),s.setCenterX(h[0]),s.setCenterY(h[1]),s.setOptionManager(t),s.setLabelLayout(u),s.setLabelShow(d),s.setItemStyle(f);var y=s.getLabelLine(),v=Object(n.assign)(y,p);s.setLabelLineStyle(v),c instanceof Array?c.length>1?(s.setRadiusInner(c[0]),s.setRadiusOuter(c[1])):s.setRadiusOuter(c[0]):s.setRadiusOuter(c);var x=[],b=0;(e.data||[]).forEach(function(i){if(Object(n.isNum)(i.value)){var r=new I(i.name,i.value);r.setSeriesName(e.name),r.setSeriesIndex(o.seriesIndex),r.setDataIndex(b),r.setColor(t.getColorByIndex(a)),r.setAnimation(l),x.push(r),g.push(r)}b++,a++}),s.addChildren(x);var m=function(t){var e=Object(n.get)(t,"label.emphasis.textStyle.fontSize","12"),i=Object(n.get)(t,"label.normal.position","center");return{fontSize:parseInt(e),position:i}}(e);s.setLabelPosition(m.position),s.setLabelFontSize(m.fontSize);var O=function(t){return Object(n.get)(t,"label.formatters")}(e);return O&&(s.setHoverFormatter(Object(n.get)(O,"hover")),s.setNormalFormatter(Object(n.get)(O,"normal"))),s.setSeriesType("pie"),s.setSeriesName(e.name),s.buildLabels(),r.lastIndex=a,g},t}();var nt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ot=function(t){function e(e,i,n){var o=t.call(this)||this;return o.groupCount=1,o.index=0,o.maxValueColor="rgba(213, 227, 246, 0.7)",o.getPointInfo=function(t,e){if(1===o.pointInfoList.length&&o.footPoint)return o.pointInfoList[0];var i=o._getXAxisIndexByPosition(t,e);return o.pointInfoList[i||0]},o.optionManager=e,o.valueArray=i.data,o.eventHandler=n,o.maxData=i.maxData,o}return nt(e,t),e.prototype.setColor=function(t,e){void 0===e&&(e=!1),this.color=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"color",source:this})},e.prototype.draw=function(t){for(var e=[],i=[],o=0;o<this.pointInfoList.length;o++){var r=this.pointInfoList[o];Object(n.get)(r,"point")?e.push(r):(e.length>=1&&i.push(e),e=[])}e.length>=1&&(i.push(e),e=[]);for(o=0;o<i.length;o++){var a=i[o];this.drawBars(t,a)}},e.prototype.setGroupCount=function(t){this.groupCount=t},e.prototype.getGroupCount=function(){return this.groupCount},e.prototype.setIndex=function(t){this.index=t},e.prototype.drawBars=function(t,e){var i=this;e&&(this.rectList=[],e.forEach(function(e){var o=e.getAddionalDataByKey("maxDataPoint");Object(n.checkPoint)(o)&&(t.save(),t.beginPath(),Object(u.K)(t,o.x-10+i._barOffset||0,o.y,20,i.footPoint.y-o.y,0),t.closePath(),t.fillStyle=i.maxValueColor,t.globalAlpha=.1,t.fill(),t.restore());var r=e.getAddionalDataByKey("barRect");Object(u.O)(r)&&(t.save(),t.beginPath(),Object(u.K)(t,r.x,r.y,r.width,r.height,0),i.rectList.push(r),t.closePath(),t.fillStyle=i.color,t.fill(),t.strokeStyle=i.color,t.stroke(),t.restore())}))},e.prototype.getRectList=function(){return this.rectList||[]},e.prototype.setCoordinate=function(t){this._coordinate=t},e.prototype.setOffset=function(t){this._barOffset=t},e.prototype._getXAxisIndexByPosition=function(t,e){var i=Object(d.c)(this._matrix),n=Object(d.i)({x:t,y:e},i).x;return Math.round(n)},e.prototype.setXAxisIndex=function(t){this.xAxisIndex=t},e.prototype.getXAxisIndex=function(){return this.xAxisIndex},e.prototype.setYAxisIndex=function(t){this.yAxisIndex=t},e.prototype.getYAxisIndex=function(){return this.yAxisIndex},e.prototype.setDataIndex=function(t){this.dataIndex=t},e.prototype.getDataIndex=function(){return this.dataIndex},e.prototype.setAreaValueRange=function(t){this._areaValueRange={max:t.max,min:t.min}},e.prototype.getAreaValueRange=function(){return this._areaValueRange},e.prototype.setStack=function(t){this._stack=t},e.prototype.getStack=function(){return this._stack},e.prototype.setIndexRange=function(t,e,i){void 0===i&&(i=!1),this.startIndex==t&&this.endIndex==e||(this._needCalculate=!0,i||this.eventHandler.dispatchPropertyChangeEvent({type:"IndexRange",source:this})),this.startIndex=t,this.endIndex=e},e.prototype.calculatePointInfo=function(){var t,e,i,o=[],r=[],a=this._coordinate.getVerticalAxisByIndex(this.yAxisIndex),s=this._coordinate.getHorizontalAxisByIndex(this.xAxisIndex),h=a.isValueAxis()?s:a,c={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},l=Object(d.i)({x:0,y:0},this._matrix),p=Object(d.i)({x:1,y:0},this._matrix);this.barWidth=Object(n.getMax)(Math.abs(l.x-p.x),Math.abs(l.y-p.y))/(this.groupCount+2);var f=Object(d.i)({x:(this.index+1.5)*(1/(this.groupCount+2))-.5,y:0},this._matrix),g=l.x-f.x,y=l.y-f.y;h===s?(c.paddingLeft=c.paddingRight=this.barWidth/2,i=s.axisParam):(i=a.axisParam,c.paddingTop=c.paddingBottom=this.barWidth/2);var v=function(i){var o,a=i.index,s=i.value,l=i.trueValue,p=i.matrix,f=i.xAxis,v=i.startIndex;t=null,e=null,"string"==typeof s&&(0==(s=Object(n.trim)(s)).length||isNaN(s))&&(s=null),null!=s&&(t=Object(d.i)({x:a,y:s},p),e=h.getProjection(t),(o=Object(u.e)([t,e])).x=o.x+g,o.y=o.y+y,o=Object(u.H)(o,c)),r.push(t);var x=new O(t);if(x.setYValue(l),x.setIndex(a+v),x.setValue(s),x.setAdditionalDataByKey("barRect",o),f&&(f.data&&x.setXValue(f.data[a+v]),f.description&&x.setAdditionalDataByKey("description",f.description[a+v]),f.maxData)){var b=f.maxData[a+v];if(x.setAdditionalDataByKey("maxData",b),Object(n.isNum)(b)&&(b=Object(n.convertToNum)(b))>0){var m=Object(d.i)({x:a,y:b},p);x.setAdditionalDataByKey("maxDataPoint",m)}}return x},x=Object(n.get)(this._areas,"values",[]);if(x){for(var b=this.endIndex-this.startIndex+1,m=0;m<b&&m<x.length&&m+this.startIndex<x.length;m++){var w=this.valueArray[m+this.startIndex],_=x[m+this.startIndex];t=null,e=null;var j=v({index:m,value:_,trueValue:w,matrix:this._matrix,xAxis:i,startIndex:this.startIndex});o.push(j)}if(this.footPoint=null,1==b&&x.length>this.startIndex){o=[],r=[];_=x[0+this.startIndex],w=this.valueArray[0+this.startIndex];t=null,"string"==typeof _&&(0==(_=Object(n.trim)(_)).length||isNaN(_))&&(_=null),null!=_&&(t=Object(u.G)(Object(d.i)({x:0,y:_},this._matrix)),this.footPoint=Object(u.G)(Object(d.i)({x:.5,y:0},this._matrix))),r.push(t);j=v({index:0,value:_,trueValue:w,matrix:this._matrix,xAxis:i,startIndex:this.startIndex});o.push(j)}else this.footPoint=Object(u.G)(Object(d.i)({x:0,y:0},this._matrix))}this.pointInfoList=o,this._needCalculate=!1},e.prototype.destroy=function(){},e}(m),rt=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){o=o||{};var r=t.getIndexRange();if(e&&e.data&&e.data.length>0){var a=new ot(t,e,i),s=Object(n.get)(e,"xAxisIndex",0),h=Object(n.get)(e,"yAxisIndex",0),c=Object(n.get)(e,"stack"),l=e.data,u=0;return a.setXAxisIndex(s),a.setYAxisIndex(h),a.setIndexRange(r.startIndex,r.endIndex,!0),a.setName(e.name,!0),a.setZIndex(e.z,!0),a.setStack(c),a.setColor(o.color),a.setOffset(o.barOffset),l.forEach(function(t){t&&Object(n.isNum)(t.value)&&a.setDataIndex(u),u++}),a}},t.prototype.getBarOffset=function(t,e){return{bar1:[0],bar2:[-12,12],bar3:[-24,0,24],bar4:[-36,-12,12,36],bar5:[-48,-24,0,24,48]}["bar"+(t>5?5:t)][e>5?5:e]},t}();var at=function(t,e,i,o,r,a){void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1);var s,h=a?"height":"width",c=0,l=t.length,u=l,p=0,d=0,f=[],g=Object(n.get)(t,"length",0),y=0;for(g>1&&(y=i/(g-1));p<i&&s!=u;){s=u;for(var v=u=Math.ceil((d+l)/2),x=[],b=0;b<t.length;b+=v){var m=new Y;m.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:0,paddingBottom:0}),x.push(m),m.setText(t[b]),m.setPosition(y*b+r/2,0,"middle","top"),m.setFont(e),m.setAngle(o);var O=m.getSize();O.width>c&&(c=O[h])}var w=x.length,_=x[0],j=x[w-1],P=w;if(w<=1);else if(2===w){_.getRect().x<0&&(_.setVisible(!1),P--)}else if(w>=3){var A=_.getRect(),C=j.getRect();A.x<0&&(_.setVisible(!1),P--),C.x+C.width>i+r&&(j.setVisible(!1),P--)}(p=c*P)>i?d=u:(l=u,f=x)}return{labelRenders:f,interval:s||1,boundaryWidth:c}},st=function(t,e,i,n,o,r){void 0===n&&(n=0),void 0===o&&(o=!1);for(var a,s=o?"height":"width",h=0,c=t.length,l=c,u=0,p=0,d=[];u<i&&a!=l;){a=l;for(var f=l=Math.ceil((p+c)/2),g=[],y=0;y<t.length;y+=f){var v=e(t[y],y);g.push(v);var x=v.getSize();x.width>h&&(h=x[s])}var b=g.length,m=g[0],O=g[b-1],w=b;if(!0===r)if(b<=1);else if(2===b){m.getRect().x<0&&(m.setVisible(!1),w--)}else if(b>=3){var _=m.getRect(),j=O.getRect();_.x<0&&(m.setVisible(!1),w--),j.x+j.width>i+n&&(O.setVisible(!1),w--)}(u=h*w)>i?p=l:(c=l,d=g)}return{renders:d,interval:a||1}};function ht(t,e,i,o,r,a){void 0===o&&(o=!1),void 0===r&&(r=!1);var s=[],h=0;if(t&&t.length>0){var c=st(t,i,e,h,r,a);if(s=Object(n.getByPath)(c,"renders",[]),Object(n.get)(c,"renders.length")>1){if(!o)return c;h=c.renders.length>2?e/(c.renders.length-1):e/c.renders.length;var l=st(t,i,e-h,h,r,a);if(Object(n.get)(l,"renders.length")>1)return l.boundaryWidth=h,l}return{renders:s,interval:0,boundaryWidth:h}}return{renders:[],boundaryWidth:0,interval:0}}function ct(t,e,i,o){var r=i?i.getFromAxisParam("min"):null,a=i?i.getFromAxisParam("max"):null;t=Object(n.getMin)(t,r),e=Object(n.getMax)(e,a);var s=Math.abs(t),h=Math.abs(e),c=lt(t),l=lt(e),u=t,p=e,d=l;if(e==t&&0==e);else if(t<0&&e>0){var f=lt(g=(l/c>10?h+l:l/c<.1?s+c:s+h)/o);d=Math.ceil(Object(n.accDiv)(g,f))*f,p=Math.ceil(h/d)*d,u=t<0?-Math.ceil(s/d)*d:Math.ceil(s/d)*d}else if(t>=0){f=lt(g=(h-Object(n.getMax)(r,0))/o);d=Object(n.accMul)(Math.ceil(Object(n.accDiv)(g,f)),f),p=Object(n.accMul)(Math.ceil(Object(n.accDiv)(h,d)),d),u=Object(n.getMax)(r,0)}else if(e<0){var g;f=lt(g=s/o);d=Math.ceil(Object(n.accDiv)(g,f))*f,p=0,u=t<0?-Math.ceil(s/d)*d:Math.ceil(s/d)*d}var y={maxSupport:p,minSupport:u,scale:d=p/d>o?2*d:d};if(Object(n.isNum)(a)||Object(n.isNum)(r)){for(var v=Object(n.getMax)(r,u),x=Object(n.getMin)(a,p),b=Math.floor(r/d)*d,m=[],O=0;O<o;O++){(_=b+O*d)>v&&_<x&&m.push({value:_,important:!1})}Object(n.isNum)(v)&&m.unshift({value:v,important:v!=u}),Object(n.isNum)(x)&&m.push({value:x,important:x!=p}),y.minSupport=v,y.maxSupport=x,y.valueObjectArray=m}else if(0!=d){var w=Math.ceil(Math.abs((p-u)/d))+1;for(m=[],O=0;O<w;O++){var _;(_=Object(n.accAdd)(u,Object(n.accMul)(O,d)))<=p&&m.push({value:_,important:!1})}y.valueObjectArray=m}return y}function lt(t){var e=0;if((t=Math.abs(t))>10)for(;t>10;)e++,t/=10;else if(t<=1&&0!=t)for(;t<=1&&0!=t;)t*=10,e--;var i=1;return e>0?i=Number("1e+"+e.toString()):e<0&&(i=Number("1e"+e.toString())),Object(n.isNum)(i)?i:Math.pow(10,e)}function ut(t,e){var i=[];if(null==t)return i;for(var n=0;n<t.length;n++){var o=t[n];e?"number"==typeof(o=e(o,n))?i.push(o+""):"string"==typeof o&&i.push(o):i.push(o)}return i}var pt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dt=function(t){function e(e,i,o){var r=t.call(this)||this;return r.lineColor="#f2f2f2",r.seriesCopy=Object(n.clone)(i),r.optionManager=e,r.valueArray=r.initData(r.seriesCopy,!0)||[],r.maxValueArray=r.initData(r.seriesCopy,!1),0===r.maxValueArray.length&&0!==r.valueArray.length&&(r.maxValueArray=Object(n.clone)(r.valueArray)),r.eventHandler=o,r.barRectList=[],r.name=r.seriesCopy[0].name,r.valueColorGroup=["rgba(82, 157, 255, 0.9)","rgba(120, 189, 109, 0.9)","rgba(99, 205, 214, 0.9)","rgba(99, 205, 214, 0.9)","rgba(114, 105, 240, 0.9)","rgba(55, 191, 134, 0.9)","rgba(255, 127, 71, 0.9)","rgba(245, 78, 78, 0.9)","rgba(164, 99, 214, 0.9)","rgba( 219, 75, 142, 0.9)"],r.maxValueColorGroup=["rgba(82, 157, 255, 0.2)","rgba(120, 189, 109, 0.2)","rgba(99, 205, 214, 0.2)","rgba(99, 205, 214, 0.2)","rgba(114, 105, 240, 0.2)","rgba(55, 191, 134, 0.2)","rgba(255, 127, 71, 0.2)","rgba(245, 78, 78, 0.2)","rgba(164, 99, 214, 0.2)","rgba( 219, 75, 142, 0.2)"],r.font="12px sans-serif",r}return pt(e,t),e.prototype.initData=function(t,e){var i=[];return e?t.forEach(function(t){var e=t.data;e&&i.push(Object(n.sumArray)(e))}):t.forEach(function(t){var e=t.maxData;e&&e.length>0&&i.push(Object(n.sumArray)(e))}),i},e.prototype.getAxisLabelColor=function(){if(this.optionManager){var t=this.optionManager.getTheme();if(t===h.DARK)return"#81868C";if(t===h.UW_CHART)return"#888888"}return this.color},e.prototype.setColor=function(t,e){void 0===e&&(e=!1),this.color=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"color",source:this})},e.prototype.getLineColor=function(){if(this.optionManager){var t=this.optionManager.getTheme();if(t===h.DARK)return"#262E38";if(t===h.UW_CHART)return"#F2F2F2"}return this.color},e.prototype.getHBarRects=function(){return this.barRectList},e.prototype.getMeasureText=function(t,e){return Object(u.B)(t,this.font)>e?this.getMeasureText(t.substring(0,t.length-2),e):t+"..."},e.prototype.draw=function(t){var e=this,i=this.optionManager.getFromOption("yAxis.data")||this.optionManager.getFromOption("yAxis.0.data"),o=this.optionManager.getFromOption("yAxis.discription")||this.optionManager.getFromOption("yAxis.0.discription"),r=this.optionManager.getFromOption("xAxis.formatter")||this.optionManager.getFromOption("xAxis.0.formatter"),a=this.optionManager.getFromOption("xAxis.unit")||this.optionManager.getFromOption("xAxis.0.unit"),s=this.optionManager.getFromOption("grid")||{left:20,right:20,bottom:10,top:10,containLabel:!0},h=25,c=[],l=s.top,p=0;i&&i.forEach(function(t,n){var o=Object(u.B)(t,e.font);o>h&&(h=o),c.push(l+40*n),n==i.length-1&&(p=l+40*n+30)});var d=[];if(o&&o.length>0){var f=Object(u.B)("...",this.font);o.forEach(function(t){var i=e.getMeasureText(t,h-f);d.push(i)}),o=d}var g=30,y=this.maxValueArray||this.valueArray,v=1;i&&y.forEach(function(t,i){t=Math.max(t,Object(n.get)(e.valueArray,""+i,0)),v<Math.abs(t)&&(v=Math.abs(t));var o=0;(o=e.maxValueArray?Object(u.B)(e.valueArray[i]+"/"+t,e.font):Object(u.B)(""+t,e.font))>g&&(g=o)});var x=function(t,e,i){void 0===i&&(i=5);var o=0,r=1,a={maxSupport:0,minSupport:0,scale:1},s=e?e.getFromAxisParam("minInterval"):null,h=!!e&&e.getFromAxisParam("leaveSpace"),c=e?e.getFromAxisParam("max"):null,l=e?e.getFromAxisParam("min"):null,u=!1;if(t&&null!=t.min&&null!=t.max){if(a=ct(t.min,t.max,e,i),!c&&!l&&h){var p=Object(n.clone)(t);a.maxSupport===t.max&&t.max>0&&(p.max+=.1*lt(t.max)),a.minSupport===t.min&&t.min<0&&(p.min+=.1*lt(t.min)),a=ct(p.min,p.max,e,i)}r=a.scale,s>=1&&r<1&&(r=s),o=(a.maxSupport-a.minSupport)/r||1,String(o).indexOf(".")>-1&&(o=parseInt(o.toFixed(0),10)+1),u=!0}return{scale:r,count:o,minSupport:a.minSupport,maxSupport:a.maxSupport,validate:u,valueObjectArray:a.valueObjectArray}}({max:v,min:0},null),b=function(t,e){var i=[];if(!0!==t.validate)return[];for(var o=Object(n.get)(t.valueObjectArray,"length",0),r=0;r<o;r++){var a=Object(n.get)(t.valueObjectArray[r],"value");e?"number"==typeof(a=e(a))?i.push(a+""):"string"==typeof a&&i.push(a):i.push(a+"")}return i}(x,r),m=this.width-s.left-s.right-g-h;m<=0&&(m=50);var O=function(t,e,i,o,r,a){void 0===o&&(o=0),void 0===r&&(r=!1),void 0===a&&(a=!1);var s=[],h=0;if(t&&t.length>0){var c=new Y;c.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:0,paddingBottom:0}),s=[c],c.setText(t[0]),c.setFont(e),c.setAngle(o),c.calculateSize();var l=at(t,e,i,o,h,a);if(Object(n.get)(l,"labelRenders.length")>1){if(!r)return l;h=l.labelRenders.length>2?i/(l.labelRenders.length-1):i/l.labelRenders.length;var u=at(t,e,i-h,o,h,a);if(Object(n.get)(u,"labelRenders.length")>1)return u.boundaryWidth=h,u}return{labelRenders:s,interval:t.length,boundaryWidth:h}}return{labelRenders:[],boundaryWidth:0,interval:0}}(b,this.font,m,0,!1),w=m/(O.labelRenders.length-1);O.labelRenders.forEach(function(i,n){i.setText(""+i.getText()+a),i.setColor(e.getAxisLabelColor()),i.calculateSize(),i.setPosition(s.left+h+w*n,p+5,"middle","top"),i.draw(t)});var _=x.maxSupport||0;O.labelRenders.forEach(function(i){Object(u.k)(t,{x:i._posX,y:l},{x:i._posX,y:p},e.getLineColor(),1)});var j=this.width-s.right+5;c.forEach(function(i,n){var o=e.valueArray[n],r=e.maxValueArray?e.maxValueArray[n]:null,a=o+"/"+r;r||(a=""+o);var s=new Y(a,e.font,e.getAxisLabelColor());s.calculateSize(),s.setPosition(j,i+15,"right","middle"),s.draw(t)});var P=s.left+h-5;c.forEach(function(r,s){var h=new Y(i[s],e.font,e.getAxisLabelColor());h.calculateSize(),h.setPosition(P,r+15,"right","middle"),h.draw(t),o&&o.length===i.length&&((h=new Y(o[s],e.font,"rgba(178, 178, 178, 1)")).calculateSize(),h.setPosition(P,r+15+12,"right","middle"),h.draw(t));var c=new Array(Object(n.get)(e.seriesCopy,s+".data.length")).fill(0),l={rect:{x:P,y:r,width:m,height:30},values:e.seriesCopy[s].data,maxValues:e.seriesCopy[s].maxData,names:e.seriesCopy[s].names,unit:a,colors:e.valueColorGroup,title:e.name,seriesName:i[s],info:e.seriesCopy[s].maxData?Object(n.zip)(c,e.valueColorGroup,e.seriesCopy[s].names,e.seriesCopy[s].data,e.seriesCopy[s].maxData):Object(n.zip)([0,0,0],e.valueColorGroup,e.seriesCopy[s].names,e.seriesCopy[s].data)};e.barRectList.push(l)});var A=s.left+h,C={};if(this.maxValueArray)for(var L=function(i){C[i]||(C[i]=[]),I.getDataValue(i,!0).forEach(function(n,o){var r=m*Math.abs(n)/_;0==o?C[i].push({begin:A,length:r}):C[i].push({begin:C[i][o-1].begin+C[i][o-1].length,length:r}),t.save(),t.beginPath(),Object(u.K)(t,C[i][o].begin,c[i],r,30,0),t.closePath(),t.fillStyle=e.maxValueColorGroup[o%10],t.fill(),t.strokeStyle=e.maxValueColorGroup[o%10],t.stroke(),t.restore()})},I=this,F=this.maxValueArray.length-1;F>=0;F--)L(F);var S=function(i){M.getDataValue(i,!1).forEach(function(n,o){var r=m*Math.abs(n)/_;t.save(),t.beginPath(),Object(u.K)(t,C[i]&&C[i][o]?C[i][o].begin:A,c[i],r,30,0),t.closePath(),t.fillStyle=e.valueColorGroup[o%10],t.fill(),t.strokeStyle=e.valueColorGroup[o%10],t.stroke(),t.restore()})},M=this;for(F=this.valueArray.length-1;F>=0;F--)S(F)},e.prototype.destroy=function(){},e.prototype.getDataValue=function(t,e){if(e){var i=Object(n.get)(this.seriesCopy,t+".maxData");return i||(i=Object(n.get)(this.seriesCopy,t+".data",[])),i}return Object(n.get)(this.seriesCopy,t+".data",[])},e}(m),ft=function(){function t(){}return t.prototype.createChart=function(t,e,i,n){var o=e[0];if(n=n||{},o&&o.data&&o.data.length>0){var r=new dt(t,e,i);return r.setName(o.name,!0),r.setColor(n.color),r.width=n.width,r.height=n.height,r}},t.prototype.handleMouseMove=function(){},t}(),gt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function yt(){return{direction:"right",itemStyle:{normal:{color:h.LIQUID_DEFAULT_COLOR,opacity:.8}}}}var vt=function(t){function e(e){var i=t.call(this)||this;return i._needAnimation=!0,i._waveTimer=null,i._offset=0,i._lastTime=new Date,i._visible=!0,i._beginTime=new Date,i._waveDatas=[],i._init(e),i}return gt(e,t),e.prototype._init=function(t){var e=this;if(t&&t.data){var i=t.data;this._waveDatas=[];var o=[];o=i instanceof Array?i:[i],this._serie=t,o.forEach(function(t){if(Object(n.isNum)(t))(i=yt()).value=parseFloat(t),e._waveDatas.push(i);else if(Object(n.isPercent)(t)){(i=yt()).value=parseFloat(t)/100,e._waveDatas.push(i)}else if(Object(n.isNum)(t.value)){(i=yt()).value=parseFloat(t)/100,(o=Object(n.assign)(i,t)).value=parseFloat(t.value),e._waveDatas.push(o)}else if(Object(n.isPercent)(t.value)){var i,o;(i=yt()).value=parseFloat(t)/100,(o=Object(n.assign)(i,t)).value=parseFloat(t.value)/100,e._waveDatas.push(o)}})}},e.prototype.setPosition=function(t,e){this.setCenterX(t),this.setCenterY(e)},e.prototype.setRadius=function(t){this._radius!=t&&(this._radius=t)},e.prototype.draw=function(t){var e=0,i=0,o=0,r=Math.min(this._width,this._height);if(Object(n.isPercent)(this._centerX))e=this._convert(this._width,this._centerX);else{if(!Object(n.isNum)(this._centerX))return;e=this._validate(this._centerX)}if(Object(n.isPercent)(this._centerY))i=this._convert(this._height,this._centerY);else{if(!Object(n.isNum)(this._centerY))return;i=this._validate(this._centerY)}if(Object(n.isPercent)(this._radius))o=this._convert(r,this._radius);else{if(!Object(n.isNum)(this._radius))return;o=this._validate(this._radius)/2}for(var a=(this._lastTime.getTime()-this._beginTime.getTime())/1e3,s=[],c=0;c<this._waveDatas.length;c++){var l=this._waveDatas[c],u=l.value;u>1?u=1:u<0&&(u=0);var p=4*(o/8)*(u=1-u)*(1-u),d=i-o+2*u*o,f=void 0,g=.5+.5*c/this._waveDatas.length,y=Object(n.get)(l,"direction","right"),v=a*g*Math.PI*2;if("left"===y&&(v=-v),this._needAnimation)f=this.buildWavePath(e-o,d,p,2*o,1.5,v,l);else(A=[]).push({x:e-o,y:d}),A.push({x:e+o,y:d}),A.push({x:e+o,y:0}),A.push({x:e-o,y:0}),f={points:A,userData:l};s.push(f)}t.save(),t.beginPath(),t.arc(e,i,o,0,2*Math.PI),t.closePath(),t.clip();for(c=0;c<s.length;c++){f=s[c];var x=Object(n.get)(f,"userData.itemStyle.normal"),b=Object(n.get)(x,"opacity"),m=Object(n.get)(x,"borderColor"),O=Object(n.get)(x,"borderWidth"),w=Object(n.get)(x,"shadowColor","rgba(0,0,0,0.4)"),_=Object(n.get)(x,"shadowBlur"),j=Object(n.get)(x,"shadowOffsetX"),P=Object(n.get)(x,"shadowOffsetY");b>1?b=1:b<0&&(b=0);var A=f.points;if(t.save(),t.beginPath(),A.length>1){t.moveTo(A[0].x,A[0].y);for(var C=1;C<A.length;C++){var L=A[C];t.lineTo(L.x,L.y)}}t.closePath(),m&&(t.strokeStyle=m),O&&(t.lineWidth=O),w&&(t.shadowColor=w),_&&(t.shadowBlur=_),j&&(t.shadowOffsetX=j),P&&(t.shadowOffsetY=P),b&&(t.globalAlpha=b),t.fillStyle=Object(n.get)(f,["userData","itemStyle","normal","color"],h.LIQUID_DEFAULT_COLOR),t.fill(),m&&t.stroke(),t.restore()}t.restore();var I=Object(n.get)(this._serie,"backgroundStyle"),F=Object(n.get)(I,"borderColor"),S=Object(n.get)(I,"borderWidth"),M=Object(n.get)(I,"shadowColor"),R=Object(n.get)(I,"shadowBlur"),E=Object(n.get)(I,"shadowOffsetX"),T=Object(n.get)(I,"shadowOffsetY");t.save(),t.beginPath(),t.lineWidth=2,t.strokeStyle=h.LIQUID_DEFAULT_COLOR,t.arc(e,i,o,0,2*Math.PI),t.closePath(),F&&(t.strokeStyle=F),S&&(t.lineWidth=S),M&&(t.shadowColor=M),R&&(t.shadowBlur=R),E&&(t.shadowOffsetX=E),T&&(t.shadowOffsetY=T),t.stroke(),t.restore(),this.drawLabel(t)},e.prototype.buildWavePath=function(t,e,i,n,o,r,a){for(var s=[],h=n/o,c=2*Math.PI/h,l=0;l<n;l++)s.push({x:t+l,y:e+i*Math.sin(l*c+r)});if(s.length>=2){var u=s[s.length-1],p=s[0];s.push({x:u.x,y:this._height}),s.push({x:p.x,y:this._height}),s.push({x:p.x,y:p.y})}return{points:s,userData:a}},e.prototype.setVisible=function(t){t!=this._visible&&(this._visible=t)},e.prototype.isVisible=function(){return this._visible},e.prototype.setLabelPosition=function(t){this._labelPosition=t},e.prototype.drawLabel=function(t){if(this.isVisible()){var e={x:0,y:0};"center"===(this._labelPosition||"center")&&(e.x=this._convert(this._width,"50%"),e.y=this._convert(this._height,"50%"));var i=Object(n.get)(this._formatters,"normal");if("function"!=typeof i);else{var o=i(Object(n.get)(this._serie,"data"));o instanceof Array&&new W(o).draw(t,e.x,e.y)}}},e.prototype.setWidth=function(t){var e=parseFloat(t);e!=this._width&&(this._width=e)},e.prototype.setHeight=function(t){var e=parseFloat(t);e!=this._height&&(this._height=e)},e.prototype.setCenterX=function(t){this._centerX!==t&&(this._centerX=t)},e.prototype.setCenterY=function(t){this._centerY!==t&&(this._centerY=t)},e.prototype._validate=function(t){return"number"===t||Object(n.isPercent)(t)?t:Object(n.isNum)(t)?parseFloat(t):void 0},e.prototype._convert=function(t,e){return"number"==typeof e?e:"string"==typeof e?t*parseFloat(e)/100:e},e.prototype.startWave=function(){var t=this,e=function(){t._waveTimer&&window.cancelAnimationFrame(t._waveTimer),t._waveTimer=window.requestAnimationFrame(function(){t.offsetAdd(),t.eventHandler.dispatchPropertyChangeEvent({type:"animation",source:t}),e()})};this._waveTimer?(window.cancelAnimationFrame(this._waveTimer),this.eventHandler.dispatchPropertyChangeEvent({type:"animation",source:this})):e()},e.prototype.offsetAdd=function(){this._lastTime=new Date},e.prototype.setFormatters=function(t){this._formatters=t},e}(m),xt=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){t.getOption();var r=new vt(e),a=Object(n.get)(e,"radius","30%"),s=Object(n.get)(e,"center",["50%","50%"]);r.setWidth(o.width),r.setHeight(o.height),r.setRadius(a),r.setPosition(s[0],s[1]),r.setEventHandler(i);var h=function(t){return Object(n.get)(t,"label.formatters")}(e),c=Object(n.get)(e,"label.normal.position","center");return r.setLabelPosition(c),r.setFormatters(h),[].push(r),r.startWave(),r},t}();var bt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mt=function(t){function e(e,i){var n=t.call(this)||this;return n.location={x:0,y:0},n.size={width:32,height:32},n.image={},n.property={},n.util={},n.selected=!1,n.setId(e),n.eventHandler=i,n.font="12px "+h.DEFAULT_FONT_FAMILY,n.util={roundRectPath:u.K,drawText:u.p,font:n.font},n}return bt(e,t),e.prototype.setLocation=function(t){this.location=t},e.prototype.setSize=function(t){this.size=t},e.prototype.setImage=function(t){this.image=t},e.prototype.setProperty=function(t){this.property=t},e.prototype.setDrawNode=function(t){this.drawNode=t},e.prototype.draw=function(t){this.drawNode&&(this.clearRect(t),this.drawNode(t,this,this.selected,this.util))},e.prototype.isSelected=function(t){var e=this.getRect();return Object(u.C)(e,t.x,t.y)},e.prototype.setSelected=function(t){this.selected=t},e.prototype.getRect=function(){if(null!=this.location&&null!=this.size)return{x:this.location.x,y:this.location.y,width:this.size.width,height:this.size.height}},e.prototype.clearRect=function(t){t.save(),null!=this.location&&null!=this.size&&t.clearRect(this.location.x,this.location.y,this.size.width,this.size.height),t.restore()},e}(m),Ot=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wt=function(t){function e(e,i){var n=t.call(this)||this;return n.fromId="",n.toId="",n.fromNode={},n.toNode={},n.showArraw=!1,n.eventHandler=i,n.setId(e),n}return Ot(e,t),e.prototype.setFromId=function(t){this.fromId=t},e.prototype.setToId=function(t){this.toId=t},e.prototype.setFromNode=function(t){this.fromNode=t},e.prototype.setToNode=function(t){this.toNode=t},e.prototype.setColor=function(t){this.color=t},e.prototype.setShowArraw=function(t){this.showArraw=t},e.prototype.drawArrowhead=function(t,e,i,n){t.save(),t.beginPath(),t.translate(e,i),t.rotate(n),t.strokeStyle=this.color,t.moveTo(0,0),t.lineTo(5,20),t.lineTo(-5,20),t.closePath(),t.restore(),t.fillStyle=this.color,t.fill()},e.prototype.drawArrow=function(t,e,i){var n=Math.atan((i.y-e.y)/(i.x-e.x));n+=(i.x>e.x?90:-90)*Math.PI/180,this.drawArrowhead(t,i.x,i.y,n)},e.prototype.draw=function(t){var e={x:this.fromNode.location.x+this.fromNode.size.width,y:this.fromNode.location.y+this.fromNode.size.height/2},i={x:this.toNode.location.x,y:this.toNode.location.y+this.fromNode.size.height/2};if(e.y===i.y)Object(u.k)(t,e,i,this.color,2),this.showArraw&&this.drawArrow(t,e,i);else{var n={x:(e.x+i.x)/2,y:e.y},o={x:(e.x+i.x)/2,y:i.y};Object(u.k)(t,e,n,this.color,2),Object(u.k)(t,n,o,this.color,2),Object(u.k)(t,o,i,this.color,2),this.showArraw&&this.drawArrow(t,o,i)}},e}(m),_t={};var jt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pt=function(t){function e(e,i,n){var o=t.call(this)||this;return o.location={},o.layout="top",o.offset={x:0,y:0},o.size={width:16,height:16},o.image={},o.property={},o.util={},o.node={},o.selected=!1,o.setId(e),o.eventHandler=i,o.node=n,o.font="12px "+h.DEFAULT_FONT_FAMILY,o.util={roundRectPath:u.K,drawText:u.p,font:o.font},o}return jt(e,t),e.prototype.setLayout=function(t){switch(this.layout=t,t){case"left":this.location={x:this.node.location.x+this.offset.x,y:this.node.location.y+this.node.size.height/2+this.offset.y};break;case"right":this.location={x:this.node.location.x+this.node.size.width+this.offset.x,y:this.node.location.y+this.node.size.height/2+this.offset.y};break;case"top":this.location={x:this.node.location.x+this.node.size.width/2+this.offset.x,y:this.node.location.y+this.offset.y};break;case"bottom":this.location={x:this.node.location.x+this.node.size.width/2+this.offset.x,y:this.node.location.y+this.node.size.width+this.offset.y};break;default:this.location={x:this.node.location.x+this.node.size.width+this.offset.x,y:this.node.location.y+this.node.size.height/2+this.offset.y}}},e.prototype.setOffet=function(t){this.offset=t},e.prototype.setSize=function(t){this.size=t},e.prototype.setImage=function(t){this.image=t},e.prototype.setProperty=function(t){this.property=t},e.prototype.setDrawNode=function(t){this.drawAttachment=t},e.prototype.draw=function(t){if(this.drawAttachment)this.drawAttachment(t,this,this.selected,this.util);else{if(!this.image)return;var e=this;!function(t,e,i){if(void 0===i&&(i=void 0),_t[t])i(_t[t]);else{var n=new Image;n.src=e,n.onload=function(){i(n),_t[t]=n}}}(this.image,this.image,function(i){e.createPat(t,i)})}},e.prototype.createPat=function(t,e){t.drawImage(e,this.location.x,this.location.y)},e.prototype.isSelected=function(t){var e=this.getRect();return Object(u.C)(e,t.x,t.y)},e.prototype.setSelected=function(t){this.selected=t},e.prototype.getRect=function(){if(null!=this.location&&null!=this.size)return{x:this.location.x,y:this.location.y,width:this.size.width,height:this.size.height}},e.prototype.clearRect=function(t){t.save(),null!=this.location&&null!=this.size&&t.clearRect(this.location.x,this.location.y,this.size.width,this.size.height),t.restore()},e}(m),At=function(){function t(){}return t.prototype.createChart=function(t,e,i){var n=[],o=[],r={};return i=i||{},t&&t.nodes&&t.nodes.forEach(function(t){var i=new mt(t.id,e);i.setName(t.name),i.setLocation(t.location),i.setSize(t.size),i.setImage(t.image),i.setDrawNode(t.draw),i.setProperty(t.property),n.push(i),t.attachment&&Array.isArray(t.attachment)&&t.attachment.forEach(function(i,o){var r=new Pt("attachment_"+o+"_"+t.id,e,t);r.setImage(i.image),r.setOffet(i.offset),r.setLayout(i.layout),n.push(r)}),r[t.id]=i}),t&&t.links&&t.links.forEach(function(t){var i=new wt(t.id,e);i.setName(t.name),i.setFromId(t.fromId),i.setToId(t.toId),i.setFromNode(r[t.fromId]),i.setToNode(r[t.toId]),i.setColor(t.color),i.setShowArraw(t.showArraw),o.push(i)}),o.concat(n)},t}(),Ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lt=function(t){function e(e){var i=t.call(this)||this;return i._needCalculate=!0,i.lineWidth=1,i._radarIndex=0,i._neeedRefresh=!0,i._areaStyle={opacity:.8},i.getPointInfo=function(t,e){if(this.isVisible()&&Object(u.C)(this._rect,t,e))for(var i=this._valueArray,n=0;n<this.closeLine.length;n++){var o=this.closeLine[n],r=Object(u.t)(o,4,4);if(Object(u.C)(r,t,e)){var a=new O(o);return a.setYValue(i[n]),a}}},i.eventHandler=e,i}return Ct(e,t),e.prototype.setValues=function(t,e){void 0===e&&(e=!1),this._valueArray=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"valueArray",source:this}),this._needCalculate=!0,this._neeedRefresh=!0},e.prototype.setValueMatrixArray=function(t,e){void 0===e&&(e=!1),this._matrixArray=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"matrixArray",source:this}),this._needCalculate=!0},e.prototype.calculate=function(){if(this.closeLine=[],this._matrixArray instanceof Array){for(var t=0;t<this._matrixArray.length;t++){var e=this._matrixArray[t],i=this._valueArray[t];if(Object(n.isNum)(i)){var o={x:i=parseFloat(i),y:0};this.closeLine.push(Object(d.i)(o,e))}else this.closeLine.push(null)}this._rect=Object(u.e)(this.closeLine)}this._needCalculate=!1},e.prototype.getRect=function(){return this._rect},e.prototype.needRefresh=function(){return this._neeedRefresh},e.prototype.refresh=function(){this._neeedRefresh=!0},e.prototype.getLineWidth=function(){return this.lineWidth},e.prototype.setColor=function(t,e){void 0===e&&(e=!1),this.color=t,e||this.eventHandler.dispatchPropertyChangeEvent({type:"color",source:this})},e.prototype.setLineWidth=function(t,e){void 0===e&&(e=!1),Object(n.isNum)(t)&&this.lineWidth!=t&&(this.lineWidth=parseInt(t,10)||1,e||this.eventHandler.dispatchPropertyChangeEvent({type:"lineWidth",source:this}))},e.prototype.setRadarIndex=function(t){this._radarIndex=t},e.prototype.getRadarIndex=function(){return this._radarIndex},e.prototype.setAreaStyle=function(t,e){if(void 0===e&&(e=!1),t){var i=!1;t.color!=this._areaStyle.color&&(this._areaStyle.color=t.color,i=!0),t.opacity!=this._areaStyle.opacity&&Object(n.isNum)(t.opacity)&&(this._areaStyle.opacity=Object(n.convertToNum)(t.opacity),i=!0),t.shadowBlur!=this._areaStyle.shadowBlur&&Object(n.isNum)(t.shadowBlur)&&(this._areaStyle.shadowBlur=Object(n.convertToNum)(t.shadowBlur),i=!0),t.shadowOffsetX!=this._areaStyle.shadowOffsetX&&Object(n.isNum)(t.shadowOffsetX)&&(this._areaStyle.shadowOffsetX=Object(n.convertToNum)(t.shadowOffsetX),i=!0),t.shadowOffsetY!=this._areaStyle.shadowOffsetY&&Object(n.isNum)(t.shadowOffsetY)&&(this._areaStyle.shadowOffsetY=Object(n.convertToNum)(t.shadowOffsetY),i=!0),i&&!e&&this.eventHandler.dispatchPropertyChangeEvent({type:"areaStyle",source:this})}},e.prototype.draw=function(t){if(this._needCalculate&&this.calculate(),this.closeLine instanceof Array&&this.closeLine.length>0){var e=this.getLineWidth();null!=this._areaStyle.color&&(t.save(),this._buildLinePath(t),null!=this._areaStyle.opacity&&(t.globalAlpha=this._areaStyle.opacity),null!=this._areaStyle.color&&(t.fillStyle=this._areaStyle.color),null!=this._areaStyle.shadowColor&&(t.shadowColor=this._areaStyle.shadowColor,null!=this._areaStyle.shadowBlur&&(t.shadowBlur=this._areaStyle.shadowBlur),null!=this._areaStyle.shadowOffsetX&&(t.shadowOffsetX=this._areaStyle.shadowOffsetX),null!=this._areaStyle.shadowOffsetY&&(t.shadowOffsetY=this._areaStyle.shadowOffsetY)),t.fill(),t.restore()),t.save(),this._buildLinePath(t),t.strokeStyle=this.getColor(),t.lineWidth=e,t.stroke(),t.restore()}},e.prototype._buildLinePath=function(t){t.beginPath();for(var e=0,i=null;e<this.closeLine.length;e++){if(n=this.closeLine[e]){t.moveTo(n.x,n.y),i=n;break}}for(;e<this.closeLine.length;e++){var n;(n=this.closeLine[e])&&t.lineTo(n.x,n.y)}i&&t.lineTo(i.x,i.y),t.closePath()},e}(m),It=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){var r=[];if(e){var a=Object(n.get)(e,"radarIndex")||0,s=Object(n.get)(e,"data");s instanceof Array||(s=[s]);var h=o.radarManager;return t.getFromOption("radar"),s.forEach(function(t){var e=new Lt(i),o=Object(n.get)(t,"value");if(o){var s=Object(n.get)(t,"lineStyle.width"),c=Object(n.get)(t,"areaStyle");if(e.setName(t.name),e.setSeriesType("radar"),e.setValues(o,!0),e.setAreaStyle(c,!0),e.setRadarIndex(a),e.setLineWidth(s,!0),r.push(e),h){var l=h.registerColor(a,e.getId());e.setColor(l,!0),c&&e.setAreaStyle({color:l},!0)}}}),r}},t}(),Ft=function(){function t(){this._data=[]}return t.prototype.insert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1==t.length?this._data.push(t[0]):2==t.length?this._data.splice(t[0],0,t[1]):void 0},t.prototype.concat=function(t){return this.concat(t)},t.prototype.removeAt=function(t){return this._data.splice(t,1)},t.prototype.remove=function(t){var e=this._data.indexOf(t);if(e>-1)return this._data.splice(e,1)},t.prototype.removeClear=function(t){for(var e=[],i=this._data.indexOf(t);i>-1;)e.push(this._data.splice(i,1)),i=this._data.indexOf(t);return e},t.prototype.clear=function(){return this._data.splice(0,this._data.length)},t.prototype.clone=function(){var e=new t;return e._data=this._data.concat(),e},t.prototype.indexOf=function(t,e){return void 0===e&&(e=void 0),this._data.indexOf(t,e)},t.prototype.size=function(){return this._data.length},t.prototype.forEach=function(t){this._data.forEach(t)},t.prototype.toArray=function(){return this._data.concat()},t.prototype.get=function(t){return this._data[t]},t}(),St=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0,this.visible=!0,this.children=new Ft,this.needCalculate=!1,this.hover=!1,this.float=h.FLOAT.LEFT,this.paddings={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0},this.onMouseDown=this.onMouseDown.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}return t.prototype.setParent=function(t){this.parent=t},t.prototype.setPaddings=function(t){var e=Object(n.get)(t,"paddingLeft"),i=Object(n.get)(t,"paddingRight"),o=Object(n.get)(t,"paddingTop"),r=Object(n.get)(t,"paddingBottom");e=Object(n.isNum)(e)?parseInt(e):this.paddings.paddingLeft,i=Object(n.isNum)(i)?parseInt(i):this.paddings.paddingRight,o=Object(n.isNum)(o)?parseInt(o):this.paddings.paddingTop,r=Object(n.isNum)(r)?parseInt(r):this.paddings.paddingBottom,this.paddings={paddingLeft:e,paddingRight:i,paddingTop:o,paddingBottom:r}},t.prototype.getParent=function(){return this.parent},t.prototype.getOriginWidth=function(){return this.originWidth},t.prototype.setOriginWidth=function(t){this.originWidth=t},t.prototype.getFloat=function(){return this.float},t.prototype.setFloat=function(t){switch(t){case h.FLOAT.RIGHT:this.float=h.FLOAT.RIGHT;break;default:this.float=h.FLOAT.LEFT}},t.prototype.calculateLayout=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.needCalculate=!1},t.prototype.getRect=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.getDirtyRect=function(){var t;return this.getChildren().forEach(function(e){var i=e.getDirtyRect();t=Object(u.E)(i,t)}),t},t.prototype.getSize=function(){return{width:this.width,height:this.height}},t.prototype.setWidth=function(t){this.width=t,this.needCalculate=!0},t.prototype.getWidth=function(){return this.width},t.prototype.setHeight=function(t){this.height=t,this.needCalculate=!0},t.prototype.getHeight=function(){return this.height},t.prototype.setPosition=function(t,e){this.x=t,this.y=e,this.needCalculate=!0},t.prototype.draw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.getChildren().forEach(function(e){e.isVisible()&&e.draw(t[0])})},t.prototype.setVisible=function(t){this.visible=t},t.prototype.isVisible=function(){return"function"==typeof this.visible?this.visible():this.visible},t.prototype.adds=function(t){var e=this;!t||t.length<1||t.forEach(function(t){e.children.indexOf(t)<0&&(e.children.insert(t),t.setParent(e))})},t.prototype.add=function(t){t&&this.children.indexOf(t)<0&&(this.children.insert(t),t.setParent(this))},t.prototype.remove=function(t){t&&this.children.indexOf(t)>=0&&(this.children.remove(t),t.setParent(void 0))},t.prototype.removes=function(t){var e=this;if(t){var i=!1,n=this.children.clone();t.forEach(function(t){n.indexOf(t)>=0&&(e.children.remove(t),t.setParent(void 0),i=!0)}),i&&(t=n)}},t.prototype.clear=function(){this.children.clone().forEach(function(t){t.setParent(void 0)}),this.children.clear()},t.prototype.getChildren=function(){return this.children._data.concat()},t.prototype.isHover=function(){return this.hover||this.hasHoveredChild()},t.prototype.hasHoveredChild=function(){return Object(n.quicklyFindInArray)(this.getChildren(),function(t){if(t&&t.isHover())return!0})||!1},t.prototype.setHover=function(t){this.hover=t},t.prototype.onMouseUp=function(t,e,i,n){void 0===i&&(i=void 0),i=i,this.getChildren().concat().forEach(function(i){var o=i.getRect();Object(u.C)(o,t,e)&&i.onMouseUp(t,e,i,n)})},t.prototype.onMouseDown=function(t,e,i,n){void 0===i&&(i=void 0),i=i,this.getChildren().concat().forEach(function(i){var o=i.getRect();Object(u.C)(o,t,e)&&i.onMouseDown(t,e,i,n)})},t.prototype.onMouseMove=function(t,e,i,n){void 0===i&&(i=void 0),i=i;var o,r=this.getChildren().concat();r.forEach(function(i){var n=i.getRect();Object(u.C)(n,t,e,!0)&&(o=i)}),r.forEach(function(i){i.isHover()&&(i===o?i.onMouseMove(t,e,i,n):(i.setHover(!1),i.onMouseLeave(t,e,i,n)))}),r.forEach(function(i){i.isHover()||i===o&&(i.setHover(!0),i.onMouseEnter(t,e,i,n),i.onMouseMove(t,e,i,n))})},t.prototype.onMouseEnter=function(t,e,i,n){void 0===i&&(i=void 0),t=t,e=e,i=i,n=n},t.prototype.onMouseLeave=function(t,e,i,n){void 0===i&&(i=void 0),i=i,this.getChildren().concat().forEach(function(i){i.isHover()&&(i.setHover(!1),i.onMouseLeave(t,e,i,n))})},t}(),Mt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mt(e,t),e.prototype.calculateSize=function(){},e.prototype.getWidthArrayObj=function(){for(var t=this.getChildren(),e=0,i=new Array(t.length),o=0;o<t.length;o++){var r=t[o].getChildren();r.length>e&&(e=r.length);for(var a=0;a<r.length;a++)i[o]=i[o]||[],i[o][a]=r[a]}var s=[];for(a=0;a<e;a++)for(o=0;o<t.length;o++){var h=i[o][a];if(h){var c=h.getOriginWidth(),l=h.getSize(),u=Object(n.get)(l,"width");s[a]=s[a]||{},s[a].width=s[a].width>u?s[a].width:u,c=Object(n.isPercent)(c)?parseFloat(c):void 0,s[a].originWidth=s[a].originWidth>c?s[a].originWidth:c}}for(a=0;a<s.length;a++){var p=s[a];p.width||null!=p.originWidth||(p.originWidth=100),null==p.originWidth||Object(n.isNum)(p.originWidth)||delete p.originWidth}return s},e.prototype.convert=function(t,e){for(var i=[],n={},o=0,r=0,a=0;a<t.length;a++){var s=t[a];null!=s.originWidth?(o+=s.originWidth,n[a]=s.originWidth):(i[a]=s.width,r+=s.width)}var h=o>100?1:o/100,c=e-r;for(var l in c<0&&(c=0),n){var u=h*n[l]/o;i[l]=u*c}return i},e.prototype.getRect=function(){var t=this;return this.rect&&1!=this.needCalculate||this.calculateLayout(),this.getChildren().forEach(function(e){t.rect=Object(u.E)(e.getRect(),t.rect)}),this.rect},e.prototype.getSize=function(){return this.getRect()},e.prototype.calculate=function(){this.calculateLayout()},e.prototype.calculateLayout=function(){var t=this,e=this.getChildren(),i=0,o=this.getWidthArrayObj(),r=this.convert(o,this.width);e.forEach(function(e){e.setWidthArray&&e.setWidthArray(r);var o=e.getSize(),a=Object(n.get)(o,"height",0),s={x:t.x,y:t.y+i,width:t.width,height:a};e.calculateLayout(s),i+=a}),this.rect={x:this.x,y:this.y,height:i,width:this.width},this.needCalculate=!1},e.prototype.draw=function(t){var e=this;if(this.isVisible()){var i=this.getChildren(),o=0,r=this.getWidthArrayObj(),a=this.convert(r,this.width);i.forEach(function(i){i.setWidthArray&&i.setWidthArray(a);var r=i.getSize(),s=Object(n.get)(r,"height",0),h={x:e.x,y:e.y+o,width:e.width,height:s};i.draw(t,h),o+=s})}},e}(St),Et=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.needRefresh=!0,e.tableRender=new Rt,e.children=[],e.draw=function(t){e.children.forEach(function(i){i.draw(t,e)}),e.needRefresh=!1},e}return Et(e,t),e.prototype.getChildren=function(){return this.children.concat()},e.prototype.setDirty=function(){this.eventHandler.dispatchPropertyChangeEvent({source:this,type:"dirty"})},e.prototype.addSwimLane=function(t){var e=this;t instanceof Array?t.forEach(function(t){t instanceof Dt&&(t.parent=e,e.children.indexOf(t)<0&&e.children.push(t))}):t instanceof Dt&&(t.parent=this,this.children.indexOf(parent)<0&&this.children.push(t))},e}(m),Bt=function(){function t(){this.x=0,this.y=0,this.radius=4,this.color="#000000"}return t.prototype.setIndex=function(t){this.index=t},t.prototype.getIndex=function(){return this.index},t.prototype.setData=function(t){this.data=t},t.prototype.getData=function(){return this.data},t.prototype.getItem=function(){return this.data},t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t.prototype.setRadius=function(t){this.radius=t},t.prototype.getRadius=function(){return this.radius},t.prototype.getColor=function(){return this.color},t.prototype.getFromData=function(t,e){return void 0===e&&(e=void 0),Object(n.get)(this.data,t,e)},t.prototype.draw=function(t){Object(u.h)(t,this.x,this.y,this.radius,this.color,this.color)},t}(),kt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.swimPoints=[],e.getHover=function(t,e){var i=this;return this.getIntersect(t,e,function(t){if(t instanceof Bt){var e=t.getFromData("2");return{seriesType:i.getSeriesType(),color:i.getStatusColor(e),axisValueLabel:t.getFromData("0"),value:t.getFromData("2"),seriesName:i.getName(),label:i.getLabel(),dataIndex:t.getIndex()}}})},e}return kt(e,t),e.prototype.setParent=function(t){t instanceof Tt&&(this.parent=t)},e.prototype.setLabel=function(t){this.label=t},e.prototype.getLabel=function(){return this.label},e.prototype.setSwimPoints=function(t){this.swimPoints=t},e.prototype.getSwimPoints=function(){return this.swimPoints},e.prototype.setPointRadius=function(t){this.pointRadius=t},e.prototype.getPointRadius=function(){return this.pointRadius},e.prototype.setClickCallback=function(t){this.clickCallback=t},e.prototype.getClickCallback=function(){return this.clickCallback},e.prototype.setLabelStyle=function(t){this.labelStyle=t},e.prototype.getLabelStyle=function(){return this.labelStyle},e.prototype.setSwimLaneManage=function(t){this.swimLaneManager=t},e.prototype.getParent=function(){return this.parent},e.prototype.setMatrix=function(t){Object(d.g)(this._matrix,t)||(this._matrix=t,t instanceof d.a?this._inverseMatrix=Object(d.c)(t):this._inverseMatrix=new d.a)},e.prototype.getSwimPointRange=function(){for(var t,e,i=this.swimPoints,o=0;o<i.length;o++){var r=(a=i[o]).getFromData("0");if(Object(n.isNum)(r)){t=a;break}}for(o=i.length-1;o>=0;o--){var a;r=(a=i[o]).getFromData("0");if(Object(n.isNum)(r)){e=a;break}}return{first:t,last:e}},e.prototype.getValueRange=function(t){var e,i,n=t.getSwimPointRange();return n.first instanceof Bt&&(e=n.first.getFromData("0")),n.last instanceof Bt&&(i=n.last.getFromData("0")),{minValue:e,maxValue:i}},e.prototype.onClick=function(t,e){var i=this;this.getIntersect(t,e,function(t){t instanceof Bt&&"function"==typeof i.clickCallback&&i.clickCallback({data:t.getData(),dataIndex:t.getIndex(),seriesName:i.getName(),label:i.getLabel(),series:i})})},e.prototype.getIntersect=function(t,e,i){var n,o=function(t,e){return t-e.getFromData("0")},r=Object(d.i)({x:t,y:e},this._inverseMatrix);if(this.swimPoints.length>0){if(o(r.x,this.swimPoints[0])<0)n=this.swimPoints[0];else if(o(r.x,this.swimPoints[this.swimPoints.length-1])>0)n=this.swimPoints[this.swimPoints.length-1];else{for(var a=0,s=this.swimPoints.length-1,h=void 0,c=s;h!=c;){h=c,c=Math.ceil((a+s)/2),o(r.x,this.swimPoints[c])<0?s=c:a=c}var l=this.swimPoints[a],u=this.swimPoints[s],p=l.getFromData("0"),f=u.getFromData("0");n=(p-r.x)*(p-r.x)>(f-r.x)*(f-r.x)?this.swimPoints[s]:this.swimPoints[a]}if(n instanceof Bt){var g=n.getFromData("2");if(0==this.getStatusVisible(g))return;if(Object(w.a)({x:t,y:e},{x:n.x,y:n.y})<n.radius&&"function"==typeof i)return i(n)}}},e.prototype.getStatusColor=function(t){var e=this.swimLaneManager.getStatusMap()||{};return Object(n.get)(e,[t,"color"],"black")},e.prototype.getStatusVisible=function(t){var e=this.swimLaneManager.statusIsVisible(t);return e=0!=e},e.prototype.draw=function(t,e){t=t;var i={},n={};if(e instanceof Tt)for(var o=0;o<this.swimPoints.length;o++){var r=this.swimPoints[o];if(r){var a=r.getFromData("2"),s=i[a],h=n[a];s||(s=this.getStatusColor(a),i[a]=s),null==h&&this.swimLaneManager&&(h=0!=(h=this.getStatusVisible(a))),!1!==h&&Object(u.h)(t,r.x,r.y,r.getRadius(),s,s)}}},e}(m),Vt=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){t=t,i=i;var r=(o=o).swimLaneManager,a=Object(n.get)(e,"xIndex",0),s=function(t,e){var i=[],o={},r=Object(n.get)(t,"data",[]),a=Object(n.get)(t,"symbolSize",8),s=Object(n.get)(t,"labelStyle"),h=Object(n.get)(t,"click");isNaN(a)&&(a=8);r instanceof Array&&r.forEach(function(t,e){var i=t[1];if(t){o[i]=o[i]||[];var n=new Bt;n.setData(t),n.setIndex(e),n.setRadius(a),o[i].push(n)}});for(var c in o){var l=o[c];l=Object(n.insertSort)(l,function(t,e){var i=t.getData(),o=e.getData(),r=Object(n.get)(i,"0"),a=Object(n.get)(o,"0");return r-a}),o[c]=l;var u=new Dt;u.setEventHandler(e),u.setName(Object(n.get)(t,"name")),u.setLabel(c),u.setPointRadius(a),u.setClickCallback(h),u.setSeriesType("swimLane"),u.setLabelStyle(s),u.setSwimPoints(l),i.push(u)}return i}(e,i);return s.forEach(function(t){r.putSwimLane(t,a)}),s.concat(r.getSwimGroups())},t}();var Nt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ht=function(){return(Ht=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},zt=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},Wt=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.startAngle=-200,r.endAngle=20,r.min=0,r.max=100,r.thresholds=[],r.radiusInner=0,r.radiusOuter=0,r.totalRadius=0,r.lineGap=4,r.lineWidth=6,r.lineDisplay=!0,r.axisLabel={show:!1,color:"#333",fontSize:null,lineHeight:null,formatter:null},r.titleDisplay=!0,r.titleColor="#333",r.detailDisplay=!0,r._id2TextRenderObject={},r._labelRenders=[],r._needGroupingAndAjust=!0,r._radiusAdded=20,r._color="#78BD6D",r._bgColor="#ebf4ff",r.eventHandler=n,r._pipeEventHanlder=new g,r._chart=o,r._hoverList=[],r.setName(e),r.setValue(i),r._runingAngle=0,r._colors=[[1,"#78BD6D"]],r._radiusOuter=0,r._hover=!1,r}return Nt(e,t),e.prototype.setWidth=function(t,e){void 0===e&&(e=!1);var i=parseFloat(t);i!=this.width&&(this._width=i,e||this.eventHandler.dispatchPropertyChangeEvent({type:"width",source:this}))},e.prototype.setHeight=function(t,e){void 0===e&&(e=!1);var i=parseFloat(t);i!=this.height&&(this._height=i,e||this.eventHandler.dispatchPropertyChangeEvent({type:"height",source:this}))},e.prototype.setName=function(t){this.name=t},e.prototype.getName=function(){return this.name},e.prototype.setValue=function(t){!isNaN(parseFloat(t))&&isFinite(t)?this.value=parseFloat(t):this.value="-"},e.prototype.getValue=function(){return this.value},e.prototype.setFormatter=function(t){"function"==typeof t&&(this.formatter=t)},e.prototype.setColors=function(t){this._colors=t},e.prototype.getColor=function(){return this._colors},e.prototype.setBgColor=function(t){this._bgColor=t},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.setLineGap=function(t){this.lineGap=t},e.prototype.setLineDisplay=function(t){this.lineDisplay=t},e.prototype.setAxisLabel=function(t){this.axisLabel=Ht(Ht({},this.axisLabel),t)},e.prototype.setThresholds=function(t){this.thresholds=t},e.prototype.setDetailDisplay=function(t){this.detailDisplay=t},e.prototype.setUnit=function(t){this.unit=t},e.prototype.setTitle=function(t){this.title=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitleDisplay=function(t){this.titleDisplay=t},e.prototype.setTitleFontSize=function(t){this.titleFontSize=t},e.prototype.setTitleColor=function(t){this.titleColor=t},e.prototype.setCenterX=function(t,e){if(void 0===e&&(e=!1),this._centerX!==t){this._centerX=this._validate(t);var i=this._convert(this._width,this._centerX),n=this._convert(this._height,this._centerY);e||this.eventHandler.dispatchPropertyChangeEvent({type:"x",source:this});var o=Object(d.f)(i,n);this.setMatrix(o)}},e.prototype.setCenterY=function(t,e){if(void 0===e&&(e=!1),this._centerY!==t){this._centerY=this._validate(t);var i=this._convert(this._width,this._centerY),n=this._convert(this._height,this._centerY);e||this.eventHandler.dispatchPropertyChangeEvent({type:"y",source:this});var o=Object(d.f)(i,n);this.setMatrix(o)}},e.prototype.setRadiusInner=function(t){this._radiusInner=this._validate(t)},e.prototype.setRadiusOuter=function(t){this._radiusOuter=this._validate(t)},e.prototype.setOptionManager=function(t){this.optionManager=t},e.prototype.setMin=function(t){this.min=t},e.prototype.setMax=function(t){this.max=t},e.prototype.setStartAngle=function(t){this.startAngle=t},e.prototype.setEndAngle=function(t){this.endAngle=t},e.prototype.getStartAngle=function(){return this.startAngle},e.prototype.setAngle=function(t){this.angle!=t&&(this.angle=t)},e.prototype.getAngle=function(){return this.angle},e.prototype.draw=function(t){var e,i=this,o=this.endAngle-this.startAngle,r=this._convert(this._width,this._centerX),a=this._convert(this._height,this._centerY),s=Math.min(this._width,this._height)/2,h=this._convert(s,this._radiusOuter),c=0,l=0;Object(n.isNum)(this.lineWidth)?c=this.lineWidth:"string"==typeof this.lineWidth&&(c=h*parseFloat(this.lineWidth)/100),Object(n.isNum)(this.lineGap)?l=this.lineGap:"string"==typeof this.lineGap&&(l=h*parseFloat(this.lineGap)/100);var p=l;c&&this.lineDisplay&&(p=c+p),this.totalRadius=this._convert(s,this._radiusOuter);var d=Math.max(this.axisLabel.lineHeight||this.totalRadius/6,14);if(this.axisLabel.show&&d&&(p+=d),this.radiusInner=this._convert(s,this._radiusInner)-p,this.radiusOuter=this._convert(s,this._radiusOuter)-p,!(this.radiusInner<0||this.radiusOuter<0)){var f=0;Object(n.isNum)(this.value)&&Object(n.isNum)(this.min)&&Object(n.isNum)(this.max)&&(this.value<this.min&&(f=0),(this.min>=this.max||this.value>=this.max)&&(f=1),this.min<=this.value&&this.value<=this.max&&(f=(this.value-this.min)/(this.max-this.min))),f>1&&(f=1),this.setAngle(f*(this.endAngle-this.startAngle)),Object(u.o)(t,r,a,[this.radiusInner,this.radiusOuter],this.startAngle/180*Math.PI,this.endAngle/180*Math.PI,this._bgColor,!1);var g=this.startAngle,y=[],v=0,x=this.min;(null===(e=this._colors)||void 0===e?void 0:e.length)?this._colors.forEach(function(e,n){var s=Number(zt(i.thresholds,[i.max])[n]);if(s&&!(s<x)){var h=(s-i.min)/(i.max-i.min);f>v&&(i._color=e),h>1&&(h=1),h>v&&(i.lineDisplay&&Object(u.o)(t,r,a,[i.radiusOuter+l,i.radiusOuter+l+c],g/180*Math.PI,(i.startAngle+h*o)/180*Math.PI,e,!1),g=i.startAngle+o*h,y.push({angle:g,text:s}),v=h)}}):this.lineDisplay&&Object(u.o)(t,r,a,[this.radiusOuter+l,this.radiusOuter+l+c],g/180*Math.PI,(this.startAngle+o)/180*Math.PI,this._color,!1),Object(u.o)(t,r,a,[this.radiusInner,this.radiusOuter],this.startAngle/180*Math.PI,(this.startAngle+this.angle)/180*Math.PI,this._color,!1),this._drawCenterLabel(t,this.radiusInner),zt([{angle:-200,text:this.min}],y).forEach(function(e){var n=e.angle,o=e.text,r="function"==typeof i.axisLabel.formatter?i.axisLabel.formatter(o):String(o);i._drawAxisLabel(t,r,n)})}},e.prototype._drawCenterLabel=function(t,e){var i,n=this,o=this._convert(this._width,"50%"),r=this._convert(this._height,"50%"),a=32;if(this.detailDisplay){var s=[12,16,24,32,46,60,70,80,90,100,110,120],c=new Y,l=this.formatter?this.formatter(this.value).toString():String(this.value);c.setText(l),c.setColor(this._color),c.setPaddingByMap({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),s.every(function(t,o){c.setFont("bold "+t+"px "+h.DEFAULT_FONT_FAMILY),c.calculateSize(),i=c.getSize();var r=n.unit?Object(u.A)(n.unit,t/2+"px "+h.DEFAULT_FONT_FAMILY).width:0;return(null===i||void 0===i?void 0:i.width)/2+r+10>e||(null===i||void 0===i?void 0:i.height)/2>e?(a=s[o>0?o-1:0],!1):(a=t,!0)}),c.setFont(a+"px "+h.DEFAULT_FONT_FAMILY),c.calculateSize(),i=c.getSize(),c.setPosition(o,r,"middle","middle"),c.draw(t)}this.unit&&((p=new Y).setText(String(this.unit)),p.setColor(this._color),p.setFont(a/2+"px "+h.DEFAULT_FONT_FAMILY),p.setPaddingByMap({paddingTop:0,paddingBottom:0,paddingLeft:a/6,paddingRight:0}),p.calculateSize(),p.setPosition(o+(null===i||void 0===i?void 0:i.width)/2,12===a?r-a/2:r-a/6,"left","top"),p.draw(t));if(this.titleDisplay){var p=new Y,d=this.titleFontSize?this.titleFontSize:Math.max(this.totalRadius/10,10);l=this.getMeasureText(String(this.title),1.4*this.totalRadius,d+"px "+h.DEFAULT_FONT_FAMILY);p.setText(l),p.setColor(this.titleColor),p.setFont(d+"px "+h.DEFAULT_FONT_FAMILY),p.calculateSize();var f=.6*this.totalRadius;p.setPosition(o,r+f,"middle","middle"),p.draw(t)}},e.prototype._drawAxisLabel=function(t,e,i){if(this.axisLabel.show){var n=this._convert(this._width,"50%"),o=this._convert(this._height,"50%"),r=this._getAxisLabelPos(i),a=n+r.x,s=o+r.y,c=new Y;c.setText(e),c.setColor(this.axisLabel.color),c.setFont((this.axisLabel.fontSize?this.axisLabel.fontSize:Math.max(this.totalRadius/10,10))+"px "+h.DEFAULT_FONT_FAMILY),c.calculateSize(),c.setPosition(a,s,"middle","middle"),c.setAngle((90+i)/180*Math.PI),c.draw(t)}},e.prototype._getAxisLabelPos=function(t){var e=Math.max(this.axisLabel.lineHeight||this.totalRadius/6,14),i=this.totalRadius-e/2;return{x:Math.cos(t/180*Math.PI)*i,y:Math.sin(t/180*Math.PI)*i}},e.prototype.getMeasureText=function(t,e,i){for(var n=!1,o=Object(u.B)(t,i);o>e;)n=!0,t=t.substring(0,t.length-1),o=Object(u.B)(t,i);return n?t+"...":t},e.prototype._validate=function(t){return"number"==typeof t||Object(n.isPercent)(t)?t:Object(n.isNum)(t)?parseFloat(t):void 0},e.prototype._convert=function(t,e){return"number"==typeof e?e:"string"==typeof e?t*parseFloat(e)/100:e},e}(m),Yt=function(){function t(){}return t.prototype.createChart=function(t,e,i,o){var r,a,s,h,c,l,u,p,d,f,g=e.data&&e.data[0]?e.data[0]:{},y=Object(n.get)(e,"center",["50%","50%"]),v=Object(n.get)(e,"radius",["80%","100%"]),x=new Wt(g.name,g.value,i,o.chart),b=[x];return x.setWidth(o.width),x.setHeight(o.height),x.setCenterX(y[0]),x.setCenterY(y[1]),x.setOptionManager(t),x.setName(e.name),x.setTitle(g.name),Object(n.isNum)(g.value)&&(x.setValue(g.value),b.push(x)),e.background&&x.setBgColor(e.background),(null===(r=e.detail)||void 0===r?void 0:r.formatter)&&x.setFormatter(e.detail.formatter),Object(n.isNum)(e.startAngle)&&x.setStartAngle(e.startAngle),Object(n.isNum)(e.endAngle)&&x.setEndAngle(e.endAngle),Object(n.isNum)(e.min)&&x.setMin(e.min),Object(n.isNum)(e.max)&&x.setMax(e.max),v instanceof Array?v.length>1?(x.setRadiusInner(v[0]),x.setRadiusOuter(v[1])):x.setRadiusOuter(v[0]):x.setRadiusOuter(v),(null===(a=e.axisLine)||void 0===a?void 0:a.lineStyle)&&e.axisLine.lineStyle.color&&x.setColors(e.axisLine.lineStyle.color),(null===(s=e.axisLine)||void 0===s?void 0:s.width)&&x.setLineWidth(e.axisLine.width),(null===(h=e.axisLine)||void 0===h?void 0:h.gapWidth)&&x.setLineGap(e.axisLine.gapWidth),!1===(null===(c=e.axisLine)||void 0===c?void 0:c.show)&&x.setLineDisplay(!1),e.axisLabel&&x.setAxisLabel(e.axisLabel),e.thresholds&&x.setThresholds(e.thresholds),!1===(null===(l=e.title)||void 0===l?void 0:l.show)&&x.setTitleDisplay(!1),(null===(u=e.title)||void 0===u?void 0:u.fontSize)&&x.setTitleFontSize(e.title.fontSize),(null===(p=e.title)||void 0===p?void 0:p.color)&&x.setTitleColor(e.title.color),!1===(null===(d=e.detail)||void 0===d?void 0:d.show)&&x.setDetailDisplay(!1),(null===(f=e.detail)||void 0===f?void 0:f.unit)&&x.setUnit(e.detail.unit),b},t}(),Xt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gt=20,qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._needCalculate=!1,e.cellWidth=0,e.cellHeight=0,e.lowColor="#ff00ff",e.highColor="red",e.isSupportClip=!1,e.getHover=function(t,i){var o=e.getYAxisIndex(),r=e.getXAxisIndex(),a=e.coordinate.getVerticalAxisByIndex(o),s=e.coordinate.getHorizontalAxisByIndex(r),h=(1!=s.isValueAxis()?s:a).getFromAxisParam("data"),c=e.getHeatMapItemByPosition(t,i),l=e.endIndex-e.startIndex+1,u=e.optionManager.getFromOption("xBuckets",Gt),p=u;if(l/u<1&&(p=l),c){var d=c.values,f=[],g=Math.floor(c.xIndex*l/p)+e.startIndex;f.push({buckets:d,count:Object(n.getByPath)(c,["list","length"],0)});var y=Object(n.getByPath)(h,[g]);return{seriesType:"heatMap",items:f,axisValue:y,axisValueLabel:y,color:c.fillColor}}},e}return Xt(e,t),e.prototype.setValueRange=function(t){this.valueRange=t},e.prototype.getValueRange=function(){return this.valueRange},e.prototype.setOptionManager=function(t){this.optionManager=t},e.prototype.setCoordinate=function(t){this.coordinate=t},e.prototype.setItemHover=function(t,e,i){if(void 0===i&&(i=!1),t!=this.hoverXIndex||e!=this.hoverYIndex){var n=this.hoverXIndex,o=this.hoverYIndex;this.hoverXIndex=t,this.hoverYIndex=e,i||this.eventHandler.dispatchPropertyChangeEvent({type:"hoverIndex",source:this,oldValue:{xIndex:n,yIndex:o},newValue:{xIndex:t,yIndex:e}})}},e.prototype.setSeries=function(t){this.series=t;var e=[];Object(n.quicklyForEach)(this.series,function(t,i){e[i]=Object(n.getValueRangeFromArray)(Object(n.get)(t,"data"))}),this.setValueRange(Object(n.getRangeFromRangArray)(e))},e.prototype.getYAxisIndex=function(){return 0},e.prototype.getXAxisIndex=function(){return 0},e.prototype.setIndexRange=function(t,e,i){void 0===i&&(i=!1),this.startIndex==t&&this.endIndex==e||(this._needCalculate=!0,i||this.eventHandler.dispatchPropertyChangeEvent({type:"IndexRange",source:this})),this.startIndex=t,this.endIndex=e},e.prototype.createZoomOutMatrix=function(t,e,i){var n=this.optionManager.getFromOption("yBuckets",10),o={x:0,y:t,width:this.endIndex-this.startIndex,height:e-t},r={x:0,y:0,width:i,height:n};return Object(d.b)(o,r,!1)},e.prototype.calculatePointInfo=function(){var t=this,e=this.optionManager.getFromOption("xBuckets",Gt),i=this.optionManager.getFromOption("yBuckets",10),o=this.optionManager.getFromOption("bucketsPaddings",{}),r=Object(n.isNum)(o.paddingTop)?Object(n.convertToNum)(o.paddingTop):0,a=Object(n.isNum)(o.paddingLeft)?Object(n.convertToNum)(o.paddingLeft):0,s=Object(n.isNum)(o.paddingRight)?Object(n.convertToNum)(o.paddingRight):0,h=Object(n.isNum)(o.paddingBottom)?Object(n.convertToNum)(o.paddingBottom):0,c=this.endIndex-this.startIndex+1;0==c&&(c=1);var l=c/e,p=e;l<1&&(p=c,l=1),this.dataMap={};var f,g,y=this.getYAxisIndex(),v=this.getXAxisIndex(),x=this.coordinate.getHorizontalAxisByIndex(v),b=this.coordinate.getVerticalAxisByIndex(y),m=x.isValueAxis()?x:b,w=x.isValueAxis()?b:x,_=m.getScaleInfo(),j=_.minSupport,P=_.maxSupport,A=w.getFromAxisParam("data",[]),C={x:0,y:j,width:c,height:P-j},L={x:0,y:0,width:p,height:i},I=Object(d.b)(C,L,!1),F={x:0,y:0,width:l*p,height:i},S=Object(d.b)(L,F,!1);for(var M in Object(n.quicklyForEach)(this.series,function(e){if("heatMap"===e.type)for(var o=Object(n.get)(e,"data"),l=t.endIndex+1,p=t.startIndex;p<l&&p<o.length&&A.length;p++){var f=o[p],g=Object(d.i)({x:p-t.startIndex,y:f},I),y=Math.floor(g.x),v=Math.floor(.99*g.y),x=Object(n.getByPath)(t.dataMap,[y,v]);x||(x={},Object(n.setByPath)(t.dataMap,[y,v],x));var b=["list"],m=["rect"],w=Object(n.getByPath)(x,b);w instanceof Array||(w=[],Object(n.setByPath)(x,b,w));var _=new O(null);if(_.setIndex(p),_.setYValue(f),_.setValue(f),_.setXValue(A[p]),_.setAdditionalDataByKey("xIndex",y),_.setAdditionalDataByKey("yIndex",v),w.push(_),!Object(n.getByPath)(x,m)){var C=Object(d.i)({x:y,y:v},S),L=C.x,F=C.y,M=Object(d.i)({x:y+1,y:v+1},S),R=M.x,E=M.y;R>c-1&&(R=c-1);var T=(P-j)/i,B=Object(d.i)({x:L,y:j+T*F},t._matrix),k=Object(d.i)({x:R,y:j+T*E},t._matrix);if(1===c){var D=t.coordinate.getCoordinateRect();B.x=D.x,k.x=D.x+D.width}var V=Object(u.e)([B,k]),N=Object(u.I)(V,{paddingTop:r,paddingRight:s,paddingBottom:h,paddingLeft:a});N.width<0&&(N.width=0),N.height<0&&(N.height=0),Object(n.setByPath)(x,m,N)}}}),this.dataMap){var R=this.dataMap[M];for(var E in R){var T=Object(n.getByPath)(this.dataMap,[M,E]),B=Object(n.getByPath)(T,["list","length"]);Object(n.setByPath)(T,"yIndex",Object(n.convertToNum)(E)),Object(n.setByPath)(T,"xIndex",Object(n.convertToNum)(M));var k=Object(n.convertToNum)(E),D=j+k*(P-j)/i,V=j+(k+1)*(P-j)/i;Object(n.setByPath)(T,"values",[D,V]),Object(n.isNum)(B)&&((!Object(n.isNum)(f)||f>B)&&(f=B),(!Object(n.isNum)(g)||g<B)&&(g=B))}}this.maxCount=g,this.minCount=f,this.generateFillColor(),this._needCalculate=!1},e.prototype.generateFillColor=function(){for(var t in this.dataMap){var e=this.dataMap[t];for(var i in e){var o=[t,i,"list","length"],r=[t,i,"fillColor"],a=Object(n.getByPath)(this.dataMap,o),s=void 0;if(Object(n.isNum)(a)){var h=1;this.minCount!=this.maxCount&&(h=(a-this.minCount)/(this.maxCount-this.minCount)),s=Ut(h)}Object(n.setByPath)(this.dataMap,r,s)}}},e.prototype.getAreaValueRange=function(){return this.getValueRange()},e.prototype.draw=function(t){var e=this,i=function(i){if(i){var o=Object(n.getByPath)(i,["rect"]),r=Object(n.getByPath)(i,["fillColor"]);if(Object(u.O)(o)){var a=e.getCoordinateRect(),s=e.optionManager.getFromOption("bucketsRadius",0);Object(u.u)(t,o.x,o.y,o.width,o.height,s,r,a)}}};for(var o in this.dataMap){var r=this.dataMap[o];if(r)for(var a in r){var s;if(o!=this.hoverXIndex||a!=this.hoverYIndex)i(s=Object(n.getByPath)(this.dataMap,[o,a]))}}if(this.hoverYIndex>=0&&this.hoverXIndex>=0&&(s=Object(n.getByPath)(this.dataMap,[this.hoverXIndex,this.hoverYIndex]))){var h=Object(n.getByPath)(s,["rect"]),c=Object(n.getByPath)(s,["fillColor"]),l=void 0;c||(l="black"),Object(u.O)(h)&&Object(u.n)(t,h.x,h.y,h.width,h.height,l,c,null,{shadowColor:"black",shadowBlur:10})}},e.prototype.getHeatMapItemByPosition=function(t,e){var i=this.coordinate.getCoordinateRect();if(Object(u.O)(i)&&Object(u.C)(i,t,e)){var o=Object(d.i)({x:t,y:e},this._inverseMatrix),r=this.getYAxisIndex(),a=this.getXAxisIndex(),s=this.coordinate.getVerticalAxisByIndex(r),h=this.coordinate.getHorizontalAxisByIndex(a),c=(s.isValueAxis()?s:h).getScaleInfo(),l=c.minSupport,p=c.maxSupport,f=this.endIndex-this.startIndex+1,g=this.optionManager.getFromOption("xBuckets",Gt),y=this.optionManager.getFromOption("yBuckets",10);0==f&&(f=1);var v=g;if(f/g<1&&(v=f),Object(n.checkPoint)(o)){var x=Math.floor(o.x),b=o.y,m={x:0,y:l,width:f,height:p-l},O={x:0,y:0,width:v,height:y},w=Object(d.b)(m,O,!1),_=Object(d.i)({x:x,y:b},w),j=Math.floor(_.x),P=Math.floor(_.y),A=Object(n.getByPath)(this.dataMap,[j,P]),C=Object(n.getByPath)(A,["rect"]);if(1==f&&(A=Object(n.getByPath)(this.dataMap,[0,P]),C=Object(n.getByPath)(A,["rect"])),Object(u.O)(C)&&Object(u.C)(C,t,e))return A}}},e.prototype.setHover=function(t,e){void 0===e&&(e={});var i=e.x,n=e.y;if(t){var o=this.getHeatMapItemByPosition(i,n);if(o){var r=o.xIndex,a=o.yIndex;this.setItemHover(r,a)}else this.setItemHover(void 0,void 0)}else this.setItemHover(void 0,void 0)},e.prototype.supportClip=function(t){this.isSupportClip=t},e.prototype.getCoordinateRect=function(){return this.isSupportClip?this.coordinate.getCoordinateRect():null},e}(m);function Ut(t){void 0===t&&(t=1);var e=["#FFEAE0","#FFD4C2","#FFBFA3","#FFAA84","#FFAA84","#FF7F47","#E6653E","#CC4B35","#B0352C","#942528"],i=0;return(e=e.reverse())[i=(i=Math.round(10*t))>9?9:i]}var Zt=function(){function t(){}return t.prototype.createChart=function(t,e){var i=t.getFromOption("series",[]),o=new qt;o.setSeries(i),o.setEventHandler(e),o.setOptionManager(t);var r=["yAxis.0.min","yAxis.0.max","xAxis.0.min","xAxis.0.max"];return Object(n.quicklyFindInArray)(r,function(e){if(Object(n.isNum)(t.getFromOption(e)))return!0})&&o.supportClip(!0),o},t}(),Kt=function(){return(Kt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Qt=function(){function t(t){this.pipelines=[],this.visibleList=[],this.dirtyList=[],this.dirtyMap={},this.eventHandler=t,this.attachments=[]}return t.prototype.getValueRange=function(){return this.valueRange},t.prototype.initPipelines=function(t,e){this.setPipelines(function(t,e,i){var o=t.getFromOption("series",[]),r=[],a=0,s=0;if(o.forEach(function(n){if(n){var h;switch(n.type){case"line":var c=t.getColorByIndex(a);h=(new A).createChart(t,n,e,Kt(Kt({},i),{color:c,seriesIndex:a}));break;case"pie":var l={lastIndex:s};h=(new it).createChart(t,n,e,Kt(Kt({},i),{seriesIndex:a,lastIndex:s}),l),s=l.lastIndex;break;case"bar":var u=t.getColorByIndex(a),p=new rt;h=p.createChart(t,n,e,Kt(Kt({},i),{color:u,seriesIndex:a,barOffset:p.getBarOffset(o.length,a)}));break;case"liquidFill":h=(new xt).createChart(t,n,e,Kt(Kt({},i),{color:c,seriesIndex:a}));break;case"radar":h=(new It).createChart(t,n,e,Kt(Kt({},i),{color:c,seriesIndex:a}));break;case"topo":h=(new At).createChart(n,e,{});break;case"swimLane":h=(new Vt).createChart(t,n,e,Kt(Kt({},i),{color:c,seriesIndex:a}));break;case"gauge":h=(new Yt).createChart(t,n,e,Kt({},i));break;default:h=null}h instanceof Array?h.forEach(function(t){t instanceof m&&r.indexOf(t)<0&&r.push(t)}):h instanceof m&&r.indexOf(h)<0&&(h.setSeriesType(n.type),r.push(h)),a++}}),Object(n.quicklyFindInArray)(o,function(i){if("heatMap"===i.type){var n=(new Zt).createChart(t,e);n&&r.push(n)}return!0}),"HBar"===t.getFromOption("series.0.type")){var h=(new ft).createChart(t,o,e,Kt(Kt({},i),{color:"",seriesIndex:a}));h&&r.push(h)}return r}(t,this.eventHandler,e))},t.prototype.setPipelines=function(t){var e=this;this.dirtyList=[],this.dirtyMap={},this.pipelines=t||[],t.forEach(function(t){e.dirty(t),t.setEventHandler(e.eventHandler)}),this.sortPipeline();var i={};for(var n in this.getPipelines().forEach(function(t){if(t instanceof P||t instanceof ot){var n=t.getStack();n?(i[n]=i[n]||[],i[n].push(t)):e.stack([t])}}),i){var o=i[n];this.stack(o)}},t.prototype.getPipelines=function(){return this.pipelines||[]},t.prototype.getPipelineById=function(t){for(var e=this.getPipelines(),i=0;i<e.length;i++){var n=e[i];if(n&&n.getId()===t)return n}},t.prototype.getAttachments=function(){return this.attachments||[]},t.prototype.addAttachments=function(t){return this.attachments.push(t)},t.prototype.clearAttachments=function(){return this.attachments=[]},t.prototype.getPipelineByName=function(t){for(var e=this.getPipelines(),i=0;i<e.length;i++){var n=e[i];if(n&&n.getName()===t)return n}},t.prototype.dirty=function(t){if(t instanceof m){var e=t.getId();this.dirtyList.indexOf(e)<0&&this.dirtyList.push(e),this.dirtyMap[e]=t}},t.prototype.removeFromDirty=function(t){if(t){var e=t.getId(),i=this.dirtyList.indexOf(e);i>=0&&this.dirtyList.splice(i,1),delete this.dirtyMap[e]}},t.prototype.sortPipeline=function(){if(this.pipelines){var t=this.pipelines.concat();this.pipelines=t.sort(function(t,e){var i=t.getZIndex(),n=e.getZIndex();return(i=isNaN(i)?0:i)<(n=isNaN(n)?0:n)?-1:i>n?1:0})}},t.prototype.isDirty=function(){return this.dirtyList.length>0},t.prototype.clearDirty=function(){this.dirtyList=[],this.dirtyMap=[]},t.prototype.stack=function(t){for(var e=[],i=[],o=0;o<t.length;o++){var r=t[o];if(r.isVisible()){for(var a=r.valueArray,s=[],h=void 0,c=void 0,l=0;l<a.length;l++){var u=a[l],p=null;s[l]=null;var d=typeof u;"string"==d?(0==(u=Object(n.trim)(u)).length||isNaN(u))&&(u=null):"number"!=d&&(u=null),null!=u&&(u>=0?(i[l]=i[l]||0,i[l]+=u,s[l]=i[l],p=i[l]):(e[l]=e[l]||0,e[l]+=u,s[l]=e[l],p=e[l])),null!=p&&(null==h?h=p:p<h&&(h=p),null==c?c=p:p>c&&(c=p))}r._areas={values:s},r.setAreaValueRange({max:c,min:h})}}},t.prototype.getAreaValueRange=function(t,e){var i,n;return void 0===t&&(t=0),void 0===e&&(e=0),this.getPipelines().forEach(function(o){if((o instanceof P||o instanceof ot)&&o.getYAxisIndex()==e&&o.getXAxisIndex()==t){var r=o.getAreaValueRange();null==i?i=r.max:r.max>i&&(i=r.max),null==n?n=r.min:r.min<n&&(n=r.min)}}),{max:i,min:n}},t.prototype.getChartlineOrBarByYIndex=function(t){void 0===t&&(t=0);var e=[];return this.getPipelines().forEach(function(i){(i instanceof P||i instanceof ot)&&i.getYAxisIndex()==t&&e.push(i)}),e},t.prototype.getHeatMap=function(){return Object(n.quicklyFindInArray)(this.getPipelines(),function(t){if(t instanceof qt)return t})},t.prototype.getAreaValueRangeByYIndex=function(t){var e,i;return void 0===t&&(t=0),this.getPipelines().forEach(function(n){if((n instanceof P||n instanceof ot||n instanceof qt)&&n.getYAxisIndex()==t){var o=n.getAreaValueRange();null==e?e=o.max:o.max>e&&(e=o.max),null==i?i=o.min:o.min<i&&(i=o.min)}}),{max:e,min:i,validate:Object(n.isNum)(e)&&Object(n.isNum)(i)}},t.prototype.getAreaValueRangeByXIndex=function(t){var e,i;return void 0===t&&(t=0),this.getPipelines().forEach(function(n){if((n instanceof P||n instanceof ot||n instanceof qt)&&n.getXAxisIndex()==t){var o=n.getAreaValueRange();null==e?e=o.max:o.max>e&&(e=o.max),null==i?i=o.min:o.min<i&&(i=o.min)}}),{max:e,min:i,validate:Object(n.isNum)(e)&&Object(n.isNum)(i)}},t.prototype.destroy=function(){Object(n.quicklyForEach)(this.pipelines,function(t){t.destroy()}),this.pipelines=[],Object(n.deleteMapProperty)(this.pipelinesMap),this.visibleList=[],Object(n.deleteMapProperty)(this.dirtyMap),this.dirtyList=[],this.attachments=[]},t}(),$t=function(){function t(){this.font="12px "+h.DEFAULT_FONT_FAMILY,this.grayColor="#ccc"}return t.prototype.setId=function(t){this.id=t},t.prototype.getId=function(){return this.id},t.prototype.setGrayColor=function(t){this.grayColor=t},t.prototype.getGrayColor=function(){return this.grayColor},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getShowName=function(){return this.showName},t.prototype.setShowName=function(t){this.showName=t},t.prototype.setFont=function(t){this.font=t},t.prototype.setFontColor=function(t){this.fontColor=t},t.prototype.getColor=function(){return this.color},t.prototype.setColor=function(t){this.color=t},t.prototype.isDisable=function(){return this.disable},t.prototype.setDisable=function(t){this.disable=t},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.getRect=function(){var t=this.getSize();if(t&&null!=t.width&&null!=t.height&&null!=this.x&&null!=this.y)return{x:this.x,y:this.y,width:t.width,height:t.height};throw"rect of legendItem has not been initalize!"},t}(),Jt=function(){function t(){this.width=0,this.height=0,this.x=0,this.y=0,this.align="middle",this._data=new Ft}return t.prototype.getInnerSize=function(){var t=0,e=0;return this._data.forEach(function(i){var n=i.getSize();n&&(e+=n.width,n.height>t&&(t=n.height))}),{width:e,height:t}},t.prototype.setAlign=function(t){this.align=t},t.prototype.calculate=function(){var t=this.getInnerSize(),e=this.x+(this.width-t.width)/2,i=this.y;"left"==this.align?e=this.x:"right"==this.align&&(e=this.x+this.width-t.width);var n=e;this._data.forEach(function(t){var e=t.getSize();t.setPosition(n,i),n+=e.width})},t.prototype.setSize=function(t,e){this.width=t,this.height=e},t.prototype.draw=function(t){this._data.forEach(function(e){e.draw(t)})},t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t}(),te=function(){function t(t){this.innerWidth=0,this.font="12px "+h.DEFAULT_FONT_FAMILY,this.align="right",this.scroll=!1,this._invisible=!1,this.alignLeft=function(){var t=0,e=0,i=0;this.renderList=[];for(var n=0;n<this.items.length;n++){var o=this.items[n],r=o.getSize();r.width>this.width&&e<=0?(o.setPosition(this.x,this.y+t),t+=r.height,e=0,i=0):this.width<e+r.width?(t+=i,o.setPosition(this.x,this.y+t),i=r.height,e=r.width):(o.setPosition(this.x+e,this.y+t),e+=r.width,i=0==i||i<r.height?r.height:i),this.renderList.push(o)}this.height=t+i},this.alignRight=function(){var t=0,e=0,i=0;this.renderList=[];for(var n=this.calculateOrder(),o=0;o<n.length;o++){var r=n[o],a=this.items[r],s=a.getSize();s.width>this.width&&e<=0?(a.setPosition(this.x,this.y+t),t+=s.height,e=0,i=0):this.width<e+s.width?(t+=i,a.setPosition(this.x+this.width-s.width,this.y+t),i=s.height,e=s.width):(e+=s.width,a.setPosition(this.x+this.width-e,this.y+t),i=0==i||i<s.height?s.height:i),this.renderList.push(a)}this.height=t+i},this.width=t,this.itemMap={},this.height=0,this.paddingBottom=20,this.renderList=[],this.items=[]}return t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.setLocalElement=function(t){this.localElement=t},t.prototype.setScroll=function(t){this.scroll=t},t.prototype.setAlign=function(t){t!==this.align&&(this.align=t,this.calculate())},t.prototype.calculate=function(){this.scroll?this.adjustOneLine():"left"===this.align?this.alignLeft():"right"===this.align?this.alignRight():this.alignMiddle()},t.prototype.adjustOneLine=function(){this.renderList=[];for(var t=new Jt,e=0;e<this.items.length;e++){var i=this.items[e];t._data.insert(i)}var n=t.getInnerSize();if(this.height=n.height||0,this.innerWidth=n.width,t.setPosition(this.x,this.y),this.innerWidth>this.width){t.setAlign("left"),t.calculate();for(e=0;e<this.items.length;e++){i=this.items[e];this.renderList.push(i)}}else this.alignMiddle()},t.prototype.alignMiddle=function(){var t=this,e=0;this.renderList=[];for(var i=0,n=new Ft,o=new Jt,r=0;r<this.items.length;r++){var a=this.items[r],s=a.getSize();this.width<e+s.width?(e=s.width,n.insert(o),(o=new Jt)._data.insert(a)):(e+=s.width,(o=o||new Jt)._data.insert(a)),this.renderList.push(a)}o&&(n.insert(o),o=null),n.forEach(function(e){var n=e.getInnerSize();e.setSize(t.width,n.height),e.setPosition(t.x,t.y+i),i+=n.height,e.calculate()}),this.height=i},t.prototype.calculateOrder=function(){for(var t=0,e=0,i=[],n=[],o=0;o<this.items.length;o++){var r=this.items[o].getSize();if(r.width>this.width&&t<=0)r.height,t=0,e=0,i.push(o);else if(this.width<t+r.width){for(e,e=r.height,t=r.width;n.length>0;)i.push(n.pop());n.push(o)}else t+=r.width,e=0==e||e<r.height?r.height:e,n.push(o)}for(;n.length>0;)i.push(n.pop());return i},t.prototype.getRect=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.getRectExtend=function(){return{x:this.x-10,y:this.y-10,width:this.width+20,height:this.height+20}},t.prototype.getInnerWidth=function(){return this.innerWidth},t.prototype.getWidth=function(){return this.width},t.prototype.setFont=function(t){this.font=t},t.prototype.setFontColor=function(t){this.fontColor=t},t.prototype.setWidth=function(t){this.width=t},t.prototype.addLegends=function(t){var e;if(t instanceof Array)for(var i=0;i<t.length;i++){var n=t[i];if(n instanceof $t){n.setEventHandler(this.eventHandler);var o=n.getName();o&&!this.itemMap[o]&&(this.items.push(n),this.itemMap[o]=n,e=!0)}}e&&(this.calculate(),this.localElement&&this.localElement.dirtyItself())},t.prototype.setLegends=function(t){this.itemMap={},this.items=[],this.addLegends(t)},t.prototype.removeLegend=function(t){if(this.itemMap[t]){var e=this.itemMap[t],i=this.items.indexOf(e);i>=0&&this.items.splice(i,1),delete this.itemMap[t]}},t.prototype.updateColor=function(t,e){this.renderList.forEach(function(i){i.getName()!==t||i.setColor(e)})},t.prototype.draw=function(t){if(!this._invisible)for(var e=0;e<this.renderList.length;e++){this.renderList[e].draw(t)}},t.prototype.refresh=function(){this.localElement&&this.localElement.dirtyItself()},t.prototype.getHeight=function(){return this.height+this.paddingBottom},t.prototype.getLegendItemByPos=function(t,e){var i=this.getRect(),n=Math.max(this.getInnerWidth(),this.getWidth());if(i.width=n,Object(u.C)(i,t,e))for(var o=0;o<this.renderList.length;o++){var r=this.renderList[o],a=r.getRect();if(a&&Object(u.C)(a,t,e))return r}},t.prototype.isVisible=function(){return!this._invisible},t.prototype.setVisible=function(t,e){void 0===e&&(e=!1),this._invisible!=!t&&(this._invisible=!t,!e&&this.eventHandler&&this.eventHandler.dispatchPropertyChangeEvent({type:"visible",source:this}))},t}(),ee=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ie=function(t){function e(e,i){var n=t.call(this)||this;return n.location={x:0,y:0},n.size={width:45,height:30},n.image={},n.property={},n.util={},n.selected=!1,n.setId(e),n.font="12px "+h.DEFAULT_FONT_FAMILY,n.text=i,n.util={roundRectPath:u.K,drawText:u.p,font:n.font},n}return ee(e,t),e.prototype.setLocation=function(t){this.location=t,Object(n.callSafe)(this.callback)},e.prototype.setCallback=function(t){this.callback=t},e.prototype.setVisible=function(t){this.visible=!!t,Object(n.callSafe)(this.callback)},e.prototype.isVisible=function(){return!0===this.visible},e.prototype.setSize=function(t){this.size=t,Object(n.callSafe)(this.callback)},e.prototype.setImage=function(t){this.image=t,Object(n.callSafe)(this.callback)},e.prototype.setProperty=function(t){this.property=t},e.prototype.setDrawNode=function(t){this.drawNode=t,Object(n.callSafe)(this.callback)},e.prototype.draw=function(t){this.isVisible()&&(Object(u.n)(t,this.location.x,this.location.y,this.size.width,this.size.height,"#DDDDDD","rgba(238, 238, 238, 0.8)"),Object(u.p)(t,this.text||"重置",this.location.x+10,this.location.y+8,"#000000",this.font))},e.prototype.isSelected=function(t){var e=this.getRect();return Object(u.C)(e,t.x,t.y)},e.prototype.setSelected=function(t){this.selected=t,Object(n.callSafe)(this.callback)},e.prototype.getRect=function(){if(null!=this.location&&null!=this.size)return{x:this.location.x,y:this.location.y,width:this.size.width,height:this.size.height}},e.prototype.clearRect=function(t){t.save(),null!=this.location&&null!=this.size&&t.clearRect(this.location.x,this.location.y,this.size.width,this.size.height),t.restore()},e}(m),ne=function(){function t(t){this.chart=t}return t.prototype.handle=function(t){var e=this;if(t.source instanceof m){var i=t.source;if("zIndex"===t.type&&this.chart.dataContainer.sortPipeline(),"color"===t.type&&this.chart.legend){var n=i.getColor(),o=i.getName();this.chart.legend.updateColor(o,n),this.chart.legend.refresh()}var r=this.chart.dataContainer.getPipelines();if("visible"===t.type&&(i instanceof P||i instanceof ot)){var a=i.getStack(),s=[];a&&(r.forEach(function(t){(t instanceof P||t instanceof ot)&&t.getStack()===a&&s.push(t)}),this.chart.dataContainer.stack(s),s.forEach(function(t){var i=t.xAxisIndex,n=t.yAxisIndex,o=e.chart.getCoordinateInfo(i,n);o&&t.calculatePointInfo(o.rect)}))}r.forEach(function(t){e.chart.dataContainer.dirty(t)})}else if("mousewheel"===t.type){var h=t.value,c=this.chart.getProperty("mousewheelSpeed")||.01,l=this.chart.progressBar.leftBtnValue,u=this.chart.progressBar.rightBtnValue;this.chart.progressBar.setLeftBtnValue(l+c*h),this.chart.progressBar.setRightBtnValue(u-c*h),this.chart._clearTopCanvas(),this.chart._handleXAsixChange()}else if(t.source instanceof te&&"visible"==t.type){t.source.refresh(),this.chart.calculateLayout(),this.chart.transformChartLine()}},t}(),oe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),re=function(t){function e(){var e=t.call(this)||this;return e.pointRadius=12,e.paddingLeft=10,e.colorWidth=16,e.colorHeight=4,e.colorPaddingLR=4,e.getSize=function(){return e.size||(e.size=e.calculateSize()),e.size},e.draw=function(t){var i=e.getRect(),n=e.getShowName(),o=e.fontColor||"#000",r=Object(u.A)(n,e.font);if(t.save(),t.beginPath(),t.rect(e.x+e.paddingLeft+e.colorPaddingLR,e.y+(i.height-e.colorHeight)/2-2,e.colorWidth,e.colorHeight),t.fillStyle=e.isDisable()?e.getGrayColor():e.color,t.closePath(),t.fill(),t.restore(),i.width>r.width){var a=i.x+i.width-r.width;Object(u.p)(t,n,a,i.y,e.isDisable()?e.getGrayColor():o,e.font)}},e}return oe(e,t),e.prototype.calculateSize=function(){var t=Object(u.B)(this.showName,this.font),e=Object(u.w)(this.font),i=t+this.paddingLeft+this.colorWidth+2*this.colorPaddingLR;return this.width=i,this.height=e,{width:i,height:e,labelWidth:t}},e}($t),ae=function(){return(ae=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},se=function(){function t(){this.width=0,this.height=0,this.x=0,this.y=0,this.yAxisLength=0,this.verticalAxisArray=[],this.horizontalAxisArray=[],this.startPercent=0,this.endPercent=1,this.origin={},this._needRefresh=!0,this._needCalculate=!0,this._ignoreRounded=!1,this._visible=!0,this.showStat=!1,this.thresholdMap={},this.needRefresh=function(){return this._needRefresh}}return t.prototype.getId=function(){return this._id},t.prototype.setId=function(t){this._id=t},t.prototype.setX=function(t){this.x=t},t.prototype.getX=function(){return this.x},t.prototype.setY=function(t){this.y=t},t.prototype.getY=function(){return this.y},t.prototype.setClassify=function(t){this.classify=t},t.prototype.getClassify=function(){return this.classify},t.prototype.setDataContainer=function(t){this.dataContainer=t},t.prototype.setStat=function(t){this.showStat=t},t.prototype.isVisible=function(){return this._visible},t.prototype.setStartPercent=function(t){this.startPercent=t},t.prototype.setEndPercent=function(t){this.endPercent=t},t.prototype.setHorizontalAxisArray=function(t){this.horizontalAxisArray=t},t.prototype.getHorizontalAxisArray=function(){return this.horizontalAxisArray},t.prototype.setVerticalAxisArray=function(t){this.verticalAxisArray=t},t.prototype.getVerticalAxisArray=function(){return this.verticalAxisArray},t.prototype.setRounded=function(t){this._ignoreRounded=!0===t},t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.setWidth=function(t){this.width=t},t.prototype.getWidth=function(){return this.width},t.prototype.setSeriesMap=function(t){this.seriesMap=t},t.prototype.getSeriesMap=function(){return this.seriesMap},t.prototype.setHeight=function(t){this.height=t},t.prototype.getHeight=function(){return this.height},t.prototype.getSize=function(){return{width:this.width,height:this.height}},t.prototype.setOrigin=function(t,e){this.origin=this.origin||{},this.origin.x=t,this.origin.y=e},t.prototype.getOrigin=function(){return{x:this.origin.x,y:this.origin.y}},t.prototype.getViewRect=function(){return{x:this.x,y:this.y,width:this.getWidth(),height:this.getHeight()}},t.prototype.refresh=function(){this._needRefresh=!0},t.prototype.draw=function(t){for(var e=0;e<this.verticalAxisArray.length;e++){this.verticalAxisArray[e].draw(t)}for(e=0;e<this.horizontalAxisArray.length;e++){this.horizontalAxisArray[e].draw(t)}this.drawThreshold(t),this._needRefresh=!1},t.prototype.getHorizontalAxisByIndex=function(t){return this.horizontalAxisArray[t]},t.prototype.getVerticalAxisByIndex=function(t){return this.verticalAxisArray[t]},t.prototype.isValueAxis=function(t){return t&&t.type===h.AXIS_TYPE.VALUE},t.isCategoryAxis=function(t){return t&&t.type===h.AXIS_TYPE.CATEGORY},t.prototype.handleYAxisData=function(t,e){for(var i=[],n=0,o=new Y,r=0;r<t.length;r++){o.setText(t[r]);var a=o.getSize();if(!(a&&n+a.height<e))return i;i.push(t[r]),n+=a.height}return i},t.prototype.calculate=function(){var t=this,e=this.getWidth(),i=this.getHeight(),o={x:this.x,y:this.y+i},r={x:o.x,y:o.y-i,width:e,height:i},a=Object(n.getRectCenter)(r),s=this.getSeriesMap(),h=this.getClassify(),c=this.dataContainer,l=function(e,i){var o;o=i?c.getAreaValueRangeByYIndex(e):c.getAreaValueRangeByXIndex(e);var r=function(e,i){var o=[];if(i){var r=Object(n.getByPath)(s,["yFirstMap",e],{}),a=Object.keys(r);o=new Array(a.length),Object(n.quicklyForEach)(a,function(e){o[0]=t.horizontalAxisArray[e]})}else r=Object(n.getByPath)(s,["xFirstMap",e],{}),a=Object.keys(r),o=new Array(a.length),Object(n.quicklyForEach)(a,function(e){o[0]=t.verticalAxisArray[e]});var h=new Array(o.length);return Object(n.quicklyForEach)(o,function(t,e){var i=t.getFromAxisParam("maxData",void 0);h[e]=Object(n.getValueRange)([i])}),Object(n.getRangeFromRangArray)(h)}(e,i),a=Object(n.getRangeFromRangArray)([r,o]);return a&&Object(n.isNum)(a.min)&&Object(n.isNum)(a.max)?ae(ae({},a),{validate:!0}):{validate:!1}},p=0,d=0;Object(n.cloneArray)(h.horizontal.category).concat(Object(n.cloneArray)(h.horizontal.value)).forEach(function(e){var i=t.getHorizontalAxisByIndex(e).getTitleRender().getSize(),o=Object(n.getByPath)(i,["width"],0);p=Object(n.getMax)(o,p)}),Object(n.cloneArray)(h.vertical.category).concat(Object(n.cloneArray)(h.vertical.value)).forEach(function(e){var i=t.getVerticalAxisByIndex(e).getTitleRender().getSize(),o=Object(n.getByPath)(i,["height"],0);d=Object(n.getMax)(o,d)});var f=i-d,g={x:o.x,y:o.y-i,width:e,height:i},y=function(e,o,r,s,c,u){void 0===u&&(u=!1);var p=g;return Object(n.quicklyForEach)(h.value.horizontal,function(i){var o=l(i,!1),h=t.horizontalAxisArray[i];if(h){var d={x:e.x,y:e.y};0!=i&&(d.y=e.y-c),h.setStart(d),h.setCenter(a),h.setValueRange(o),h.setOrigin(ae({},e)),h.setLength(r),h.setAxisLength(s),h.setSplitLineLegnth(c),h.calculate();var f=!0===h.getFromAxisParam("axisLabel.inside");if(u&&!f){var g=h.getViewRect();p=Object(n.unionRect)(g,p)}}}),Object(n.quicklyForEach)(h.value.vertical,function(o){var r=l(o,!0),h=t.verticalAxisArray[o];if(h){var d=ae({},e);0!=o&&(d.x=e.x+s),h.setStart(d),h.setCenter(a),h.setValueRange(r),h.setOrigin(ae({},e)),h.setLength(i),h.setAxisLength(c),h.setSplitLineLegnth(s),h.calculate();var f=!0===h.getFromAxisParam("axisLabel.inside");if(u&&!f){var g=h.getViewRect();p=Object(n.unionRect)(g,p)}}}),Object(n.quicklyForEach)(h.category.vertical,function(o){var r=t.verticalAxisArray[o];if(r){var h=ae({},e);0!=o&&(h.x=e.x+s),r.setStart(h),r.setStartPercent(t.startPercent),r.setEndPercent(t.endPercent),r.setCenter(a),r.setSplitLineLegnth(s),r.setOrigin({x:e.x,y:e.y}),r.setLength(i),r.setAxisLength(c),r.calculate();var l=!0===r.getFromAxisParam("axisLabel.inside");if(u&&!l){var d=r.getViewRect();p=Object(n.unionRect)(d,p)}}}),Object(n.quicklyForEach)(h.category.horizontal,function(i){var r=t.horizontalAxisArray[i];if(r){var h=ae({},e);0!=i&&(h.y=e.y-f),r.setStart(h),r.setStartPercent(t.startPercent),r.setEndPercent(t.endPercent),r.setCenter(a),r.setSplitLineLegnth(c),r.setOrigin({x:e.x,y:e.y}),r.setLength(o),r.setAxisLength(s),r.calculate();var l=!0===r.getFromAxisParam("axisLabel.inside");if(u&&!l){var d=r.getViewRect();p=Object(n.unionRect)(d,p)}}}),p},v=y(o,e,i,e-p,f,!0),x=Object(u.J)(g,v);this.showStat&&(x={paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0});var b=Object(u.I)(g,x);this.setOrigin(b.x,b.y+b.height),y({x:b.x,y:b.y+b.height},b.width,b.height,b.width-p,b.height-d)},t.prototype.calculateValueLabel=function(t,e,i,n,o){if(t&&t.validate&&i>0)return this.calculateAxisData(t.min,t.max,e,i,n,o)},t.prototype.calculateAxisData=function(t,e,i,o,r,a){for(var s=i,h=Math.abs(t),c=Math.abs(e),l=lt(t),u=lt(e),p=t,d=e,f=u,g=!1,y=0;s>0&&!1===g;){if(e==t&&0==e);else if(t<0&&e>0){var v=lt(j=(u/l>10?c+u:u/l<.1?h+l:h+c)/s);f=Math.ceil(Object(n.accDiv)(j,v))*v,d=Math.ceil(c/f)*f,p=t<0?-Math.ceil(h/f)*f:Math.ceil(h/f)*f}else if(t>=0){v=lt(j=(c-0)/s);f=Math.ceil(Object(n.accDiv)(j,v))*v,d=Object(n.accMul)(Math.ceil(Object(n.accDiv)(c,f)),f),p=0}else if(e<0){v=lt(j=h/s);f=Math.ceil(Object(n.accDiv)(j,v))*v,d=0,p=t<0?-Math.ceil(h/f)*f:Math.ceil(h/f)*f}y=0;for(var x=[],b=Object(n.isFun)(a)?a:function(t){return t+""},m=[],O=[],w=Object(n.accDiv)(Object(n.accAdd)(d,-p),f),_=0;_<w+1;_++){var j,P=b(j=Object(n.accAdd)(p,Object(n.accMul)(f,_)));O.push(P);var A=new Y(P);m.push(j),A.calculateSize(),x.push(A);var C=A.getSize();C&&C.width&&C.height&&(y+=r?C.width:C.height)}if(y<o)return g=!0,{maxSupport:d,minSupport:p,scale:f,textRenders:x,values:m,labels:O};s--}return{maxSupport:d,minSupport:p,scale:f}},t.prototype.createTransformMatrix=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getVerticalAxisByIndex(e),o=this.getHorizontalAxisByIndex(t);if(null!=i&&null!=o){var r,a,s;o.isValueAxis()?i.isValueAxis()||(r=i.getFromAxisParam("data",[]),a=o.getScaleInfo(),s=i.getMatrixPaddings()):(r=o.getFromAxisParam("data",[]),a=i.getScaleInfo(),s=o.getMatrixPaddings());var h=r.length,c=Object(n.getIndexRangeFromPercent)(h,this.startPercent,this.endPercent),l=c.startIndex,u=c.endIndex,p=ae({},o.getOrigin()),f=o.getAxisLength(),g=i.getAxisLength(),y=u-l,v={x:0,y:a.minSupport,width:y||1,height:a.maxSupport-a.minSupport||1},x={x:p.x+s.paddingLeft,y:p.y-s.paddingBottom,width:f-s.paddingLeft-s.paddingRight,height:g-s.paddingTop-s.paddingBottom};return 0===y&&(!1===o.isValueAxis()?x={x:p.x+f/2,y:p.y,width:f/2,height:g}:!1===i.isValueAxis()&&(x={x:p.x,y:p.y-g/2,height:g/2,width:f})),Object(d.b)(v,x,!0,0==i.isValueAxis())}},t.prototype.getCoordinateRect=function(){var t=this.getOrigin(),e={x:t.x,y:t.y,width:0,height:0},i=[];Object(n.quicklyForEach)(this.horizontalAxisArray,function(t){var e=t.getStart(),n=t.getEnd();i.push(e),i.push(n)}),Object(n.quicklyForEach)(this.verticalAxisArray,function(t){var e=t.getStart(),n=t.getEnd();i.push(e),i.push(n)});var o=Object(u.e)(i);return Object(u.O)(o)&&(e=Object(n.unionRect)(o,e)),e},t.prototype.computeThreshold=function(){var t=this;this.thresholdMap={},this.dataContainer.getPipelines().forEach(function(e){if(e instanceof P){var i=e.getYAxisIndex(),o=e.getXAxisIndex();if(!Object(n.getByPath)(t.thresholdMap,[i,o])&&i>=0&&o>=0){var r=t.getHorizontalAxisByIndex(o),a=t.getVerticalAxisByIndex(i),s=a.isValueAxis()?r:a,h=a.isValueAxis()?a:r,c=s.getFromAxisParam("data",[]),l=Object(n.getByPath)(c,["length"]),u=Object(n.getIndexRangeFromPercent)(l,t.startPercent,t.endPercent),p=u.startIndex,f=u.endIndex,g=h.calculateThresholdArea(p,f),y=g.rectArray,v=g.areaArray,x=g.fillAreaArray,b=g.lineColor,m=g.backgroundColor,O=t.createTransformMatrix(o,i);if(O){var w=function(t){return Object(n.simpleFilter)(t,function(t){return Object(n.simpleFilter)(t,function(t){return Object(n.simpleFilter)(t,function(t){return Object(d.i)(t,O)})})})},_=w(v),j=w(y),A=w(x),C=a.getScaleInfo();Object(n.setByPath)(t.thresholdMap,[o,i],{areaArray:v,areaPosArray:_,fillAreaArray:x,fillAreaPosArray:A,rectArray:y,rectPosArray:j,lineColor:b,backgroundColor:m,matrix:O,scaleInfo:C})}}}})},t.prototype.drawThreshold=function(t){for(var e in this.thresholdMap){var i=function(i){var r=Object(n.getByPath)(o.thresholdMap,[e,i]);r&&Object(n.quicklyForEach)(r.fillAreaPosArray,function(e){var i=Object(u.L)(e[0],e[1]);t.save(),Object(u.b)(t,i),t.fillStyle=r.backgroundColor||"#c0c0c0",t.strokeStyle=r.lineColor||"#fff000",t.fill(),t.restore()})},o=this;for(var r in this.thresholdMap)i(r)}},t}(),he=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ce=function(){return function(){}}(),le=ce,ue=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}he(e,t)}(ce),function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),pe=function(t){function e(e,i){var n=t.call(this)||this;return n.x=e,n.y=i,n}return ue(e,t),e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e}(le),de={press:!1};function fe(){return de}var ge=function(){function t(){this.stateReset(!0),this.disable=!0}return t.prototype.isPress=function(){return this.press},t.prototype.setPress=function(t){this.press=t},t.prototype.setMoveCallback=function(t){this.moveCallback=t},t.prototype.setDragCallback=function(t){this.dragCallback=t},t.prototype.setStateResetCallback=function(t){this.stateResetCallback=t},t.prototype.getStart=function(){return this.start},t.prototype.getMoveEnd=function(){return this.moveEnd},t.prototype.getDragEnd=function(){return this.dragEnd},t.prototype.stateReset=function(t){void 0===t&&(t=!1);var e=fe();this.press=e.press,this.start=null,this.moveEnd=null,this.dragEnd=null,t&&"function"==typeof this.stateResetCallback&&this.stateResetCallback()},t.prototype.handleMouseDown=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),"function"==typeof n&&1==n(t,e)||!n?(this.start=new pe(t,e),this.setPress(!0),"function"==typeof i&&i(this.start)):this.start=null},t.prototype.handleMouseUp=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.isPress()?"function"==typeof n&&1==n(t,e)||!n?(this.dragEnd=new pe(t,e),"function"==typeof i&&i(this.start,this.dragEnd),this.stateReset(!0)):this.stateReset():this.stateReset(!0)},t.prototype.handleMouseMove=function(t,e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),this.isPress()?"function"==typeof n&&1==n(t,e)||!n?(this.moveEnd=new pe(t,e),"function"==typeof i&&i(this.start,this.moveEnd)):this.stateReset():this.stateReset(!0)},t.prototype.handleMouseLeave=function(){this.stateReset()},t}(),ye=function(){function t(t){void 0===t&&(t=void 0),this.visible=!0,t=t}return t.prototype.draw=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];throw t=t,e=e,"draw must be overrided!"},t.prototype.getRect=function(){throw"getRect must be overrided!"},t.prototype.getDirtyRect=function(){return this.dirtyRect},t.prototype.setDirtyRect=function(t){this.dirtyRect=t},t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(t){this.layer=t},t.prototype.isDirty=function(){return this.dirty},t.prototype.setDirty=function(t){this.dirty=t,1==t&&this.dirtyItself()},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(t){this.visible=t},t.prototype.dirtyItself=function(){this.layer&&this.layer.addDirty(this)},t.prototype.destroy=function(){this.layer=null,this.dirtyRect=null},t}(),ve=i(6),xe=function(){return(xe=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},be=function(){function t(){var t=this;this.logicOrigin={x:0,y:0},this.offset=0,this.stickLines=[],this.splitLines=[],this.verticalSplitLines=[],this.stickLength=4,this.stickCount=0,this.boundaryGap=!1,this.stickLineWidth=1,this.axisPoints=[],this.labels=[],this.labelRenders=[],this.tableRenders=[],this.descriptions=[],this.descriptionRenders=[],this.matrix=new d.a,this._needCalculate=!1,this.minSpan=1,this.type=h.AXIS_TYPE.CATEGORY,this.fontUpdate=!0,this.interval=1,this.splitlineLength=0,this.matrixPaddings={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},this.boundaryGapWidth=0,this.isVerticalAxis=null,this.isValueAxis=null,this.titleRender=new Y,this.getFromAxisParam=function(e,i){return void 0===i&&(i=void 0),Object(n.get)(t.axisParam,e,i)},this.titleRender.setPaddingByArray([0,0])}return t.prototype.setBoundaryGapWidth=function(t){this.boundaryGapWidth=t},t.prototype.getBoundaryGapWidth=function(){return this.boundaryGapWidth},t.prototype.setScaleInfo=function(t){this.scaleInfo=t},t.prototype.getScaleInfo=function(){return this.scaleInfo},t.prototype.setSplitLineLegnth=function(t){this.splitlineLength=t},t.prototype.getSplitLineLength=function(){return this.splitlineLength},t.prototype.setMatrixPaddings=function(t){this.matrixPaddings=t},t.prototype.getMatrixPaddings=function(){return this.matrixPaddings},t.prototype.setMinSpan=function(t){this.minSpan=t},t.prototype.setType=function(t){var e=h.AXIS_TYPE.CATEGORY;switch(t){case h.AXIS_TYPE.VALUE:e=h.AXIS_TYPE.VALUE}this.type=e},t.prototype.getType=function(){return this.type},t.prototype.setLabelFormatter=function(t){this.labelFormatter=t},t.prototype.setMinValue=function(t){this.minValue=t},t.prototype.setMaxValue=function(t){this.maxValue=t},t.prototype.setAxisParam=function(t){this.axisParam=t},t.prototype.getAxisParam=function(){return this.axisParam},t.prototype.setOrigin=function(t){this.logicOrigin=t},t.prototype.getOrigin=function(){return this.logicOrigin},t.prototype.setOffset=function(t){this.offset=t},t.prototype.getOffset=function(){return this.offset},t.prototype.setSize=function(t){this.size=t},t.prototype.setAxisPoints=function(t){this.axisPoints=t},t.prototype.getAxisPoints=function(){return this.axisPoints},t.prototype.getSize=function(){return this.size},t.prototype.getAxisLength=function(){return this.axisLength},t.prototype.setAxisLength=function(t){this.axisLength=t},t.prototype.setLength=function(t){this.length=t},t.prototype.getLength=function(){return this.length},t.prototype.setStart=function(t){this.start=t},t.prototype.getStart=function(){return this.start},t.prototype.setEnd=function(t){this.end=t},t.prototype.getEnd=function(){return this.end},t.prototype.isBoundaryGap=function(){return this.boundaryGap},t.prototype.setBoundaryGap=function(t){this.boundaryGap!==t&&(this.boundaryGap=t,this._needCalculate=!0)},t.prototype.setCenter=function(t){this.center=t},t.prototype.getCenter=function(){return this.center},t.prototype.setStickLength=function(t){this.stickLength=t},t.prototype.getStickLength=function(){return this.stickLength},t.prototype.setStickCount=function(t){this.stickCount=t},t.prototype.getStickCount=function(){return this.stickCount},t.prototype.setMatrix=function(t){this.matrix=t},t.prototype.setLabelRenders=function(t){this.labelRenders=t},t.prototype.getLabelRenders=function(){return this.labelRenders},t.prototype.setLabels=function(t){this.labels=t},t.prototype.getLabels=function(){return this.labels},t.prototype.setDescriptions=function(t){this.descriptions=t},t.prototype.getDescriptions=function(){return this.descriptions},t.prototype.setDescriptionRenders=function(t){this.descriptionRenders=t},t.prototype.getDescriptionRenders=function(){return this.descriptionRenders},t.prototype.setInterval=function(t){this.interval=t},t.prototype.getInterval=function(){return this.interval},t.prototype.getTitleRender=function(){return this.titleRender},t.prototype.initTitleRender=function(){var t=this.getTitleRender(),e=this.getAxisParam(),i=Object(n.getByPath)(e,["title"]),o=Object(n.getByPath)(i,["textStyle"]),r=Object(n.getByPath)(i,["text"]),a=Object(n.getByPath)(e,["axisLabel","color"]),s=Object(n.getByPath)(o,["color"],a),c=M(Object(n.getByPath)(o,["font"],h.DEFAULT_FONT)).toString();t.setText(r),t.setFont(c),t.setColor(s)},t.prototype.getDirections=function(t,e,i){var n=1,o=1;return i&&(n=t.x-e.x,o=t.y-e.y),i||(n=e.x-t.x,o=e.y-t.y),n=n||1,o=o||1,{x:n=Math.abs(n)/n,y:o=Math.abs(o)/o}},t.prototype.isInside=function(){return Object(n.get)(this.axisParam,"axisLabel.inside",!1)},t.prototype.drawLabels=function(t){return t},t.prototype.drawSplitLines=function(t){return t},t.prototype.getMaxData=function(){return this.getFromAxisParam("maxData")},t.prototype.draw=function(t){if(Object(n.get)(this.axisParam,"show",!0)){if(Object(n.get)(this.axisParam,"splitLine.show",!0)&&this.drawSplitLines(t),Object(n.get)(this.axisParam,"axisTick.show",!0))for(var e=Object(n.get)(this.axisParam,"axisTick.lineStyle.color","#000000"),i=Object(n.get)(this.axisParam,"axisTick.lineStyle.width",1),o=0;o<this.stickLines.length;o++){var r=this.stickLines[o];Object(u.k)(t,r[0],r[1],e,i)}if(Object(n.get)(this.axisParam,"axisLine.show",!0)){var a=Object(n.get)(this.axisParam,"axisLine.lineStyle.color","#000000"),s=Object(n.get)(this.axisParam,"axisLine.lineStyle.width",1);Object(u.k)(t,this.start,this.end,a,s)}Object(n.get)(this.axisParam,"axisLabel.show",!0)&&(this.drawLabels(t),this.drawDescriptions(t)),this.drawTitleRender(t)}},t.prototype.drawTitleRender=function(t){if(this.titleRender instanceof Y){var e=this.titleRender.getText();""!=e&&null!=e&&this.titleRender.draw(t)}},t.prototype.drawDescriptions=function(t){},t.prototype.getViewRect=function(){var t=[];t.push(this.start,this.end),this.stickLines&&this.stickLines.length>0&&(t.push(Object(n.get)(this.stickLines[0],"0"),Object(n.get)(this.stickLines[0],"1")),t.push(Object(n.get)(this.stickLines[this.stickLines.length-1],"0"),Object(n.get)(this.stickLines[this.stickLines.length-1],"1")));var e=Object(u.e)(t);if(this.labelRenders&&this.labelRenders.length)for(var i=0;i<this.labelRenders.length;i++){var o=this.labelRenders[i];if(!0===o.isVisible()){var r=o.getRect();e=Object(n.unionRect)(e,r)}}if(this.tableRenders&&this.tableRenders.length>0)for(i=0;i<this.tableRenders.length;i++){var a=this.tableRenders[i];if(!0===a.isVisible()){r=a.getRect();e=Object(n.unionRect)(e,r)}}return e},t.prototype.createFont=function(){if(1==this.fontUpdate||null==this.labelFont){var t=this.getFromAxisParam("axisLabel"),e=new S;e.setMap(t),this.labelFont=e.toString(),this.fontUpdate=!1}return this.labelFont},t.prototype.getProjection=function(t){return t},t.prototype.calculateScaleInfoForDefaultData=function(t,e,i,n){var o=this.getFromAxisParam("defaultData",[]),r={},a=0;if(o instanceof Array&&o.length>0){var s=0,h=o.length,c=Math.ceil((h+s)/2);for(a=1;h>s;){for(var l=0,u=0;u<c;u++){if(!r[u])(v=new Y(o[u],e)).setAngle(i),v.calculateSize(),r[u]=v;var p=r[u].getSize();l=n?l>p.height?l:p.height:l>p.width?l:p.width}if(l*c>t){if(h===c)break;h=c,c=Math.floor((h+s)/2)}else{if(s===c)break;s=c,a=c,c=Math.ceil((h+s)/2)}}}var d=new Array(a),f=new Array(a),g=new Array(a),y=1;if(a>0){y=1/(a-1||1);for(u=0;u<a;u++){var v,x=o[u];g[u]=x,f[u]=y*u,(v=new Y(x,e)).setAngle(i),v.calculateSize(),d[u]=v}}return{maxSupport:1,minSupport:0,scale:y,textRenders:d,values:f,labels:g}},t.prototype.computeThresholdArray=function(t,e,i,o,r){void 0===t&&(t=[]),void 0===e&&(e=[]);for(var a=Object(n.getMax)(Object(n.getByPath)(t,["length"]),Object(n.getByPath)(e,["length"]))||0,s=[],h=[],c=Object(n.simpleIndexOf)(i,n.CompareOperate.GT)>=0,l=Object(n.simpleIndexOf)(i,n.CompareOperate.LT)>=0,u=0;u<a;u++){var p=t[u],d=e[u],f=void 0,g=void 0;null==p&&null!=d&&(p=o),null==d&&null!=p&&(d=r),c&&l?null!=p&&null!=p&&(g={x:u,y:p,index:u},f={x:u,y:d,index:u}):c?(null!=p&&(f={x:u,y:p,index:u}),g={x:u,y:o,index:u}):l&&(null!=e&&(g={x:u,y:d,index:u}),f={x:u,y:r,index:u}),s.push(g),h.push(f)}return[s,h]},t.prototype.calculateThresholdArea=function(t,e){for(var i=this.scaleInfo,o=i.minSupport,r=i.maxSupport,a=Object(n.cloneArray)(this.getFromAxisParam("threshold.upperBoundValue")),s=Object(n.cloneArray)(this.getFromAxisParam("threshold.lowerBoundValue")),h=this.getFromAxisParam("threshold.lineColor"),c=this.getFromAxisParam("threshold.condition",[]),l=this.getFromAxisParam("threshold.backgroundColor"),u=a.slice(t,e+1),p=s.slice(t,e+1),d=Object(n.getMax)(u.length,p.length),f=[],g=[],y=[],v=[],x=[],b=function(){var t=function(){return Object(n.simpleFilter)(f,function(t){return{x:t.x,y:r,index:t.index}})},e=function(){return Object(n.simpleFilter)(g,function(t){return{x:t.x,y:o,index:t.index}})},i=[f,g],a=[];a=Object(n.simpleIndexOf)(c,n.CompareOperate.LT)>=0&&Object(n.simpleIndexOf)(c,n.CompareOperate.GT)>=0?[f,g]:Object(n.simpleIndexOf)(c,n.CompareOperate.GT)>=0?[t(),g]:Object(n.simpleIndexOf)(c,n.CompareOperate.LT)>=0?[f,e()]:[f,g];var s=[t(),e()];x.push(i),y.push(a),v.push(s),f=[],g=[]},m=0;m<d;m++){var O=u[m],w=p[m];if(null==O&&null!=w)O=r;else if(null!=O&&null==w)w=o;else if(null==O&&null==w){f.length>0&&g.length>0&&b();continue}f.push({x:m,y:O,index:m}),g.push({x:m,y:w,index:m})}return f.length>0&&g.length>0&&b(),{fillAreaArray:x,areaArray:y,rectArray:v,lineColor:h,backgroundColor:l}},t.calculateValueAxisData=function(t,e,i,o,r,a,s,c,l,u){void 0===s&&(s=h.DEFAULT_FONT),void 0===c&&(c=0),void 0===l&&(l=void 0),void 0===u&&(u=void 0);var p=Object(n.isFun)(a)?a:function(t){return t+""},d=function(t,e,i,o){var r=function(t,e){if(t instanceof Array&&Object(n.isNum)(e)){for(var i=t.length,o=0;o<t.length;o++){var r=t[o],a=void 0;if(Object(n.isNum)(r)?a=r:r&&Object(n.isNum)(r.value)&&(a=r.value),a>e){i=o;break}}return i}}(t,o);if(r>=0){var a=p(o),h=new Y(a,s);h.setAngle(c),h.calculateSize(),t=Object(n.putArrayToArrayAndCreate)(t,[{value:o}],r),e=Object(n.putArrayToArrayAndCreate)(e,[h],r),i=Object(n.putArrayToArrayAndCreate)(i,[a],r)}return{values:t,renders:e,labels:i}},f=i;if(l=Object(n.convertToNum)(l),u=Object(n.convertToNum)(u),l>u){var g=l;l=u,u=g}if(null==l?t>0&&e>0&&(t=0):t=Object(n.getMin)(t,l),null==u?t<0&&e<0&&(e=0):e=Object(n.getMax)(e,u),t=Object(n.getMax)(t,l),e=Object(n.getMin)(e,u),t>e){g=t;t=e,e=g}var y,v,x=Math.abs(t),b=Math.abs(e),m=lt(t),O=lt(e),w=t,_=e,j=O,P=!1,A=0;if(null==t&&null==e)return{maxSupport:_,minSupport:w,scale:j};for(var C=function(){if(e==t&&0==e);else if(t<0&&e>0){var a=lt(S=(O/m>10?b+O:O/m<.1?x+m:x+b)/f);j=Object(n.accMul)(Math.ceil(Object(n.accDiv)(S,a)),a),_=Object(n.accMul)(Math.ceil(Object(n.accDiv)(b,j)),j),w=-Object(n.accMul)(Math.ceil(Object(n.accDiv)(x,j)),j),y=S,v=a}else if(t>=0){a=lt(S=(l>0?b-x:b)/f);j=Object(n.accMul)(Math.ceil(Object(n.accDiv)(S,a)),a),_=Object(n.accMul)(Math.ceil(Object(n.accDiv)(b,j)),j),w=Object(n.accMul)(Math.floor(Object(n.accDiv)(x,j)),j),y=S,v=a}else if(e<0){a=lt(S=(u<0?x-b:x)/f);j=Object(n.accMul)(Math.ceil(Object(n.accDiv)(S,a)),a),_=-Object(n.accMul)(Math.floor(Object(n.accDiv)(b,j)),j),w=-Object(n.accMul)(Math.ceil(Object(n.accDiv)(x,j)),j),y=S,v=a}A=0;var h=[],g=[],C=[],L=Object(n.accDiv)(Object(n.accAdd)(_,-w),j);if(L>i){var I=["maxCount:"+i,"value:"+y,"magnitudes:"+v];console.log(I.join(" ")),L=i}for(var F=0;F<L+1;F++){var S=Object(n.accAdd)(w,Object(n.accMul)(j,F));if(!(Object(n.isNum)(l)&&S<l)&&!(Object(n.isNum)(u)&&S>u)){var M=p(S,F);C.push(M);var R=new Y(M,s);g.push(S),R.setAngle(c),R.calculateSize(),h.push(R);var E=R.getSize();E&&E.width&&E.height&&(A+=r?E.width:E.height)}}if(A<=o){P=!0;var T=d(g,h,C,l);g=T.values,h=T.renders,C=T.labels,g=(T=d(g,h,C,u)).values,h=T.renders,C=T.labels;var B=new Array(g.length),k=[];return Object(n.quicklyForEach)(g,function(t,e){Object(n.isNum)(t)?B[e]=t:(B[e]=t.value,k.push(e))}),Object(n.isNum)(l)&&(w=l),Object(n.isNum)(u)&&(_=u),{value:{maxSupport:_,minSupport:w,scale:j,textRenders:h,values:B,labels:C,importantIndexs:k}}}f--};f>0&&!1===P;){var L=C();if("object"==typeof L)return L.value}return{maxSupport:_,minSupport:w,scale:j}},t.prototype.getTargetValueFromCategoryAxis=function(t){var e=this.getFromAxisParam("data");return Object(n.quicklyFindInArray)(e,function(e,i){if(e==t)return{index:i,value:t}})},t.prototype.getTargetValueFromValueAxis=function(t){var e=this.getScaleInfo(),i=Object(n.getByPath)(e,["minSupport"]),o=Object(n.getByPath)(e,["maxSupport"]);if(Object(n.isNum)(i)&&Object(n.isNum)(o))return{value:t}},t.prototype.calculateTitleRender=function(){var t=this.isVerticalAxis()?"height":"width",e=this.isVerticalAxis()?"y":"x",i=this.getTitleRender(),o=i.getSize(),r=this.getEnd(),a=this.getStart(),s=Object(w.i)(r,a),h=Object(n.getByPath)(o,[t],0),c=xe({},r);c[e]=r[e]+.5*Object(n.normalValue)(s[e])*h,i.setPosition(c.x,c.y,"middle","middle")},t}(),me=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Oe=function(){return(Oe=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},we=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isValueAxis=function(){return!0},e.isVerticalAxis=function(){return!1},e.getTargetValue=function(t){return e.getTargetValueFromValueAxis(t)},e}return me(e,t),e.prototype.setValueRange=function(t){this.range=t},e.prototype.getValueRange=function(){return this.range},e.prototype.getMin=function(){var t=this.getFromAxisParam("min");if(Object(n.isNum)(t))return Object(n.convertToNum)(t)},e.prototype.getMax=function(){var t=this.getFromAxisParam("max");if(Object(n.isNum)(t))return Object(n.convertToNum)(t)},e.prototype.calculate=function(){var t=this.getFromAxisParam("axisLabel.formatter"),e=Object(n.get)(this.axisParam,"axisLabel.inside",!1),i=Object(n.get)(this.axisParam,"axisLabel.rotate",0),o=Object(n.get)(this.axisParam,"axisLabel.color"),r=Object(n.get)(this.axisParam,"min"),a=Object(n.get)(this.axisParam,"max");i=Object(n.isNum)(i)?-i*Math.PI/180:0;var s=this.getDirections(this.getCenter(),this.getStart(),e),h=new S;h.setMap(Object(n.get)(this.axisParam,"axisLabel"));var c,l=h.toString(),p=this.getFromAxisParam("defaultData",[]),f=Oe({},this.range||{});0==f.min&&0==f.max&&(f.min=0,f.max=1),c=f&&Object(n.isNum)(f.min)&&Object(n.isNum)(f.max)||!(p instanceof Array&&p.length>0)?be.calculateValueAxisData(f.min,f.max,5,this.getAxisLength(),!0,t,l,i,r,a):this.calculateScaleInfoForDefaultData(this.getAxisLength(),l,i,!1),this.setScaleInfo(c);var g={x:c.minSupport,y:0,width:c.maxSupport-c.minSupport,height:0},y={x:this.getStart().x,y:this.getStart().y,width:this.getAxisLength(),height:0},v=Object(d.b)(g,y,!0);this.setMatrix(v);var x=c.textRenders||[],b="top",m=this.getStickLength()*s.y;s.y<0&&(b="bottom");for(var O=c.importantIndexs instanceof Array&&c.importantIndexs.length>0?c.importantIndexs:[],w=[],_=Object(n.getByPath)(c,"values",[]),j=0;j<x.length;j++){var P=x[j],A=_[j];if(A&&!Object(n.isNum)(A)&&(A=A.value),Object(n.isNum)(A)){P.setColor(o);var C=Object(d.i)({x:A,y:0},v);P.setPosition(C.x,C.y+m,"middle",b);var L=new pe(C.x,C.y);w.push(L)}else P&&P.setVisible(!1)}O.length>0&&Object(n.quicklyForEach)(x,function(t){Object(n.quicklyFindInArray)(O,function(e){var i=x[e];if(i!==t){var n=i.getRect(),o=t.getRect();return Object(u.O)(n)&&Object(u.O)(o)&&Object(u.D)(n,o)?(t.setVisible(!1),!0):void 0}})});var I=this.getStart(),F=this.getDirections(this.getCenter(),I,!0);this.setEnd({x:I.x+F.x*this.getAxisLength(),y:I.y}),this.setLabelRenders(c.textRenders),this.setLabels(c.labels),this.setAxisPoints(w),this.calculateTickLines(s.y),this.calculateSplitLines(),this.calculateTitleRender()},e.prototype.calculateTickLines=function(t){var e=[],i=this.getStickLength()*t;Object(n.quicklyForEach)(this.axisPoints,function(t){e.push([{x:t.x,y:t.y},{x:t.x,y:t.y+i}])}),this.stickLines=e},e.prototype.calculateSplitLines=function(){var t=[],e=this.getSplitLineLength()*this.getDirections(this.getCenter(),this.getStart(),!0).y;Object(n.quicklyForEach)(this.axisPoints,function(i){t.push([{x:i.x,y:i.y},{x:i.x,y:i.y+e}])}),this.splitLines=t},e.prototype.drawSplitLines=function(t){var e=Object(n.get)(this.axisParam,"splitLine.lineStyle.color","#c0c0c0");e instanceof Array||(e=[e]);for(var i=Object(n.get)(this.axisParam,"splitLine.lineStyle.width",1),o="dash"==Object(n.get)(this.axisParam,"splitLine.lineStyle.type","solid")?[2]:void 0,r=e.length||1,a=0;a<this.splitLines.length;a++){var s=this.splitLines[a],h=e[a%r];Object(u.k)(t,s[0],s[1],h,i,o)}},e.prototype.drawLabels=function(t){var e=Object(n.get)(this.axisParam,"axisLabel.color","#000");if(this.labelRenders&&0!=Object(n.get)(this.axisParam,"axisLabel.show"))for(var i=0;i<this.labelRenders.length;i++){var o=this.labelRenders[i],r=this.descriptionRenders[i];o.isVisible()&&(r&&r.draw(t),o.setColor(e),o.draw(t))}},e.prototype.getProjection=function(t){return{x:t.x,y:this.start.y}},e}(be),_e=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _e(e,t),e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(t){this.parent=t},e.prototype.calculateSize=function(){},e.prototype.getRect=function(){var t;return this.getChildren().forEach(function(e){t=Object(u.E)(e.getRect(),t)}),t&&(t.x-=this.paddings.paddingLeft,t.y-=this.paddings.paddingTop,t.width+=this.paddings.paddingLeft+this.paddings.paddingRight,t.height+=this.paddings.paddingTop+this.paddings.paddingBottom),t},e.prototype.getSize=function(){var t=0,e=0;return this.getChildren().forEach(function(i){var o=i.getSize(),r=Object(n.get)(o,"height"),a=Object(n.get)(o,"width");i.isVisible()&&(t=r>t?r:t,e+=a)}),{width:e+this.paddings.paddingLeft+this.paddings.paddingRight,height:t+this.paddings.paddingTop+this.paddings.paddingBottom}},e.prototype.getWidth=function(){var t=this.getSize();return Object(n.get)(t,"width")},e.prototype.getHeight=function(){var t=this.getSize();return Object(n.get)(t,"height")},e.prototype.calculateLayout=function(t){var e=this,i=this.getChildren(),n=t.x+this.paddings.paddingLeft,o=t.y+this.paddings.paddingTop,r=t.height||0;(r-=this.paddings.paddingBottom-this.paddings.paddingTop)<0&&(r=0),i.forEach(function(t,i){var a=e.widthArray[i]||0;if(t&&a){var s={x:n,y:o,width:a,height:r};t.calculateLayout(s),n+=a}}),this.rect=t},e.prototype.draw=function(t,e){var i=this,n=this.getChildren(),o=e.x,r=e.y;n.forEach(function(n,a){var s=i.widthArray[a]||0;if(n&&s){var h={x:o,y:r,width:s,height:e.height};n.draw(t,h),o+=s}})},e.prototype.setCol=function(t){this.col=t},e.prototype.setWidthArray=function(t){void 0===t&&(t=[]),this.widthArray=t.concat()},e}(St),Pe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ae=function(){return(Ae=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ce=function(t){function e(e){var i=t.call(this)||this;return i.rotateRender=e,i}return Pe(e,t),e.prototype.calculateLayout=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height;var e=Object(u.d)(t,this.rotateRender.getRect(),{horizontal:"middle",vertical:"middle"},{horizontal:"left",vertical:"top"});this.rotateRender.setPosition(e.x,e.y,"left","top")},e.prototype.getSize=function(){var t=this.rotateRender.getSize();return(t={width:t.width+this.paddings.paddingLeft+this.paddings.paddingRight,height:t.height+this.paddings.paddingTop+this.paddings.paddingBottom}).width>this.width||t.height>this.height?t:{width:this.width,height:this.height}},e.prototype.getRect=function(){var t=this.getSize();return Ae({x:this.x,y:this.y},t)},e.prototype.draw=function(t){this.rotateRender.draw(t)},e}(St),Le=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ie=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tableRenders=[],e.isVerticalAxis=function(){return!0},e.isValueAxis=function(){return!1},e.setStartPercent=function(t){t<0&&(t=0),e.startPercent=t},e.setEndPercent=function(t){t>1&&(t=1),t<0&&(t=0),e.endPercent=t},e.getTargetValue=function(t){return e.getTargetValueFromCategoryAxis(t)},e}return Le(e,t),e.prototype.calculateTickLines=function(t){var e=[],i=this.getStickLength()*t;Object(n.quicklyForEach)(this.axisPoints,function(t){e.push([{x:t.x,y:t.y},{x:t.x+i,y:t.y}])}),this.stickLines=e},e.prototype.buildMatrix=function(t,e,i){void 0===i&&(i=0);var n,o=this.getOrigin(),r=Object(d.d)(-Math.PI/2),a=e-i,s=1;1==t?n=Object(d.f)(o.x,o.y-this.getAxisLength()/2-i/2):t>1&&(n=Object(d.f)(o.x,o.y-i/2),s=a/(t-1));var h=Object(d.e)(s,1);return Object(d.h)(h,r,n)},e.prototype.calculate=function(){var t=this.getAxisLength();this.isBoundaryGap()&&(t-=this.boundaryGapWidth);var e=Object(n.get)(this.axisParam,"axisLabel.inside",!1),i=Object(n.get)(this.axisParam,"axisLabel.rotate",0);i=Object(n.isNum)(i)?-i*Math.PI/180:0;var o=this.getDirections(this.getCenter(),this.getOrigin(),e),r=new S;r.setMap(Object(n.get)(this.axisParam,"axisLabel"));var a=r.toString(),s=this.getFromAxisParam("data",[]),h=this.getFromAxisParam("description",[]),c=this.getFromAxisParam("axisLabel.formatter"),l=this.getFromAxisParam("boundaryGap"),p=s.length,f=Object(n.getIndexRangeFromPercent)(p,this.startPercent,this.endPercent),g=f.startIndex,y=f.endIndex,v=ut(Object(n.cloneArray)(s),c)||[];v.length>0&&(v=v.slice(g,y+1)),h.lengthh>0&&(h=h.slice(g,y+1));var x=v.length,b=Object(n.get)(v,"length",1),m=b>1?t/(b-1):0;isNaN(m)&&(m=0);var O=Object(n.get)(this.axisParam,"axisLabel.color","#000"),w=ht(v,t,function(t,e){var n=v[e],o=h[e],r=new Rt;if(null!=n){var s=new Y(n);s.setColor(O),s.setAngle(i);var c=new je,l=new Ce(s);c.add(l),r.add(c)}if(o){var p=new Y(o);p.setAngle(i),p.setFont(a);c=new je;var d=new Ce(p);c.add(d),r.add(c)}var f=r.getRect();r.setWidth(f.width);var g=Object(u.f)(f,0,e*m,"left","top");return r.setPosition(g.x,g.y),r.calculateLayout(),r},l,!0);this.tableRenders=w.renders;var _=[];if(x>0){var j=this.buildMatrix(x,t,w.boundaryWidth);if(this.setMatrix(j),Object(n.isNum)(w.interval))for(var P=Object(n.getMax)(w.interval,1),A=0;A<x;A+=P)_.push(Object(d.i)({x:A,y:0},j))}this.axisPoints=_;var C=Object(n.get)(this.axisParam,"axisLabel.margin");C=Object(n.isNum)(C)?parseFloat(C):8,C=o.x*C;for(A=0;A<this.axisPoints.length&&this.tableRenders.length>A;A++){var L=this.axisPoints[A],I=this.tableRenders[A];if(I instanceof Rt){var F=I.getRect(),M=C,R=Object(u.f)(F,L.x,L.y,o.x<0?"right":"left",e?"top":"middle");I.setPosition(R.x+M,R.y),I.calculateLayout()}}if(Object(n.isNum)(w.boundaryWidth)){this.setBoundaryGapWidth(w.boundaryWidth);var E={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};E.paddingTop=E.paddingBottom=w.boundaryWidth/2,this.setMatrixPaddings(E)}var T=this.getStart(),B=this.getDirections(this.getCenter(),T,!0);this.setEnd({x:T.x,y:T.y+B.y*this.getAxisLength()}),this.calculateTickLines(o.x),this.calculateSplitLines(),this.setInterval(w.interval||1),this.calculateTitleRender()},e.prototype.calculateSplitLines=function(){var t=this.getSplitLineLength(),e=this.getDirections(this.getCenter(),this.getStart(),!0).x*t,i=[];Object(n.quicklyForEach)(this.axisPoints,function(t){i.push([{x:t.x,y:t.y},{x:t.x+e,y:t.y}])}),this.splitLines=i},e.prototype.drawSplitLines=function(t){var e=Object(n.get)(this.axisParam,"splitLine.lineStyle.color","#c0c0c0");e instanceof Array||(e=[e]);for(var i=Object(n.get)(this.axisParam,"splitLine.lineStyle.width",1),o="dash"==Object(n.get)(this.axisParam,"splitLine.lineStyle.type","solid")?[2]:void 0,r=e.length||1,a=0;a<this.splitLines.length;a++){var s=this.splitLines[a],h=e[a%r];Object(u.k)(t,s[0],s[1],h,i,o)}},e.prototype.drawLabels=function(t){for(var e=0;e<this.tableRenders.length;e++){var i=this.tableRenders[e];i&&i.isVisible()&&i.draw(t)}},e.prototype.getProjection=function(t){return{x:this.start.x,y:t.y}},e}(be),Fe=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.setStartPercent=function(t){t<0&&(t=0),e.startPercent=t},e.setEndPercent=function(t){t>1&&(t=1),t<0&&(t=0),e.endPercent=t},e.isVerticalAxis=function(){return!1},e.isValueAxis=function(){return!1},e.getTargetValue=function(t){return e.getTargetValueFromCategoryAxis(t)},e}return Fe(e,t),e.prototype.calculateTickLines=function(t){var e=[],i=this.getStickLength()*t;Object(n.quicklyForEach)(this.axisPoints,function(t){e.push([{x:t.x,y:t.y},{x:t.x,y:t.y+i}])}),this.stickLines=e},e.prototype.buildMatrix=function(t,e,i){void 0===i&&(i=0);var n={x:0,y:0,width:t-1,height:0},o=this.getOrigin(),r={x:o.x+i/2,y:o.y,width:e-i,height:0};return 1===t&&(r={x:o.x+e/2,y:o.y,width:e/2-i/2,height:0}),Object(d.b)(n,r,!0)},e.prototype.calculate=function(){var t=this.getAxisLength();this.isBoundaryGap()&&(t-=this.boundaryGapWidth);var e=Object(n.get)(this.axisParam,"axisLabel.inside",!1),i=Object(n.get)(this.axisParam,"axisLabel.rotate",0);i=Object(n.isNum)(i)?-i*Math.PI/180:0;var o=this.getDirections(this.getCenter(),this.getStart(),e),r=new S;r.setMap(Object(n.get)(this.axisParam,"axisLabel"));var a=r.toString(),s=this.getFromAxisParam("data",[]),h=this.getFromAxisParam("axisLabel.formatter"),c=this.getFromAxisParam("boundaryGap"),l=this.getFromAxisParam("description",[]),p=s.length,f=Object(n.getIndexRangeFromPercent)(p,this.startPercent,this.endPercent),g=f.startIndex,y=f.endIndex,v=0,x=ut(Object(n.cloneArray)(s),h)||[];x.length>0&&(v=(x=x.slice(g,y+1)).length),l.length>0&&(l=l.slice(g,y+1));var b=Object(n.get)(x,"length",1),m=1==b?0:t/(b-1);isNaN(m)&&(m=0);var O=Object(n.get)(this.axisParam,"axisLabel.color","#000"),_=Object(n.get)(this.axisParam,"axisLabel.autoHidden",!0),j=ht(x,t,function(t,e){var n=x[e],o=l[e],r=new Rt;if(null!=n){var s=new Y(n);s.setColor(O),s.setFont(a),s.setAngle(i);var h=new je,c=new Ce(s);h.add(c),r.add(h)}if(o){var p=new Y(o);p.setAngle(i);h=new je;var d=new Ce(p);h.add(d),r.add(h)}var f=r.getRect();r.setWidth(f.width);var g=Object(u.f)(f,e*m,0,"middle","top");return r.setPosition(g.x,g.y),r.calculateLayout(),r},c,!1,_);this.tableRenders=j.renders;var P=this.buildMatrix(v,t,j.boundaryWidth);this.setMatrix(P);var A=[];if(1===v)A.push(Object(d.i)({x:0,y:0},P));else if(Object(n.isNum)(j.interval))for(var C=Object(n.getMax)(j.interval,1),L=0;L<v;L+=C)A.push(Object(d.i)({x:L,y:0},P));var I=0;if(1==A.length)I=this.getAxisLength();else if(A.length>1){var F=Object(w.a)(A[0],A[1]);Object(n.isNum)(F)&&(I=F)}this.descriptionRenders=[];for(L=0;L<l.length;L++){var M=l[L];!Object(n.isString)(M)&&Object(n.isNum)(M)&&(M+="");var R=void 0;Object(n.isString)(M)&&(M=Object(u.s)(M,a,I),Object(n.isString)(M)&&(R=new Y(M,a,"rgba(178, 178, 178, 1)"))),this.descriptionRenders.push(R)}this.axisPoints=A;var E=Object(n.get)(this.axisParam,"axisLabel.margin");E=Object(n.isNum)(E)?parseFloat(E):8,E=o.y*E;for(L=0;L<this.axisPoints.length&&L<this.tableRenders.length;L++){var T=this.axisPoints[L],B=this.tableRenders[L];if(Object(n.checkPoint)(T)&&B instanceof Rt){var k=B.getSize(),D=Object(u.f)(k,T.x,T.y,"middle","top"),V=E;E<0&&(V-=k.height),B.setPosition(D.x,D.y+V),B.calculateLayout()}}if(Object(n.isNum)(j.boundaryWidth)){this.setBoundaryGapWidth(j.boundaryWidth);var N={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};N.paddingLeft=N.paddingRight=j.boundaryWidth/2,this.setMatrixPaddings(N)}var H=this.getStart(),z=this.getDirections(this.getCenter(),H,!0);this.setEnd({x:H.x+z.x*this.getAxisLength(),y:H.y}),this.calculateTickLines(o.y),this.calculateSplitLines(),this.setInterval(j.interval||1),this.calculateTitleRender()},e.prototype.calculateSplitLines=function(){var t=this.getSplitLineLength(),e=this.getDirections(this.getCenter(),this.getStart(),!0).y*t,i=[];Object(n.quicklyForEach)(this.axisPoints,function(t){i.push([{x:t.x,y:t.y},{x:t.x,y:t.y+e}])}),this.splitLines=i},e.prototype.drawSplitLines=function(t){var e=Object(n.get)(this.axisParam,"splitLine.lineStyle.color","#c0c0c0");e instanceof Array||(e=[e]);for(var i=Object(n.get)(this.axisParam,"splitLine.lineStyle.width",1),o="dash"==Object(n.get)(this.axisParam,"splitLine.lineStyle.type","solid")?[2]:void 0,r=e.length||1,a=0;a<this.splitLines.length;a++){var s=this.splitLines[a],h=e[a%r];Object(u.k)(t,s[0],s[1],h,i,o)}},e.prototype.drawLabels=function(t){if(this.tableRenders&&0!=Object(n.get)(this.axisParam,"axisLabel.show"))for(var e=0;e<this.axisPoints.length&&e<this.tableRenders.length;e++){this.tableRenders[e].draw(t)}},e.prototype.getProjection=function(t){return{x:t.x,y:this.start.y}},e}(be),Me=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Re=function(){return(Re=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isValueAxis=function(){return!0},e.isVerticalAxis=function(){return!0},e.getTargetValue=function(t){return e.getTargetValueFromValueAxis(t)},e}return Me(e,t),e.prototype.setValueRange=function(t){this.range=t},e.prototype.getValueRange=function(){return this.range},e.prototype.getMin=function(){var t=this.getFromAxisParam("min");if(Object(n.isNum)(t))return Object(n.convertToNum)(t)},e.prototype.getMax=function(){var t=this.getFromAxisParam("max");if(Object(n.isNum)(t))return Object(n.convertToNum)(t)},e.prototype.calculate=function(){var t=this.getFromAxisParam("axisLabel.formatter"),e=this.getOrigin(),i=Object(n.get)(this.axisParam,"axisLabel.inside",!1),o=Object(n.get)(this.axisParam,"axisLabel.rotate",0),r=Object(n.get)(this.axisParam,"axisLabel.color"),a=Object(n.get)(this.axisParam,"min"),s=Object(n.get)(this.axisParam,"max");o=Object(n.isNum)(o)?-o*Math.PI/180:0;var h=this.getDirections(this.getCenter(),this.getStart(),i),c=new S;c.setMap(Object(n.get)(this.axisParam,"axisLabel"));var l,p=c.toString(),f=this.getFromAxisParam("defaultData",[]),g=Re({},this.range||{});0==g.min&&0==g.max&&(g.min=0,g.max=1),l=g&&Object(n.isNum)(g.min)&&Object(n.isNum)(g.max)||!(f instanceof Array&&f.length>0)?be.calculateValueAxisData(g.min,g.max,5,this.getAxisLength(),!1,t,p,o,a,s):this.calculateScaleInfoForDefaultData(this.getAxisLength(),p,o,!0),this.setScaleInfo(l);var y={x:0,y:l.minSupport,width:0,height:l.maxSupport-l.minSupport},v={x:e.x,y:e.y,width:0,height:this.getAxisLength()},x=Object(d.b)(y,v,!0);this.setMatrix(x);var b=l.textRenders||[],m="middle";i&&(m="top");for(var O=l.importantIndexs instanceof Array&&l.importantIndexs.length>0?l.importantIndexs:[],w=[],_=Object(n.getByPath)(l,"values",[]),j=0;j<_.length;j++){var P=b[j];P.setColor(r);var A=_[j];if(A&&!Object(n.isNum)(A)&&(A=A.value),Object(n.isNum)(A)){var C=Object(d.i)({x:this.getStart().x,y:A},x),L={x:this.getStart().x,y:C.y},I=(P.getSize().width+this.getStickLength())/2*h.x;P.setPosition(L.x+I,L.y,"middle",m);var F=new pe(L.x,L.y);w.push(F)}else P&&P.setVisible(!1)}i&&b[0]&&b[0].setVisible(!1),O.length>0&&Object(n.quicklyForEach)(b,function(t){Object(n.quicklyFindInArray)(O,function(e){var i=b[e];if(i!==t){var n=i.getRect(),o=t.getRect();return Object(u.O)(n)&&Object(u.O)(o)&&Object(u.D)(n,o)?(t.setVisible(!1),!0):void 0}})});var M=this.getStart(),R=this.getDirections(this.getCenter(),M,!0);this.setEnd({x:M.x,y:M.y+R.y*this.getAxisLength()}),this.setLabelRenders(l.textRenders),this.setLabels(l.labels),this.setAxisPoints(w),this.calculateTickLines(),this.calculateSplitLines(),this.calculateTitleRender()},e.prototype.calculateTickLines=function(){var t=[],e=this.getDirections(this.getCenter(),this.getStart(),this.isInside()).x*this.getStickLength();Object(n.quicklyForEach)(this.axisPoints,function(i){t.push([{x:i.x,y:i.y},{x:i.x+e,y:i.y}])}),this.stickLines=t},e.prototype.calculateSplitLines=function(){var t=[],e=this.getSplitLineLength()*this.getDirections(this.getCenter(),this.getStart(),!0).x;Object(n.quicklyForEach)(this.axisPoints,function(i){t.push([{x:i.x,y:i.y},{x:i.x+e,y:i.y}])}),this.splitLines=t},e.prototype.drawSplitLines=function(t){var e=Object(n.get)(this.axisParam,"splitLine.lineStyle.color","#c0c0c0");e instanceof Array||(e=[e]);for(var i=Object(n.get)(this.axisParam,"splitLine.lineStyle.width",1),o="dash"==Object(n.get)(this.axisParam,"splitLine.lineStyle.type","solid")?[2]:void 0,r=e.length||1,a=0;a<this.splitLines.length;a++){var s=this.splitLines[a],h=e[a%r];Object(u.k)(t,s[0],s[1],h,i,o)}},e.prototype.drawLabels=function(t){var e=Object(n.get)(this.axisParam,"axisLabel.color","#000");if(this.labelRenders&&0!=Object(n.get)(this.axisParam,"axisLabel.show"))for(var i=0;i<this.labelRenders.length;i++){var o=this.labelRenders[i],r=this.descriptionRenders[i];o.isVisible()&&(r&&r.draw(t),o.setColor(e),o.draw(t))}},e.prototype.getProjection=function(t){return{x:this.start.x,y:t.y}},e}(be),Te="line",Be="cross",ke="shadow",De="dashed",Ve=function(){function t(t,e,i){this._matrixCache=[],this.setOptionManager(t),this.setDataContainer(e),this.setCoordinate(i)}return t.prototype.setCoordinate=function(t){this.coordinate=t},t.prototype.setOptionManager=function(t){this.optionManager=t},t.prototype.setDataContainer=function(t){this.dataContainer=t},t.prototype.drawMarkPoints=function(t,e,i,o,r){var a=this;void 0===r&&(r=4);var s=function(s,h,c,l){var p=c.getFromAxisParam("data",[]),f=Object(n.get)(p,"length"),g=a.coordinate.createTransformMatrix(s,h),y=a.getInvserseMatrixFromCache(g);if(y){var v=Object(d.i)({x:e,y:i},y),x=Math.round(v.x)||0;if(!((x=x<0?0:x)>=f)&&l){var b=l.getStart(),m=l.getEnd(),O=Object(d.i)({x:x,y:0},g),w={x:O.x,y:b.y},_={x:O.x,y:m.y};l instanceof we&&(w={x:b.x,y:O.y},_={x:m.x,y:O.y});var j=a.optionManager.getFromOption("tooltip.axisPointer"),A=Object(n.get)(j,"lineStyle.width",1),C=Object(n.get)(j,"lineStyle.color","#c0c0c0"),L=Object(n.get)(j,"lineStyle.type"),I=Object(n.get)(j,"type");t.save(),0!=Object(n.get)(j,"show")&&(I===Te||I===Be?Object(u.k)(t,w,_,C,A,L===De?[2,2]:void 0):I===ke&&a.drawAxisPointerShadow(t,x,l,g,a.coordinate.getCoordinateRect()));for(var F=o.selectedPoints,S=0;S<F.length;S++){var M=F[S];if(M&&M.point){var R=M.chartLineId,E=a.dataContainer.getPipelineById(R);if(!(E instanceof P&&E.isVisible()))continue;Object(u.h)(t,M.point.x,M.point.y,r,M.color,"#FFF")}}t.restore();var T={x:c.getStart().x,y:i},B={x:c.getEnd().x,y:i};c instanceof Ie&&(T={x:e,y:c.getStart().y},B={x:e,y:c.getEnd().y}),I===Be&&Object(u.l)(t,[T,B],"#c0c0c0",1,[2,1]),t.restore()}}};if(t){var h=this.coordinate.getClassify(),c=Object(n.getByPath)(this.coordinate.getSeriesMap(),["xFirstMap"]);Object(n.quicklyForEach)(h.category.horizontal,function(t){var e=a.coordinate.getHorizontalAxisByIndex(t),i=Object(n.getByPath)(c,[t],{}),o=Object.keys(i),r=Object(n.quicklyFindInArray)(o,function(t){var e=a.dataContainer.getAreaValueRangeByYIndex(t);if(e.validate&&e.max-e.min>=0)return t});s(t,r,e,a.coordinate.getVerticalAxisByIndex(r))});var l=Object(n.getByPath)(this.coordinate.getSeriesMap(),"yFirstMap");Object(n.quicklyForEach)(h.category.vertical,function(t){var e=a.coordinate.getVerticalAxisByIndex(t),i=Object(n.getByPath)(l,[t],{}),o=Object.keys(i),r=Object(n.quicklyFindInArray)(o,function(t){var e=a.dataContainer.getAreaValueRangeByXIndex(t);if(e.validate&&e.max-e.min>=0)return t});s(r,t,e,a.coordinate.getHorizontalAxisByIndex(r))})}},t.prototype.drawAxisPointerShadow=function(t,e,i,o,r){if(!1!==i.isValueAxis()&&o instanceof d.a){var a=e-.5,s=e+.5,h=i.getScaleInfo();if(Object(n.isNum)(h.maxSupport)&&Object(n.isNum)(h.minSupport)){var c=[Object(d.i)({x:a,y:h.minSupport},o),Object(d.i)({x:s,y:h.minSupport},o),Object(d.i)({x:s,y:h.maxSupport},o),Object(d.i)({x:a,y:h.maxSupport},o)],l=this.optionManager.getFromOption("tooltip.axisPointer.shadowStyle",{}),p=Object(n.get)(l,"color","#E5E5E5"),f=Object(n.get)(l,"opacity");"number"!=typeof f&&(f=.5),t.save(),Object(u.O)(r)&&(t.beginPath(),t.rect(r.x,r.y,r.width,r.height),t.clip()),Object(u.x)(t,c),t.globalAlpha=f,t.fillStyle=p,null!=l.shadowColor&&(t.shadowColor=l.shadowColor,null!=l.shadowBlur&&(t.shadowBlur=l.shadowBlur),null!=l.shadowOffsetX&&(t.shadowOffsetX=l.shadowOffsetX),null!=l.shadowOffsetY&&(t.shadowOffsetY=l.shadowOffsetY)),t.fill(),t.restore()}}},t.prototype.getInvserseMatrixFromCache=function(t){if(t instanceof d.a){for(var e=0;e<this._matrixCache.length;e++){var i=this._matrixCache[e].matrix;if(Object(d.g)(t,i))return this._matrixCache[e].invserseMatrix.clone()}this._matrixCache.length>10&&this._matrixCache.shift();var n=Object(d.c)(t);return this._matrixCache.push({matrix:t.clone(),invserseMatrix:n}),n.clone()}},t}(),Ne=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),He=ve.default.EVENT_IDS,ze=ve.default.Event,We=function(){function t(){this.coordinateHeight=0,this.coordinateWidth=0,this.dragActionHandler=new ge,this._matrixCache=[],this.handleMouseMoveForDrag=this.handleMouseMoveForDrag.bind(this),this.handleMouseUpForDrag=this.handleMouseUpForDrag.bind(this),this.handleMouseLeaveForDrag=this.handleMouseLeaveForDrag.bind(this),this.handleMouseDownForDrag=this.handleMouseDownForDrag.bind(this),this.dragActionHandler.setStateResetCallback(function(){})}return t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.setToolbox=function(t){this.toolbox=t},t.prototype.setGroupId=function(t){this.groupId=t},t.prototype.getToolbox=function(){return this.toolbox},t.prototype.setLocalElement=function(t){this.localElement=t},t.prototype.setZoomChangeCallback=function(t){this.progressChange=t},t.prototype.initCoordinate=function(t,e,i){this.optionManager=t,this.progressBar=i;var n=this.buildCoordinate(),o=this.optionManager.getFromOption("stat");n.setStat(!!o),this.setCoordinate(n),this.dataContainer=e},t.prototype.updateRegion=function(t){this.x=t.x,this.y=t.y,this.coordinateWidth=t.width,this.coordinateHeight=t.height},t.prototype.setCoordinate=function(t){this.coordinate=t},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.getXAxisLength=function(){return this.xAxisLength},t.prototype.getYAxisLength=function(){return this.yAxisLength},t.prototype.getCoordinateRegion=function(){return this.coordinate.getViewRect()},t.prototype.needRefresh=function(){return this.coordinate&&this.coordinate.needRefresh()||this._needDrawZoomRect},t.prototype.drawZoomRect=function(t){if(this.dragActionHandler&&this.dragActionHandler.isPress()){var e=this.dragActionHandler.getStart(),i=this.dragActionHandler.getMoveEnd();if(e&&i){var n=Object(u.e)([e,i]);Object(u.O)(n)&&(t.save(),t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.closePath(),t.fillStyle="#006eff",t.globalAlpha=.1,t.fill(),t.restore())}}this._needDrawZoomRect=!1},t.prototype.drawCoordinate=function(t,e){void 0===e&&(e=void 0),t.save(),t.translate(.5,.5),this.coordinate.draw(t),t.restore(),e&&e()},t.prototype.getCoordinateInfo=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=void 0);var o,r,a=this.progressBar.getRightBtnValue(),s=this.progressBar.getLeftBtnValue(),h=this.getCoordinate(),c=h.createTransformMatrix(t,e),l=h.getVerticalAxisByIndex(e),u=h.getHorizontalAxisByIndex(t);if("number"==typeof i){var p=Object(n.getIndexRangeFromPercent)(i,s,a);o=p.startIndex,r=p.endIndex}return{startIndex:o,endIndex:r,transformatrix:c,rect:h.getCoordinateRect(),verticalAxis:l,horizontalAxis:u}},t.prototype.handleXAsixChange=function(t){void 0===t&&(t=void 0);var e=this.progressBar.getRightBtnValue(),i=this.progressBar.getLeftBtnValue();this.xAxisLength=this.coordinateWidth,this.yAxisLength=this.coordinateHeight;var n=this.coordinate;n.setDataContainer(this.dataContainer),n.setStartPercent(i),n.setEndPercent(e),n.setWidth(this.xAxisLength),n.setHeight(this.yAxisLength),n.setX(this.x),n.setY(this.y),n.calculate(),n.computeThreshold(),this.localElement&&this.localElement.dirtyItself(),t&&t()},t.prototype.drawMarkPoints=function(t,e,i,n,o){void 0===o&&(o=4),this.interaction?(this.interaction.setOptionManager(this.optionManager),this.interaction.setDataContainer(this.dataContainer),this.interaction.setCoordinate(this.coordinate)):this.interaction=new Ve(this.optionManager,this.dataContainer,this.coordinate),this.interaction.drawMarkPoints(t,e,i,n,o)},t.prototype.buildCoordinate=function(){var t=this.optionManager.getFromOption("xAxis"),e=this.optionManager.getFromOption("yAxis"),i=[],o=[];t instanceof Array||(t=[t]),e instanceof Array||(e=[e]),t.forEach(function(t){if(t){var e=void 0;(e=se.isCategoryAxis(t)?new Se:new we).setAxisParam(Object(n.clone)(t,!1)),e.initTitleRender(),o.push(e)}}),e.forEach(function(t){if(t){var e=void 0;(e=se.isCategoryAxis(t)?new Ie:new Ee).setAxisParam(Object(n.clone)(t,!1)),e.initTitleRender(),i.push(e)}});var r=new se;r.setClassify(this.optionManager.axisClassify()),r.verticalAxisArray=i,r.horizontalAxisArray=o;var a=this.optionManager.getTwoSeriesMap();return r.setSeriesMap(a),r},t.prototype.isInCoordinateRect=function(t,e){var i=this.coordinate.getCoordinateRect();return Object(u.C)(i,t,e)},t.prototype.getRect=function(){return Object(u.E)(this.coordinate.getViewRect(),this.getCoordinateRegion())},t.prototype.getHorizontalAxisArray=function(){return this.coordinate.getHorizontalAxisArray()},t.prototype.getVerticalAxisArray=function(){return this.coordinate.getVerticalAxisArray()},t.prototype.handleMouseMoveForDrag=function(t){var e=this.optionManager.getFromOption("dataZoom");if(!(!e||e&&e[1]&&!1===e[1].enable)||this.toolbox&&this.toolbox.isEnableZoom()){var i=y(t);if(this.dragActionHandler){var n=this.coordinate.getCoordinateRect();this.dragActionHandler.handleMouseMove(i.x,n.y||0)}}},t.prototype.handleMouseDownForDrag=function(t){var e=this.optionManager.getFromOption("dataZoom");if(!(!e||e&&e[1]&&!1===e[1].enable)||this.toolbox&&this.toolbox.isEnableZoom()){var i=y(t);if(this.dragActionHandler){var n=this.coordinate.getCoordinateRect();this.dragActionHandler.handleMouseDown(i.x,n.y+n.height,function(){})}}},t.prototype.handleMouseUpForDrag=function(t){var e=this,i=this.optionManager.getFromOption("dataZoom");if(!(!i||i&&i[1]&&!1===i[1].enable)||this.toolbox&&this.toolbox.isEnableZoom()){var n=y(t);this.dragActionHandler&&this.dragActionHandler.handleMouseUp(n.x,n.y,function(t,i){var n=Object(u.e)([t,i]);if(n&&!(n.width<20)){var o=e.coordinate.getCoordinateRect(),r=Object(u.z)(n,o);if(r&&Object(u.O)(r)){var a=Object(u.J)(r,o),s=a.paddingLeft/o.width,h=a.paddingRight/o.width,c=e.progressBar.getRightBtnValue(),l=e.progressBar.getLeftBtnValue();e.toolbox&&(e.toolbox.addZoomRecord({start:l,end:c}),e.toolbox.refresh());var p=c-l;l+=p*s,c-=p*h,e.progressChange&&(e.progressChange(l,c),e.groupId&&ze.trigger(He.dataZoom,{left:l,right:c,coordinateControll:e}))}}})}},t.prototype.handleMouseLeaveForDrag=function(){this.dragActionHandler&&this.dragActionHandler.handleMouseLeave()},t}(),Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ne(e,t),e.prototype.setCoordianteController=function(t){this.coordinateCtroll=t,this.coordinateCtroll&&this.coordinateCtroll.setLocalElement(this)},e.prototype.getRect=function(){if(this.coordinateCtroll)return this.coordinateCtroll.getCoordinateRegion()},e.prototype.draw=function(t){this.coordinateCtroll&&this.coordinateCtroll.drawCoordinate(t)},e}(ye),Xe=function(){function t(t,e,i){void 0===i&&(i="#BBB"),this._offsetX=0,this._offsetY=0,this._needCalculate=!0,this.offsetMove=function(t,e){this._x+=t,this._y+=e},this._text=t,this._font=e,this._visible=!0,this._color=i}return t.prototype.setVisible=function(t){this._visible=t},t.prototype.setOffset=function(t,e){this._offsetX=t,this._offsetY=e,this._needCalculate=!0},t.prototype.calculateSize=function(){return this._size=Object(u.A)(this._text,this._font),this._needCalculate=!1,this._size},t.prototype.getSize=function(){return this._needCalculate||!this._size?this.calculateSize():this._size},t.prototype.getRect=function(){var t=this.getSize();return{x:this._x,y:this._y,width:t.width,height:t.height}},t.prototype.setPosition=function(t,e,i,n){if(void 0===i&&(i=void 0),void 0===n&&(n=void 0),this._x=t,this._y=e,this._size&&!isNaN(this._size.width)&&!isNaN(this._size.height)){var o=this._size.width,r=this._size.height;"left"==i?this._x=t:"middle"==i?this._x=t-o/2:"right"==i&&(this._x=t-o),"top"==n?this._y=e:"middle"===n?this._y=e-r/2:"bottom"==n&&(this._y=e-r)}},t.prototype.draw=function(t){this._visible&&null!=this._text&&""!==this._text&&(this._needCalculate&&this.calculateSize(),Object(u.q)(t,this._text,this._x+this._offsetX,this._y+this._offsetY,this._color,this._font))},t.prototype.destroy=function(){this._text=null,this._font=null,this._color=null,this._size=null},t}(),Ge=function(){function t(){}return t.prototype.getMatrix=function(){var t=new d.a([[1,0,0],[0,1,0],[-this.viewPosX,-this.viewPosY,1]]),e=new d.a([[1,0,0],[0,1,0],[this.x,this.y,1]]);return Object(d.h)(t,e)},t.prototype.createShadowCanvas=function(t,e,i){var n=document.createElement("canvas");return n.setAttribute("width",e),n.setAttribute("height",i),n.setAttribute("id",t+"_canvas"),n},t.prototype.setViewPos=function(t,e){this.viewPosX=t,this.viewPosY=e},t.prototype.getViewRect=function(){return{x:this.viewPosX,y:this.viewPosY,width:this.outerWidth,height:this.outerHeight}},t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t.prototype.setSize=function(t,e){this.outerWidth=t,this.outerHeight=e},t.prototype.getSize=function(){return{width:this.outerWidth,height:this.outerHeight}},t.prototype.setInnerWidth=function(t){this.innerWidth=t},t.prototype.getInnerWidth=function(){return this.innerWidth},t.prototype.getShadowCanvas=function(t,e){var i,o=Object(n.uuid)(),r=!1;if(this.shadowId&&(i=document.getElementById(this.shadowId+"_canvas"))&&"CANVAS"===i.tagName?(i.setAttribute("width",t),i.setAttribute("height",e)):r=!0,r){var a=Object(u.g)(o+"_container");i=this.createShadowCanvas(o,t,e),document.body.appendChild(a),a.appendChild(i),this.shadowId=o}return i},t.prototype.draw=function(t,e){var i=this,n=this.getShadowCanvas(this.outerWidth,this.outerHeight),o=Object(u.v)(n);o&&(o.save(),o.clearRect(0,0,this.outerWidth,this.outerHeight),o.translate(-this.viewPosX,-this.viewPosY),e&&e.forEach(function(t){t.draw(o,{x:i.viewPosX,y:i.viewPosY})}),o.restore(),t.save(),t.drawImage(n,this.x,this.y,this.outerWidth,this.outerHeight),t.restore())},t.prototype.isInRectRegion=function(t,e){var i={x:this.x,y:this.y,width:this.outerWidth,height:this.outerHeight};return Object(u.C)(i,t,e)},t.prototype.destroy=function(){var t=document.getElementById(this.shadowId+"_container");t&&t.remove()},t}(),qe=function(){function t(){this.currentPage=1,this.pageCount=0,this._needRefresh=!0}return t.prototype.setPageCount=function(t){(t=Math.floor(t))<0&&(t=0),this.pageCount=t},t.prototype.setCurrentPage=function(t){(t=Math.floor(t))>this.pageCount?t=this.pageCount:t<1&&(t=1),this.currentPage=t},t.prototype.next=function(){var t=0,e=this.currentPage;if(this.viewClip){var i=this.viewClip.getInnerWidth(),n=this.getViewWidth();if(0!=n){t=Math.ceil(i/n),this.currentPage=e+1>t?e:e+1;var o=this.currentPage-1<0?0:this.currentPage-1,r=this.viewClip.getViewRect(),a=o*n;this.viewClip.setViewPos(a,r.y)}else this.currentPage=1,this.pageCount=0;"function"==typeof this.clickCallback&&this.clickCallback({currentPage:this.currentPage,pageCount:this.pageCount})}this._needRefresh=!0},t.prototype.previous=function(){var t=this.currentPage;if(this.viewClip){var e=this.viewClip.getInnerWidth(),i=this.getViewWidth();if(0!=i){var n=Math.ceil(e/i);this.currentPage>n&&(t=n),this.currentPage=t-1<1?1:t-1;var o=this.currentPage-1<0?0:this.currentPage-1,r=this.viewClip.getViewRect(),a=o*i;this.viewClip.setViewPos(a,r.y)}else this.currentPage=1,this.pageCount=0;"function"==typeof this.clickCallback&&this.clickCallback({currentPage:this.currentPage,pageCount:this.pageCount})}this._needRefresh=!0},t.prototype.setSize=function(t,e){this.width=t,this.height=e},t.prototype.setPosition=function(t,e){this.x=t,this.y=e},t.prototype.getViewWidth=function(){var t=this.width-2*this.btnWidth;return t<0?0:t},t.prototype.setBtnSize=function(t,e){if(this.btnWidth=t,this.btnHeight=e,this.width){var i=this.width-2*t;this.innerWidth=i}},t.prototype.onClick=function(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY;if(this.isInLeftBtn(e,i))this.previous();else if(this.isInRightBtn(e,i))this.next();else if(this.isInPaginationView(e,i)){var n=this.transformPos(e,i);"function"==typeof this.viewClickCallback&&this.viewClickCallback(n)}},t.prototype.isInLeftBtn=function(t,e){var i={x:this.x,y:this.y,width:this.btnWidth,height:this.btnHeight};return Object(u.C)(i,t,e)},t.prototype.isInRightBtn=function(t,e){var i=this.width-this.btnWidth;i<0&&(i=0);var n={x:this.x+i,y:this.y,width:this.btnWidth,height:this.btnHeight};return Object(u.C)(n,t,e)},t.prototype.setViewClip=function(t){this.viewClip=t},t.prototype.draw=function(t,e){if(this.drawLeftBtn(t),this.drawRightBtn(t),this.width-2*this.btnWidth>0&&this.viewClip){var i=this.viewClip.getSize(),n=this.y+.5*(this.height-i.height);this.viewClip.setPosition(this.x+this.btnWidth,n),this.viewClip.draw(t,e)}},t.prototype.needRefresh=function(){return this._needRefresh},t.prototype.refresh=function(t){this._needRefresh=!1!==t},t.prototype.setClickCallback=function(t){this.clickCallback=t},t.prototype.setViewClickCallback=function(t){this.viewClickCallback=t},t.prototype.isInPaginationView=function(t,e){var i={x:this.x+this.btnWidth,y:this.y,width:this.width-2*this.btnWidth,height:this.height};return Object(u.C)(i,t,e)},t.prototype.needPagination=function(){if(this.viewClip&&this.viewClip.getInnerWidth()>this.viewClip.getSize().width)return!0;return!1},t.prototype.transformPos=function(t,e){var i=this.viewClip.getMatrix(),n=Object(d.c)(i);return Object(d.i)({x:t,y:e},n)},t.prototype.drawLeftBtn=function(t){var e=[];e.push({x:this.x,y:this.y+this.btnHeight/2}),e.push({x:this.x+this.btnWidth,y:this.y}),e.push({x:this.x+this.btnWidth,y:this.y+this.btnHeight}),t.save(),t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.lineTo(e[0].x,e[0].y),t.closePath(),t.fillStyle="#2F4554",t.fill(),t.restore()},t.prototype.drawRightBtn=function(t){var e=[];e.push({x:this.width-this.btnWidth,y:this.y}),e.push({x:this.width,y:this.y+this.btnHeight/2}),e.push({x:this.width-this.btnWidth,y:this.y+this.btnHeight}),t.save(),t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.lineTo(e[0].x,e[0].y),t.closePath(),t.fillStyle="#2F4554",t.fill(),t.restore()},t.prototype.calculateImgScalePos=function(t,e){var i=e.width/t.width,n=e.height/t.height,o=1;o=i>n?1/i:1/n;var r=e.width*o,a=e.width*o;return{x:t.x+(t.width-r)/2,y:t.y+(t.height-a)/2,width:r,height:a}},t}(),Ue=function(){function t(t){this.needRefash=!0,this.optionManager=t}return t.prototype.drawBackgroudImage=function(t,e,i){if(this.needRefash){var n=this.optionManager.getBackgroudImage();if(n){this.ctx=t,this.width=e,this.height=i;var o=new Image;o.src=n,o.onload=function(){var t=r.ctx.createPattern(o,"no-repeat");r.ctx.fillStyle=t,r.ctx.fillRect(0,0,r.width,r.height)},this.needRefash=!1;var r=this}}},t}(),Ze=function(){function t(){this._centerX="50%",this._centerY="50%",this._radius="40%",this._radarIndex=0,this._stickCount=6,this._valueMatrixArray=[],this._needRefresh=!0,this._needCalculate=!0,this._splitLines=[],this._axises=[],this._index=0,this._visible=!0,this._labelRenders=[],this._startAngle=-Math.PI/2,this._pointMatrixArray=[]}return t.prototype.setOptionManager=function(t){this._optionManager=t},t.prototype.setEventHandler=function(t){this._eventHandler=t},t.prototype.setRadius=function(t,e){this._radius!=t&&(this._radius=t,e||this._eventHandler.dispatchPropertyChangeEvent({type:"radius",source:this}))},t.prototype.setRadarParam=function(t){this._radarPram=t},t.prototype.getFromRadarPram=function(t,e){return Object(n.get)(this._radarPram,t,e)},t.prototype.setVisible=function(t){this._visible!=t&&(this._visible=t,this._eventHandler.dispatchPropertyChangeEvent({type:"visible",source:this}))},t.prototype.isVisible=function(){return this._visible},t.prototype.getValueMatrixArray=function(){return this._valueMatrixArray},t.prototype.calculate=function(){this._valueMatrixArray=[],this._pointMatrixArray=[],this._splitLines=[],this._labelRenders=[],this._axises=[];var t=Object(n.get)(this._radarPram,"indicator",[]);if(this._needRefresh=!1,t){var e=this._computeRadius();if(null!=e&&t.length){for(var i="12px "+h.DEFAULT_FONT_FAMILY,o=2*Math.PI/t.length,r=new d.a,a=this._computeCenter(),s=Object(d.f)(a.x,a.y),c=0;c<t.length;c++){var l=t[c],u=this._startAngle+c*o,p=Object(d.d)(u),f=Object(d.e)(e/l.max,1),g=Object(d.h)(f,p,r,s);this._valueMatrixArray.push(g);var y=Object(d.h)(p,r,s);this._pointMatrixArray.push(y)}var v=[],x=e/(this._stickCount-1),b=e+20,m=t.length;for(c=1;c<this._stickCount;c++){for(var O=[],_=0;_<m;_++){if(!v[_]){v[_]=[],v[_].push(a);l=t[_];var j=new Y(l.name||l.text,i,"black"),P=this._pointMatrixArray[_],A={x:b,y:0},C=Object(d.i)(A,P),L=0==Object(w.g)({x:C.x-a.x,y:C.y-a.y},{x:1,y:0}),I=C.y<a.y,F=C.x>a.x;j.calculateSize(),L?I?j.setPosition(C.x,C.y,"middle","bottom"):j.setPosition(C.x,C.y,"middle","top"):F?j.setPosition(C.x,C.y,"left","middle"):j.setPosition(C.x,C.y,"right","middle"),this._labelRenders.push(j)}var S=this._pointMatrixArray[_];this._pointMatrixArray.push(S);var M={x:c*x,y:0},R=Object(d.i)(M,S);O.push(R),v[_].push(R)}this._splitLines.push(O)}this._axises=v}}},t.prototype._computeRadius=function(){var t=0;if(Object(n.isNum)(this._radius))t=parseFloat(this._radius);else{if(!Object(n.isPercent)(this._radius))return;var e=this._optionManager.getSize(),i=Math.min(e.width,e.height);t=Object(n.convertPercent)(i,this._radius)}return t},t.prototype._computeCenter=function(){var t=0;if(Object(n.isNum)(this._centerX))t=parseFloat(this._centerX);else if(Object(n.isPercent)(this._centerX)){var e=this._optionManager.getSize();t=Object(n.convertPercent)(e.width,this._centerX)}var i=0;if(Object(n.isNum)(this._centerY))i=parseFloat(this._centerY);else if(Object(n.isPercent)(this._centerY)){e=this._optionManager.getSize();i=Object(n.convertPercent)(e.height,this._centerY)}return{x:t,y:i}},t.prototype.refresh=function(){this._needRefresh=!0},t.prototype.needRefresh=function(){return this._needRefresh},t.prototype.drawArea=function(t){var e=["#F5F5F5","#E6E6E6"];if(this._splitLines)for(var i=0;i<this._splitLines.length;i++){var n=this._splitLines[i];t.save(),t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var o=1;o<n.length;o++){var r=n[o];t.lineTo(r.x,r.y)}t.closePath(),t.fillStyle=e[i%e.length],t.globalCompositeOperation="destination-over",t.fill(),t.restore()}},t.prototype.draw=function(t){if(this._needRefresh=!1,this._needCalculate&&this.calculate(),this.isVisible()&&null!=this._radarPram){var e=this._computeCenter(),i=this._computeRadius()/(this._stickCount-1),o=Object(n.get)(this._radarPram,"splitArea.show"),r=Object(n.get)(this._radarPram,"splitLine.show"),a=Object(n.get)(this._radarPram,"axisLine.show"),s=Object(n.get)(this._radarPram,"splitLine.lineStyle"),h=Object(n.get)(this._radarPram,"splitArea.areaStyle"),c=Object(n.get)(this._radarPram,"axisLine.lineStyle"),l=Object(n.get)(s,"width"),p=Object(n.get)(s,"color","#ccc"),d=Object(n.get)(c,"width",1);Object(n.isNum)(d)?d=Object(n.convertToNum)(d):d(d);var f=Object(n.get)(c,"color","#ccc");p instanceof Array||(p=[p]);var g=Object(n.get)(h,"color",["#F5F5F5","#E6E6E6"]);g instanceof Array||(g=[g]),l=Object(n.isNum)(l)?Object(n.convertToNum)(l):1;var y=Object(n.get)(this._radarPram,"shape");if(!1!==o)if("circle"!=y){if(this._splitLines)for(var v=0;v<this._splitLines.length;v++){var x=this._splitLines[v];t.save(),t.beginPath(),t.moveTo(x[0].x,x[0].y);for(var b=1;b<x.length;b++){var m=x[b];t.lineTo(m.x,m.y)}t.closePath(),t.fillStyle=g[v%g.length],t.globalCompositeOperation="destination-over",t.fill(),t.restore()}}else for(v=0;v<this._stickCount-1;v++)t.save(),t.beginPath(),t.arc(e.x,e.y,(v+1)*i,0,2*Math.PI),t.closePath(),t.fillStyle=g[v%g.length],t.globalCompositeOperation="destination-over",t.fill(),t.restore();if(0!=r)if("circle"!=y)for(v=0;v<this._splitLines.length;v++){x=this._splitLines[v];t.save(),t.beginPath(),t.moveTo(x[0].x,x[0].y);for(b=1;b<x.length;b++){m=x[b];t.lineTo(m.x,m.y)}t.closePath(),t.lineWidth=l,t.strokeStyle=p[v%p.length],t.stroke(),t.restore()}else for(v=1;v<this._stickCount;v++)t.save(),t.beginPath(),t.arc(e.x,e.y,v*i,0,2*Math.PI),t.closePath(),t.lineWidth=l,t.strokeStyle=p[v%p.length],t.stroke(),t.restore();var O=Object(n.get)(this._radarPram,"indicator",[]);if(O&&0!=a){var w=Object(n.get)(this._radarPram,"name.textStyle"),_=Object(n.get)(w,"color"),j=Object(n.get)(w,"backgroundColor"),P=Object(n.get)(w,"borderRadius"),A=Object(n.get)(w,"padding");for(v=0;v<O.length;v++){var C=this._axises[v];Object(u.l)(t,C,f,d);var L=this._labelRenders[v];_&&L.setColor(_),j&&L.setBackgroundColor(j),P&&L.setBorderRadius(P),A&&L.setPaddings(A),L.draw(t)}}}},t.prototype.transformChartRadar=function(t){if(t instanceof Array)for(var e=0;e<t.length;e++){var i=t[e];i instanceof Lt&&i.setValueMatrixArray(this.getValueMatrixArray())}},t.prototype.setRadarIndex=function(t){this._radarIndex=t},t.prototype.getRadarIndex=function(){return this._radarIndex},t.prototype.getRect=function(){var t=this._computeRadius(),e=this._computeCenter(),i={x:e.x,y:e.y,width:0,height:0};return i=Object(u.t)(i,t,t),this._labelRenders&&this._labelRenders.length>0&&this._labelRenders.forEach(function(t){t.getRect&&(i=Object(u.E)(t.getRect(),i))}),i},t}(),Ke=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qe=function(){function t(){this.maps={},this._index_id_color={}}return t.prototype.setOptionManager=function(t){this._optionManager=t},t.prototype.setLocalElement=function(t){this.localElement=t},t.prototype.setEventHandler=function(t){this._eventHandler=t},t.prototype.putRadar=function(t,e){void 0===e&&(e=0);var i=new Ze;i.setRadarParam(t),i.setOptionManager(this._optionManager),i.setEventHandler(this._eventHandler),this.maps[e]=i},t.prototype.getRadar=function(t){return void 0===t&&(t=0),this.maps[t]},t.prototype.gertMaps=function(){return this.maps},t.prototype.calculate=function(){for(var t in this.maps){this.maps[t].calculate()}this.localElement&&this.localElement.dirtyItself()},t.prototype.draw=function(t){for(var e in this.maps){this.maps[e].draw(t)}},t.prototype.registerColor=function(t,e){if(void 0===t&&(t=0),e){if(this._index_id_color[t]){if(this._index_id_color[t][e])return this._index_id_color[t][e];var i=0;for(var n in this._index_id_color[t])this._index_id_color[t][n],i++;var o=this._optionManager.getPieColorByIndex(i);return this._index_id_color[t][e]=o,o}o=this._optionManager.getPieColorByIndex(0);return this._index_id_color[t]={},this._index_id_color[t][e]=o,o}},t}(),$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ke(e,t),e.prototype.setRadarManager=function(t){this.radarManager=t},e.prototype.draw=function(t){this.radarManager&&this.radarManager.draw(t)},e.prototype.getRect=function(){if(this.radarManager){var t=this.radarManager.gertMaps(),e=void 0;for(var i in t){var n=t[i];n instanceof Ze&&(e=Object(u.E)(n.getRect(),e))}return Object(u.t)(e,4,4)}},e}(ye),Je=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paddingBT=4,e}return Je(e,t),e.prototype.setMinValue=function(t){this.minValue=t},e.prototype.setMaxValue=function(t){this.maxValue=t},e.prototype.setSwimLane=function(t){this.swimLane=t},e.prototype.setRect=function(t){this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y,this.rect=t},e.prototype.calculateSize=function(){},e.prototype.getSize=function(){var t=0;if(this.swimLane instanceof Dt){var e=this.swimLane.getPointRadius();Object(n.isNum)(e)&&(t=2*(Object(n.convertToNum)(e)||0))}return t+=this.paddingBT,{width:0,height:Object(n.getMax)(t,Object(n.get)(this.rect,"height"))}},e.prototype.calculateLayout=function(t){if(this.swimLane){var e=this.swimLane.getSwimPoints(),i=this.minValue,o=this.maxValue,r=1;r=null==i?.5:o-i||1,this.rect=Object(n.clone)(t);var a=Object(n.clone)(t);a.y=a.y+a.height/2;var s={x:i,y:0,height:a.height,width:r},h=Object(d.b)(s,a,!0);this.swimLane.setMatrix(h),e.forEach(function(t){var e=t.getData(),i=Object(n.get)(e,"0");if(Object(n.isNum)(i)){var o=Object(d.i)({x:i,y:0},h);t.setPosition(o.x,o.y)}else t.setPosition(void 0,void 0)})}},e.prototype.onMouseDown=function(t,e){Object(u.C)(this.rect,t,e)&&this.swimLane.onClick(t,e)},e}(St),ei=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ei(e,t),e.prototype.setAxis=function(t){this.horizontalAxis=t},e.prototype.calculateLayout=function(t){if(this.rect=t,this.horizontalAxis){this.horizontalAxis.setAxisLength(t.width),this.horizontalAxis.setCenter({x:t.x+t.width/2,y:t.y+t.height/2});var e=this.horizontalAxis.getOrigin(),i={x:e.x,y:e.y,width:t.width,height:1},o={x:t.x,y:t.y+t.height/2,width:t.width,height:1},r=Object(d.b)(i,o,!0),a=this.horizontalAxis.calculateLabels(t.width);this.horizontalAxis.setStickCount(a.labelRenders.length||1),this.horizontalAxis.setLabelRenders(a.labelRenders),this.horizontalAxis.setLabels(a.labels),this.horizontalAxis.setMatrix(r),this.horizontalAxis.calculate(t.width);var s=this.horizontalAxis.getViewRect();this.rect=Object(n.unionRect)(this.rect,s)}},e.prototype.getRect=function(){return this.rect},e.prototype.draw=function(t){this.isVisible()&&this.horizontalAxis.draw(t)},e}(St),ni=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boundaryGapWidth=0,e.getTargetValue=function(t){return e.getTargetValueFromCategoryAxis(t)},e}return ni(e,t),e.prototype.calculateSplitLine=function(){},e.prototype.setBoundaryGapWidth=function(t){this.boundaryGapWidth=t},e.prototype.getBoundaryGapWidth=function(){return this.boundaryGapWidth},e.prototype.calculateTickLines=function(t,e,i,n,o){void 0===o&&(o=!1);for(var r=this.getStickLength(),a=[],s=[],h=0;h<this.stickCount;h++){var c=t.x+e+h*i;o&&1==this.stickCount&&(c=t.x+e+i);var l=Object(d.i)({x:c,y:t.y},this.matrix);a.push([l,Object(d.i)({x:c,y:t.y-n*r},this.matrix)]),s.push(l)}this.axisPoints=s,this.stickLines=a},e.prototype.calculate=function(t){var e=this.getOffset(),i=this.getOrigin(),o={x:i.x,y:i.y+e},r=Object(d.i)(o,this.matrix),a=Object(d.i)({x:o.x+this.getAxisLength(),y:o.y},this.matrix);this.setStart(r),this.setEnd(a);var s=this.getAxisLength();this.isBoundaryGap()&&(s-=this.boundaryGapWidth);var h=s/(this.stickCount-1||2);this.labels&&this.labels.length>1&&(h=s/(this.labels.length-1)*this.interval);var c=Object(n.get)(this.axisParam,"axisLabel.inside",!1),l=Object(n.get)(this.axisParam,"axisLabel.rotate",0);l=Object(n.isNum)(l)?-l*Math.PI/180:0;var u=this.getDirections(this.getCenter(),this.getStart(),c),p=new S;p.setMap(Object(n.get)(this.axisParam,"axisLabel"));var f=p.toString();if(this.calculateTickLines(o,this.boundaryGapWidth/2,h,u.y,!0),this.calculateSplitLines(t,i,this.stickCount,h,0),this.labels){var g=Object(n.get)(this.axisParam,"axisLabel.margin");g=Object(n.isNum)(g)?parseFloat(g):8;for(var y=0;y<this.axisPoints.length&&y<this.labels.length;y++){var v=this.axisPoints[y],x=this.labels[y];if(null!=x&&""!==x){var b=this.labelRenders[y];b.setAngle(l),b.setFont(f),b.calculateSize();var m=Object(n.get)(this.descriptionRenders,y+""),O=new Rt,w=new je;if(w.add(new Ce(b)),O.add(w),m&&m.isVisible()){m.setAngle(l),m.setFont(f),m.calculateSize();var _=new je;_.add(new Ce(m)),O.add(_)}O.setPosition(0,0);var j=O.getRect();O.setPosition(v.x-j.width/2,v.y+g),O.calculateLayout()}}if(2===this.labelRenders.length&&!this.labelRenders[0].isVisible()){v=this.axisPoints[1];this.labelRenders[1].setPosition(v.x,v.y+g,"right","top")}}},e.prototype.calculateSplitLines=function(t,e,i,o,r){var a=Object(n.get)(this.axisParam,"splitLine.show",!1);if(t&&a){var s,h,c=[];this.getCenter().y-this.getStart().y<0?(s={x:e.x,y:e.y},h={x:e.x,y:e.y+t}):(s={x:e.x,y:e.y},h={x:e.x,y:e.y-t});for(var l=0;l<i;l++)if(0!==l){var u=e.x+r+l*o;c.push([Object(d.i)({x:u,y:s.y},this.matrix),Object(d.i)({x:u,y:h.y},this.matrix)])}this.verticalSplitLines=c}},e.prototype.drawSplitLines=function(t){var e=Object(n.get)(this.axisParam,"splitLine.lineStyle.color","#c0c0c0");e instanceof Array||(e=[e]);for(var i=Object(n.get)(this.axisParam,"splitLine.lineStyle.width",1),o="dash"==Object(n.get)(this.axisParam,"splitLine.lineStyle.type","solid")?[2]:void 0,r=e.length||1,a=0;a<this.verticalSplitLines.length;a++){var s=this.verticalSplitLines[a],h=e[a%r];Object(u.k)(t,s[0],s[1],h,i,o)}},e.prototype.drawLabels=function(t){var e=Object(n.get)(this.axisParam,"axisLabel.color","#000");if(this.labelRenders&&0!=Object(n.get)(this.axisParam,"axisLabel.show"))for(var i=0;i<this.axisPoints.length&&i<this.labelRenders.length;i++){var o=this.labelRenders[i],r=this.descriptionRenders[i];o.isVisible()&&(r&&r.draw(t),o.setColor(e),o.draw(t))}},e.prototype.calculateLabels=function(t){return function(t,e,i,o,r,a){if(!Object(n.isNum)(e)||!Object(n.isNum)(i)||i-e<=0)return{labels:[],labelRenders:[]};var s=Object(n.get)(a,"axisLabel"),h=new S;h.setMap(s);for(var c=h.toString(),l=function(t,e,i,n){for(var o=(e-t)/i,r=0,a=[],s=0;s<i+1;s++){var h=t+s*o;a.push(h),"function"==typeof n&&(h=n(h));var l=new Y;l.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:0,paddingBottom:0}),l.setFont(c),l.setText(h+""),l.calculateSize();var u=l.getSize();r=u.width>r?u.width:r}return r*(i+1)},u=1,p=1,d=1,f=2*o||1,g=0,y=[],v=[];t>g&&f>o;)f=t/p,(g=l(e,i,p,r))<=t&&(d=p),p+=u*=2;var x,b=0,m=d-1,O=p-1;if(g>t)for(;g>t&&b<p&&O>m&&x!==(x=Math.ceil((m+O)/2));)l(e,i,x,r)>t?O=x:m=x,b++;f=(i-e)/m;for(var w=0;w<m+1;w++){var _=e+w*f;"function"==typeof r&&(_=r(_)),_=null!=_?_+"":_;var j=new Y;j.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:0,paddingBottom:0}),j.setFont(c),j.setText(_),v.push(_),j.calculateSize(),y.push(j)}return{labelRenders:y,labels:v}}(t,this.minValue,this.maxValue,this.minSpan,this.labelFormatter,this.axisParam)},e}(be),ri=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ri(e,t),e.prototype.setSwimLaneManger=function(t){this.swimLaneManager=t},e.prototype.onClick=function(){var t=this.isDisable(),e=this.getName();this.swimLaneManager&&(this.swimLaneManager.changeStatusMapVisible(e,!t),this.swimLaneManager.dirty())},e}(re),si=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hi=function(t){function e(e,i){var n=t.call(this)||this;return n.setWidth(e),n.setHeight(i),n}return si(e,t),e.prototype.calculateLayout=function(t){this.x=t.x,this.y=t.y,this.setWidth(t.width),this.setHeight(t.height)},e.prototype.calculateSize=function(){},e}(St),ci=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),li=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textRender=new Y,e}return ci(e,t),e.prototype.setText=function(t){this.oldText=this.textRender.getText()?this.textRender.getText():t,this.textRender.setText(t),this.needCalculate=!0},e.prototype.setFont=function(t){this.textRender.setFont(t),this.needCalculate=!0},e.prototype.setBgColor=function(t){this.bgColor=t},e.prototype.setColor=function(t){this.textRender.setColor(t)},e.prototype.getSize=function(){return null==this.textRender.getText()&&(this.size={width:0,height:0}),this.needCalculate&&this.calculateSize(),{width:this.size.width,height:this.size.height}},e.prototype.calculateSize=function(){this.textRender.calculateSize(),this.size=this.textRender.getSize(),this.needCalculate=!1},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.draw=function(t,e){this.textRender.setPosition(e.x,e.y+e.height/2,"left","middle"),this.textRender.draw(t)},e}(St),ui=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pi=function(){function t(){this.swimLaneGropMap={},this.indexOrder=[],this.tableRender=new Rt,this.statusVisibleMap={}}return t.prototype.init=function(){this.statusVisibleMap={}},t.prototype.setLocalElement=function(t){this.localElement=t},t.prototype.setWidth=function(t){this.width=t,this.tableRender.setWidth(t)},t.prototype.setHeight=function(t){this.height=t},t.prototype.setEventHandler=function(t){this.eventHandler=t},t.prototype.setOptionManager=function(t){this.optionManager=t},t.prototype.setPosition=function(t,e){this.tableRender.setPosition(t,e)},t.prototype.rebuildSwimLaneGroup=function(t){if(null!=t){this.indexOrder.indexOf(t)<0&&this.indexOrder.push(t);var e=this.swimLaneGropMap[t],i=new Tt;if(e instanceof Tt){var n=this.swimLaneGropMap[t].getChildren();i.addSwimLane(n)}this.swimLaneGropMap[t]=i}},t.prototype.putSwimLane=function(t,e){(void 0===e&&(e=0),t instanceof Dt&&null!=e)&&(t.setSwimLaneManage(this),this.indexOrder.indexOf(e)<0&&this.indexOrder.push(e),this.swimLaneGropMap[e]||this.rebuildSwimLaneGroup(e),this.swimLaneGropMap[e]instanceof Tt&&this.swimLaneGropMap[e].getChildren().indexOf(t)<0&&this.swimLaneGropMap[e].addSwimLane(t))},t.prototype.getSwimGroups=function(){var t=[];for(var e in this.swimLaneGropMap)this.swimLaneGropMap[e]instanceof Tt&&t.push(this.swimLaneGropMap[e]);return t},t.prototype.calculate=function(){var t,e,i=this,o=[],r=new Rt;r.setWidth(this.width);for(var a=[],s=0;s<this.indexOrder.length;s++){var c=this.indexOrder[s];this.swimLaneGropMap[c].getChildren().forEach(function(i){var s=i.getValueRange(i),h=i.getLabelStyle(),c=new S;c.setMap(h);var l=Object(n.get)(h,"color"),u=c.toString();t=Object(n.getMin)(s.minValue,t),e=Object(n.getMax)(s.maxValue,e);var p=i.getLabel();o.push(p);var d=new li;d.setText(p),d.setColor(l),d.setFont(u);var f=new ti;f.setSwimLane(i),a.push(f);var g=new je;g.add(d),g.add(new hi(1,30)),g.add(f),r.add(g)})}a.forEach(function(i){i.setMaxValue(e),i.setMinValue(t)});var l=new oi,u=this.optionManager.getFromOption("swimAxis"),p=Object(n.get)(u,"axisLabel.formatter");l.setAxisParam(u);var d=new ii;l.setLabelFormatter(p),l.setType(h.AXIS_TYPE.VALUE),d.setVisible(function(){for(var t=!1,e=i.getSwimGroups(),n=0;n<e.length;n++){(e[n].getChildren()||[]).forEach(function(e){e instanceof Dt&&(t=!0)})}return t}),d.setAxis(l),l.setMaxValue(e),l.setMinValue(t);var f=new je;f.add(new hi(1,1)),f.add(new hi(20,1)),f.add(d),r.add(f),this.tableRender=r,this.localElement&&this.localElement.dirtyItself()},t.prototype.calculateLayout=function(){this.tableRender.calculateLayout()},t.prototype.dirty=function(){var t=this;this.localElement&&this.localElement.dirtyItself(),this.indexOrder.forEach(function(e){var i=t.swimLaneGropMap[e];i instanceof Tt&&i.setDirty()})},t.prototype.buildLegendItems=function(){var t=this,e=[],i=this.optionManager.getFromOption("legend.data"),o=this.getStatusMap();return i instanceof Array&&i.forEach(function(i){if(i&&"string"==typeof i){var r=Object(n.get)(o,[i]),a=Object(n.get)(r,"color","black"),s=new ai;s.setEventHandler(t.eventHandler),s.setSwimLaneManger(t),s.setColor(a),s.setName(i),e.push(s)}}),e},t.prototype.changeStatusMapVisible=function(t,e){this.statusVisibleMap[t]=e},t.prototype.statusIsVisible=function(t){return!(!1===this.statusVisibleMap[t])},t.prototype.getStatusArray=function(){return this.optionManager.getFromOption("status",[])},t.prototype.getStatusMap=function(){var t={};return this.getStatusArray().forEach(function(e){var i=Object(n.get)(e,"name");i&&(t[i]=e)}),t},t.prototype.onMouseMove=function(t,e){this.tableRender.onMouseMove(t,e)},t.prototype.draw=function(t){this.tableRender.draw(t)},t}(),di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ui(e,t),e.prototype.setSwimLaneManager=function(t){this.swimLaneManager=t},e.prototype.draw=function(t){this.swimLaneManager&&this.swimLaneManager.draw(t)},e.prototype.getRect=function(){if(this.swimLaneManager&&this.swimLaneManager.tableRender)return this.swimLaneManager.tableRender.getRect()},e}(ye),fi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gi=function(){function t(t){this.data=t;var e=function(t){var e,i=[];if("string"==typeof t){for(var n=0;n<t.length;n++){var o=t[n];Ci(o)&&(e>-1&&i.push({tag:t[e],data:t.substring(e+1,n)}),e=n)}e>-1&&i.push({tag:t[e],data:t.substring(e+1,t.length)})}return i}(t);this.paths=this.createPaths(e)}return t.prototype.setStrokeStyle=function(t){this.strokeStyle=t},t.prototype.setLineWidth=function(t){this.lineWidth=t},t.prototype.createPaths=function(t){var e=this,i=[];if(t instanceof Array){var n=0;t.forEach(function(t){if(t){var o=void 0;switch(t.tag){case"m":o=new ji(t.data);break;case"M":(o=new ji(t.data)).setAbsolute(!0);break;case"l":o=new _i(t.data);case"L":(o=new _i(t.data)).setAbsolute(!0);break;case"h":o=new Pi(t.data);case"H":(o=new Pi(t.data)).setAbsolute(!0);break;case"v":o=new Ai(t.data);case"V":(o=new Ai(t.data)).setAbsolute(!0);break;case"c":o=new wi(t.data);case"C":(o=new wi(t.data)).setAbsolute(!0);break;case"s":o=new Oi(t.data);case"S":(o=new Oi(t.data)).setAbsolute(!0);break;case"q":o=new mi(t.data);case"Q":(o=new mi(t.data)).setAbsolute(!0);break;case"t":o=new bi(t.data);case"T":(o=new bi(t.data)).setAbsolute(!0);break;case"a":o=new xi(t.data);case"A":(o=new xi(t.data)).setAbsolute(!0);break;case"z":case"Z":o=new vi(t.data)}o instanceof yi&&(o.setParent(e),o.setIndex(n),i.push(o),n++)}})}return i},t.prototype.getByIndex=function(t){return this.paths[t]},t.prototype.getRect=function(){if(this.paths){for(var t=void 0,e=0;e<this.paths.length;e++){var i=this.paths[e].getRect();t=Object(u.E)(t,i)}if(Object(u.O)(t))return t}},t.prototype.draw=function(t){t.save(),t.beginPath(),this.paths&&this.paths.length>0&&this.paths.forEach(function(e){e instanceof yi&&e.draw(t)}),t.lineWidth=this.lineWidth||1,t.strokeStyle=this.strokeStyle,t.stroke(),t.restore()},t}(),yi=function(){function t(t){this.splitToParams(t)}return t.prototype.getRect=function(){},t.prototype.splitToParams=function(t){var e=[];return t.split(/[,\s]/).forEach(function(t){t.length>0&&(isNaN(t)||(t=Object(n.convertToNum)(t)),e.push(t))}),this.params=e,e},t.prototype.setIndex=function(t){this.index=t},t.prototype.getIndex=function(){return this.index},t.prototype.getPosition=function(){},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setCalculate=function(){this.pos=void 0;var t=this.getNext();this.reCalculate(),t&&t.setCalculate()},t.prototype.reCalculate=function(){},t.prototype.setAbsolute=function(t){var e=this.absolute;this.absolute=t,e!=t&&this.setCalculate()},t.prototype.isAbsolute=function(){return this.absolute},t.prototype.getPrevious=function(){if(this.parent)return this.parent.getByIndex(this.index-1)},t.prototype.getNext=function(){if(this.parent)return this.parent.getByIndex(this.index+1)},t.prototype.getPreviousPosition=function(){var t=this.getPrevious();if(t)return t.getPosition()},t.prototype.draw=function(t){t=t},t}(),vi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){return(this.pos||null===this.pos)&&this.pos,this.pos=this.getPreviousPosition(),this.pos},e.prototype.getRect=function(){},e.prototype.draw=function(t){t.closePath()},e}(yi),xi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[5],y:this.params[6]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[5],y:t.y+this.params[6]}}return this.pos},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getPosition();return Object(u.e)([t,e])},e}(yi),bi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.reCalculate=function(){this.ctrlPoint=void 0},e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.pos},e.prototype.getCtrlPoint=function(){if(this.ctrlPoint||null===this.ctrlPoint)return this.ctrlPoint;var t=this.getPrevious();return this.ctrlPoint=t instanceof mi||t instanceof e?t.getCtrlPoint():null,this.ctrlPoint},e.prototype.getRect=function(){},e}(yi),mi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[2],y:this.params[3]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[2],y:t.y+this.params[3]}}return this.pos},e.prototype.reCalculate=function(){this.ctrlPoint=void 0},e.prototype.getCtrlPoint=function(){if(this.ctrlPoint)return this.ctrlPoint;if(this.isAbsolute())this.ctrlPoint={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();this.ctrlPoint={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.ctrlPoint},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getCtrlPoint(),i=this.getPosition();return Object(u.e)([t,e,i])},e}(yi),Oi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getFirstCtrlPoint=function(){if(this.firstCtrlPoint)return this.firstCtrlPoint;var t=this.getPrevious(),i=this.getPreviousPosition();if(t instanceof wi||t instanceof e){var n=t.getSecondCtrlPoint();this.firstCtrlPoint=function(t,e){var i=Object(w.e)(t,e);return Object(w.f)(e,i)}(n,i)}else this.isAbsolute()?this.firstCtrlPoint={x:this.params[0],y:this.params[1]}:this.firstCtrlPoint={x:i.x+this.params[0],y:i.y+this.params[1]};return this.firstCtrlPoint},e.prototype.getSecondCtrlPoint=function(){if(this.secondCtrlPoint)return this.secondCtrlPoint;var t=this.getPrevious(),i=this.getPreviousPosition();return t instanceof wi||t instanceof e?this.isAbsolute()?this.secondCtrlPoint={x:this.params[0],y:this.params[1]}:this.secondCtrlPoint={x:i.x+this.params[0],y:i.y+this.params[1]}:this.secondCtrlPoint=this.getFirstCtrlPoint(),this.secondCtrlPoint},e.prototype.reCalculate=function(){this.firstCtrlPoint=void 0,this.secondCtrlPoint=void 0},e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[2],y:this.params[3]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[2],y:t.y+this.params[3]}}return this.pos},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getFirstCtrlPoint(),i=this.getFirstCtrlPoint(),n=this.getPosition();return Object(u.e)([t,e,i,n])},e}(yi),wi=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[4],y:this.params[5]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[4],y:t.y+this.params[5]}}return this.pos},e.prototype.reCalculate=function(){this.firstCtrlPoint=void 0,this.secondCtrlPoint=void 0},e.prototype.getFirstCtrlPoint=function(){if(this.firstCtrlPoint)return this.firstCtrlPoint;if(this.isAbsolute())this.firstCtrlPoint={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();this.firstCtrlPoint={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.firstCtrlPoint},e.prototype.getSecondCtrlPoint=function(){if(this.secondCtrlPoint)return this.secondCtrlPoint;if(this.isAbsolute())this.secondCtrlPoint={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();this.secondCtrlPoint={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.secondCtrlPoint},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getFirstCtrlPoint(),i=this.getSecondCtrlPoint(),n=this.getPosition();return Object(u.e)([t,e,i,n])},e}(yi),_i=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.absolute)this.pos={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();this.pos={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.pos},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getPosition();return Object(u.e)([t,e])},e.prototype.draw=function(t){var e=this.getPosition();t.lineTo(e.x,e.y)},e}(yi),ji=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;if(this.isAbsolute())this.pos={x:this.params[0],y:this.params[1]};else{var t=this.getPreviousPosition();t||(t={x:0,y:0}),this.pos={x:t.x+this.params[0],y:t.y+this.params[1]}}return this.pos},e.prototype.getRect=function(){var t=this.getPosition();return Object(u.e)([t])},e.prototype.draw=function(t){var e=this.getPosition();t.moveTo(e.x,e.y)},e}(yi),Pi=function(t){function e(e){var i=t.call(this,e)||this;return i.offset=i.params[0],i}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;var t=this.getPreviousPosition();return this.absolute?this.pos={x:this.params[0],y:t.y}:this.pos={x:t.x+this.params[0],y:t.y},this.pos},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getPosition();return Object(u.e)([t,e])},e.prototype.draw=function(t){var e=this.getPosition();t.lineTo(e.x,e.y)},e}(yi),Ai=function(t){function e(e){return t.call(this,e)||this}return fi(e,t),e.prototype.getPosition=function(){if(this.pos)return this.pos;var t=this.getPreviousPosition();return this.absolute?this.pos={x:t.x,y:this.params[0]}:this.pos={x:t.x,y:t.y+this.params[0]},this.pos},e.prototype.getRect=function(){var t=this.getPreviousPosition(),e=this.getPosition();return Object(u.e)([t,e])},e.prototype.draw=function(t){var e=this.getPosition();t.lineTo(e.x,e.y)},e}(yi);function Ci(t){for(var e=["M","m","L","l","H","h","V","v","C","c","S","s","Q","q","T","t","A","a","Z","z"],i=0;i<e.length;i++)if(t==e[i])return!0}var Li=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ii={};function Fi(t,e,i,n){void 0===i&&(i=void 0),void 0===n&&(n=void 0);var o=new Mi(null);Ii[t]=o,o.setName(t),function(t,e,i){var n=new Image;n.onload=function(){var i=n.width,o=n.height,r={image:n,width:i,height:o,url:t};"function"==typeof e&&e(r)},n.onerror=function(){"function"==typeof i&&i({url:t})},n.onabort=function(){"function"==typeof i&&i({url:t})},n.src=t}(e,function(t){o._image=t.image,o._width=t.width,o._height=t.height,"function"==typeof i&&i(o)},function(e){Ii[t]==o&&delete Ii[t],"function"==typeof n&&n(e)})}var Si=function(){function t(t){this.param=t}return t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t}(),Mi=function(t){function e(e){var i=t.call(this,e)||this;return i.draw=function(t,e,n,o,r,a){void 0===a&&(a=!1);var s,h,c=1;if(a)s={x:e,y:n},h={width:o,height:r};else{var l=i._height/r,p=i._width/o;c=p>l?l:p;var d={horizontal:"middle",vertical:"middle"};h={width:i._width/c,height:i._height/c},s=Object(u.d)({x:e,y:n,width:o,height:r},h,d,d)}t.save(),t.beginPath(),t.rect(e,n,o,r),t.closePath(),t.clip(),t.drawImage(i._image,0,0,i._width,i._height,s.x,s.y,h.width,h.height),t.restore()},i}return Li(e,t),e}(Si),Ri=function(t){function e(e){var i=t.call(this,e)||this;return i.draw=function(t,e,o,r,a,s){void 0===s&&(s=!1);var h=i.svgPath.getRect();if(Object(u.O)(h)){var c,l,p,f={x:e,y:o,width:r,height:a},g=1,y=1;if(1==s)p=Object(d.b)(h,f,!1);else{y=g=Object(n.getMin)(r,a)/Object(n.getMax)(h.width,h.height);var v={width:h.width*g,height:h.height*y},x={horizontal:"middle",vertical:"middle"},b=Object(u.d)(f,v,x,x),m={x:b.x,y:b.y,width:v.width,height:a};p=Object(d.b)(h,m,!1)}g=p.data[0][0],y=p.data[1][1],0!=g&&0!=y&&(c=p.data[2][0],l=p.data[2][1],t.save(),t.transform(g,0,0,y,c,l),i.svgPath.draw(t),t.restore())}},i.svgPath=new gi(e.path),i}return Li(e,t),e.prototype.setStrokeStyle=function(t){this.svgPath&&this.svgPath.setStrokeStyle(t)},e}(Si);var Ei=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ti=function(t){function e(e){var i=t.call(this)||this;return i.width=40,i.height=40,i.toolbox=e,i}return Ei(e,t),e.prototype.setTitle=function(t){this.title=t},e.prototype.getTitle=function(){return this.title},e.prototype.calculateLayout=function(e){return t.prototype.calculateLayout.call(this,e)},e.prototype.calculateSize=function(){},e.prototype.setClickCallback=function(t){this.clickCallback=t},e.prototype.isEnable=function(){return this.enable},e.prototype.setEnable=function(t){this.enable=t},e.prototype.onMouseEnter=function(){this.toolbox.showTip(this.getTitle(),this.getRect()),this.toolbox.refresh()},e.prototype.onMouseLeave=function(){this.toolbox.hideTip(),this.toolbox.refresh()},e.prototype.setIconStyle=function(t){this.iconStyle=t},e.prototype.setImage=function(t){var e=this;this.image=t,Fi(t,t,function(t){e.imageObj=t,e.toolbox.refresh()})},e.prototype.getImage=function(){return this.image},e.prototype.getImageObj=function(){return this.imageObj},e}(St),Bi={ZOOM_IN:"M24 8.4 L24 35.8 M12.4 21.6 L36 21.6 M54 22 H82 V79 H25 V51",ZOOM_BACK:"M12.4 22 H82 V79 H25 V51 M12.4 22 L35 33 M12.4 22 L35 11"},ki=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Di=function(t){function e(e){var i=t.call(this,e)||this;return i.enable=!1,i.svgImageObj=new Ri({path:Bi.ZOOM_IN}),i}return ki(e,t),e.prototype.draw=function(t){Ni.call(this,t)},e}(Ti),Vi=function(t){function e(e){var i=t.call(this,e)||this;return i.svgImageObj=new Ri({path:Bi.ZOOM_BACK}),i}return ki(e,t),e.prototype.draw=function(t){Ni.call(this,t)},e}(Ti);function Ni(t){var e=this.iconStyle,i=Object(n.get)(e,"color"),o=Object(n.get)(e,"borderColor"),r=Object(n.get)(e,"boderColor"),a=Object(n.get)(e,"shadowBluer"),s=Object(n.get)(e,"shadowColor"),h=Object(n.get)(e,"shadowOffsetX"),c=Object(n.get)(e,"shadowOffsetY"),l=this.getRect();if(Object(u.O)(l)){var p=Object(u.I)(l,this.paddings);if(i=i||"#0000ff",this.getImage()){var d=this.getImageObj();d instanceof Mi&&d.draw(t,p.x,p.y,p.width,p.height,!1)}else this.isHover()||this.isEnable()?this.svgImageObj.setStrokeStyle(i):this.svgImageObj.setStrokeStyle("#c0c0c0"),this.svgImageObj.draw(t,p.x,p.y,p.width,p.height,!1);t.save(),t.beginPath(),t.rect(l.x,l.y,l.width,l.height),t.closePath(),a&&(t.shadowBluer=a),s&&(t.shadowColor=s),h&&(t.shadowOffsetX=h),c&&(t.shadowOffsetY=c),r&&(t.lineWidth=r),o&&t.stroke(),t.restore()}}var Hi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hi(e,t),e.prototype.calculateLayout=function(t){var e=Object(n.get)(t,"x"),i=Object(n.get)(t,"y"),o=this.getChildren(),r=e,a=r+t.width;this.setPosition(e,i),this.setWidth(t.width),this.setHeight(t.height),o.forEach(function(t){var e=t.getSize();t.getFloat()===h.FLOAT.LEFT?(t.calculateLayout({x:r,y:i,width:e.width,height:e.height}),r+=e.width):(t.calculateLayout({x:a-e.width,y:i,width:e.width,height:e.height}),a-=e.width)})},e.prototype.getSize=function(){var t=0,e=0;return this.getChildren().forEach(function(i){var n=i.getSize();t=t<n.height?n.height:t,e=n.width>0?e+n.width:e}),{width:e,height:t}},e}(St),Wi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yi=function(t){function e(){var e=t.call(this)||this;return e.tableRender=new Rt,e.zoomRecords=[],e.enableZoom=!1,e.textRenderForTip=new Y,e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.textRenderForTip.setVisible(!1),e}return Wi(e,t),e.prototype.setToolboxParam=function(t){this.toolboxParam=t},e.prototype.setParentRect=function(t){this.parentRect=t},e.prototype.setLocalElement=function(t){this.localElement=t},e.prototype.setZoomChangeCallback=function(t){this.progressChange=t},e.prototype.setProgressBar=function(t){this.progressBar=t},e.prototype.setEventHandler=function(t){this.eventHandler=t},e.prototype.isZooming=function(){return this.zooming},e.prototype.setZooming=function(t){this.zooming=t},e.prototype.addZoomRecord=function(t){this.zoomRecords.push(t)},e.prototype.calculate=function(){var t=this;this.tableRender=new Rt,this.tableRender.setWidth(this.width),this.tableRender.setPosition(this.x,this.y);var e=Object(n.get)(this.toolboxParam,"feature"),i=Object(n.get)(e,"dataZoom"),o=Object(n.get)(i,"show"),r=Object(n.get)(i,"iconStyle"),a=Object(n.get)(r,"align");if(a!=h.FLOAT.LEFT&&(a=h.FLOAT.RIGHT),i&&0!=o){var s=new je;s.setPaddings({paddingBottom:10});var c=new Di(this);c.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10});var l=Object(n.get)(e,"dataZoom.title.zoom","区域缩放"),u=Object(n.get)(e,"dataZoom.icon.zoom");u&&c.setImage(u),c.setTitle(l),c.setIconStyle(r),c.onMouseDown=function(){t.zoomRecords=[];var e=t.isEnableZoom();t.setEnableZoom(!e)},c.isEnable=function(){return t.isEnableZoom()};var p=new Vi(this);p.setPaddings({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10});var d=Object(n.get)(e,"dataZoom.title.back","区域缩放还原");p.setTitle(d),p.setIconStyle(r),c.setFloat(a),p.setFloat(a),p.isEnable=function(){return t.zoomRecords&&t.zoomRecords.length>0},p.onMouseDown=function(){if(t.zoomRecords&&t.zoomRecords.length>0){var e=t.zoomRecords.concat(),i=e[e.length-1];t.progressChange&&i&&i.start>=0&&i.end<=1&&t.progressChange(i.start,i.end),e.splice(e.length-1,1),t.zoomRecords=e}};var f=new zi;f.setOriginWidth("100%"),f.adds([p,c]),s.add(f),this.tableRender.add(s),this.tableRender.calculateLayout()}},e.prototype.setWidth=function(t){this.width=t,this.tableRender.setWidth(t)},e.prototype.getRect=function(){return this.tableRender.getRect()},e.prototype.getDirtyRect=function(){if(this.textRenderForTip)return this.textRenderForTip.getRect()},e.prototype.setPosition=function(t,e){this.x=t,this.y=e,this.tableRender.setPosition(t,e)},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this.tableRender.draw(e),this.textRenderForTip.draw(e)},e.prototype.isEnableZoom=function(){return this.enableZoom},e.prototype.setEnableZoom=function(t){this.enableZoom=t},e.prototype.refresh=function(){this.localElement&&this.localElement.dirtyItself()},e.prototype.handleMouseMove=function(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY,n=this.getRect();Object(u.C)(n,e,i)?this.tableRender.isHover()?this.tableRender.onMouseMove(e,i):(this.tableRender.setHover(!0),this.tableRender.onMouseEnter(e,i),this.tableRender.onMouseMove(e,i)):this.tableRender.isHover()&&(this.tableRender.setHover(!1),this.tableRender.onMouseLeave(e,i))},e.prototype.handleMouseDown=function(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY,n=this.getRect();Object(u.C)(n,e,i)&&this.tableRender.onMouseDown(e,i)},e.prototype.handleMouseLeave=function(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY;this.tableRender.isHover()&&(this.tableRender.setHover(!1),this.tableRender.onMouseLeave(e,i))},e.prototype.showTip=function(t,e){if(this.textRenderForTip.setVisible(!1),1==Object(u.O)(e)){this.textRenderForTip.setText(t),this.textRenderForTip.calculateSize(),this.textRenderForTip.setPosition(e.x+e.width/2,e.y+e.height,"middle","top");var i=this.textRenderForTip.getRect();if(Object(u.O)(i)){var n={x:this.parentRect.x,y:this.parentRect.y,width:this.parentRect.width,height:this.parentRect.height};if(Object(u.O)(n)){n.height+=i.height;var o=Object(u.J)(i,n);o.paddingLeft<0?(this.textRenderForTip.calculateSize(),this.textRenderForTip.setPosition(i.x-o.paddingLeft,i.y,"left","top")):o.paddingRight<0&&(this.textRenderForTip.calculateSize(),this.textRenderForTip.setPosition(i.x+o.paddingRight,i.y,"left","top")),this.textRenderForTip.setVisible(!0)}}}},e.prototype.hideTip=function(){this.textRenderForTip.setVisible(!1)},e}(St),Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wi(e,t),e.prototype.setToolbox=function(t){this.toolbox=t,this.toolbox.setLocalElement(this)},e.prototype.getRect=function(){if(this.toolbox&&this.toolbox.isVisible()&&this.isVisible())return this.toolbox.getRect()},e.prototype.getDirtyRect=function(){if(this.toolbox&&this.toolbox.isVisible()&&this.isVisible())return this.toolbox.getDirtyRect()},e.prototype.draw=function(t){this.toolbox.draw(t)},e}(ye),Gi=function(){function t(t){this._list=new Ft,this.canvas=t,this._dirtyList=new Ft}return t.prototype.getContext=function(){return this._context||(this._context=Object(u.v)(this.canvas)),this._context},t.prototype.clearCanvas=function(){var t=this.canvas.width,e=this.canvas.height,i=this.getContext();this.clearRect(i,0,0,t,e)},t.prototype.add=function(t){t.setLayer(this),this._list.indexOf(t)<0&&(this._list.insert(t),this.addDirty(t))},t.prototype.clearAll=function(){this._list.clear(),this._dirtyList.clear(),this.repaintAll()},t.prototype.remove=function(t){this._list.indexOf(t)>=0&&(this._list.remove(t),this.addDirty(t))},t.prototype.addDirty=function(t){t&&this._dirtyList.indexOf(t)<0&&this._dirtyList.insert(t)},t.prototype.repaintAll=function(){this._refreshAll=!0},t.prototype.draw=function(t){if(void 0===t&&(t=!1),t||1==this._refreshAll){var e=this.getContext();return this.clearRect(e,0,0,this.canvas.width,this.canvas.height),this._list.forEach(function(t){e.save(),t.isVisible()&&t.draw(e),e.restore()}),this._dirtyList=new Ft,void(this._refreshAll=!1)}if(!(this._dirtyList.size()<1)){var i,n=this._dirtyList.clone();if(this._dirtyList=new Ft,n.forEach(function(t){i=Object(u.E)(t.getRect(),i),i=Object(u.E)(t.getDirtyRect(),i)}),Object(u.O)(i)){var o=i,r=[];this._list.forEach(function(t){var e=t.getRect();Object(u.O)(e)&&Object(u.D)(e,i)&&(o=Object(u.E)(e,o),r.push(t))});var a=this.getContext();Object(u.O)(i)&&(i=Object(u.H)(i,{paddingTop:1,paddingRight:2,paddingBottom:1,paddingLeft:1})),this.clearRect(a,i.x,i.y,i.width,i.height),a.save(),a.rect(i.x,i.y,i.width,i.height),a.clip(),r.forEach(function(t){t.isVisible()&&t.draw(a)}),a.restore()}}},t.prototype.clearRect=function(t,e,i,n,o){t.save(),t.clearRect(e,i,n,o),t.restore()},t.prototype.isDirty=function(){return this._refreshAll||this._dirtyList.size()>0},t}(),qi=ve.default.EVENT_IDS,Ui=ve.default.Event,Zi=ve.default.UCharts,Ki=function(){function t(){this.clickGroupId="",this.lineClickGroupId="",this.renderGroupId="",this.tooltipGroupId="",this.dispatchAction=function(t,e){var i=e.dataContainer.getPipelines();switch(t.type){case"highlight":i.forEach(function(e){Array.isArray(t.seriesName)?e.hightLight(!t.seriesName.includes(e.name)):e.hightLight(e.name!==t.seriesName)});break;case"downplay":i.forEach(function(t){t.downplay()});break;case"changeTheme":var o=t.theme;if(o){var r=o.color;i.forEach(function(e){Array.isArray(t.seriesName)?t.seriesName.includes(e.name)&&r.length==t.seriesName.length&&t.seriesName.forEach(function(t,i){e.name==t&&e.setColor(r[i],!1)}):e.name===t.seriesName&&e.setColor(r,!1)})}break;case"saveAsImage":var a="image/png",s=document.createElement("canvas");Object(u.M)(s,e.width,e.height);var h=Object(u.v)(s);if(!h)return;Object(u.n)(h,0,0,e.width,e.height,null,"#FFFFFF");for(var c=!0,l=0;l<i.length;l++){if(i[l]instanceof dt){c=!1;break}}c&&h.drawImage(e.bottomCanvas,0,0,e.width,e.height),h.drawImage(e.middleCanvas,0,0,e.width,e.height);var p=s.toDataURL(a),d=document.createElement("a"),f=t.fileName||"fileName",g=Object(n.getBrowserInfo)();if(g&&g.indexOf("IE")>=0)Object(n.openImagInIE)(p);else if("function"==typeof window.navigator.msSaveOrOpenBlob){var y=Object(n.dataURLToBlob)(p);window.navigator.msSaveOrOpenBlob(y,f+"."+a.split("/")[1])}else d.href=p,d.download=f,d.dataset.downloadurl=[a,d.download,d.href].join(":"),document.body.appendChild(d),d.click(),document.body.removeChild(d);break;default:console.log("dispatchAction",t)}},this.on=function(t,e,i){"click"===t&&"xAxis.category"===e?(this.off(t,i),Zi.connect(this.clickGroupId),Ui.listen(qi.click,i,this.clickGroupId)):"click"!==t||"line"!==e&&"bar"!==e?"tooltipShow"===t&&"xAxis.category"===e?this.tooltipShowHandle=i:"tooltipHide"===t&&"xAxis.category"===e?this.tooltipHideHandle=i:"mouseLeaver"===t&&"line"===e?this.leaverHandle=i:"leaveChart"===t?(this.off(t,i),Zi.connect(this.tooltipGroupId),Ui.listen(qi.leaveChart,i,this.tooltipGroupId)):"didMount"===t?(this.off(t,i),Zi.connect(this.renderGroupId),Ui.listen(qi.didMount,i,this.renderGroupId)):"dataZoom"===t&&(this.dataZoomHandle=i):(this.off(t,i),Zi.connect(this.lineClickGroupId),Ui.listen(qi.lineClick,i,this.lineClickGroupId))},this.off=function(t,e){"click"===t?Ui.remove(qi.click,e):"tooltipShow"===t?Ui.remove(qi.tooltipShow,e):"tooltipHide"===t?Ui.remove(qi.tooltipHide,e):"didMount"===t?Ui.remove(qi.didMount,e):"leaveChart"===t?Ui.remove(qi.leaveChart,e):"dataZoom"===t?this.dataZoomHandle=null:"mouseLeave"===t&&(this.mouseLeave=null)},this.clickGroupId=Object(n.uuid)(),this.lineClickGroupId=Object(n.uuid)(),this.renderGroupId=Object(n.uuid)(),this.tooltipGroupId=Object(n.uuid)()}return t.prototype.getTooltipHideHandle=function(){return this.tooltipHideHandle},t.prototype.getDataZoomHandle=function(){return this.dataZoomHandle},t.prototype.getTooltipShowHandle=function(){return this.tooltipShowHandle},t.prototype.getLineClickGroupId=function(){return this.lineClickGroupId},t.prototype.getClickGroupId=function(){return this.clickGroupId},t.prototype.getRenderGroupId=function(){return this.renderGroupId},t.prototype.getLeaverHandle=function(){return this.leaverHandle},t}(),Qi=function(){return(Qi=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$i=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n};function Ji(t,e,i,n,o,r,a){void 0===a&&(a="end");var s={x:0,y:0},h=0,c=0;return"end"===a?(h=t*Math.cos(n)+e-o-35,c=t*Math.sin(n)+i-r):"start"===a&&(h=t*Math.cos(n)-e+25,c=t*Math.sin(n)-i),h>0&&(s={x:h,y:h*Math.tan(n)}),c>Math.max(0,s.y)&&0!==Math.tan(n)&&(s={x:c/Math.tan(n),y:c}),s}function tn(t,e,i,o,r,a){var s,c;void 0===o&&(o=!1);var l,p,d,f,g="";if(o?(g="minPointInfo",l=n.getMin):(g="maxPointInfo",l=n.getMax),Object(n.quicklyForEach)(i,function(t){if(s){var e=s.getValue(),i=Object(n.callSafe)(Object(n.getByPath)(t,[g,"getValue"]),{context:s});Object(n.callSafe)(l,{arg:[e,i]})!==e&&(s=t[g],c=t)}else s=Object(n.getByPath)(t,[g]),c=t}),c&&Object(n.checkPoint)(s.point)){var y=c.getYAxisIndex(),v=c.getXAxisIndex(),x=e.coordinate.getHorizontalAxisByIndex(v),b=e.coordinate.getVerticalAxisByIndex(y);f=x.getProjection(s.point),d=b.getProjection(s.point),p=s.point}var m=Object(n.get)(r,"lineStyle"),O=Object(n.get)(m,"normal.type")===h.DASHED?[4,4]:void 0;Object(n.checkPoint)(f)&&Object(n.checkPoint)(p)&&Object(u.k)(t,f,p,r.lineStyle.normal.color,m.normal.width,O),Object(n.checkPoint)(p)&&Object(n.checkPoint)(d)&&Object(u.k)(t,d,p,r.lineStyle.normal.color,m.normal.width,O);var w,_=Object(n.get)(r,"precision"),j=Object(n.get)(m,"normal.opacity")||1;if(s){var P=s.getValue();void 0!==_&&Object(n.isNum)(P)&&(P=P.toFixed(_)),w=Object(n.get)(r,"label.formatter")&&"function"==typeof Object(n.get)(r,"label.formatter")?r.label.formatter({xValue:s.getXValue(),yValue:s.getValue()}):"("+s.getXValue()+", "+P+")"}if(Object(n.checkPoint)(f)&&Object(n.checkPoint)(p)&&w&&s){var A=a===h.DARK,C=A?"#373E52":"#F0F4F7",L=A?"#373E52":"#F0F4F7",I=A?"#ffffff":"#000";Object(u.j)(t,e.getCoordinate().getCoordinateRect(),s,w,C,L,Object(n.get)(r,"label.advancedFormatter"),I,j)}}function en(t,e,i,n){var o,r=n.width,a=32,s=[10,16,24,32,46,60,80,100,120,160,180,200,240,280,320],c=new Y,l=0;if(l=i.formatter?isNaN(i.value)?"-":i.formatter(i.value):isNaN(i.value)?"-":i.value,c.setText(l),c.setColor(i.color),c.setPaddingByMap({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),s.every(function(t,n){c.setFont("bold "+t+"px "+h.DEFAULT_FONT_FAMILY),c.calculateSize(),o=c.getSize();var r=i.unit?Object(u.A)(i.unit,t/2+"px "+h.DEFAULT_FONT_FAMILY).width:0;return(null===o||void 0===o?void 0:o.width)+r+10>e.width||(null===o||void 0===o?void 0:o.height)>e.width?(a=s[n>0?n-1:0],!1):(a=t,!0)}),c.setFont(a+"px "+h.DEFAULT_FONT_FAMILY),c.calculateSize(),o=c.getSize(),c.setPosition(e.x,e.y,"middle","middle"),c.draw(t),i.unit){var p=new Y;p.setText(i.unit),p.setColor(i.color),p.setFont(a/3+"px "+h.DEFAULT_FONT_FAMILY),p.setPaddingByMap({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),p.calculateSize();var d=p.getSize();p.setPosition(e.x+(null===o||void 0===o?void 0:o.width)/2,e.y+(null===o||void 0===o?void 0:o.height)/2-d.height-.1*d.height,"left","middle"),p.draw(t)}if(i.title){var f=new Y,g=i.showArea?10:16,y=i.titleFontSize?i.titleFontSize:Math.max(e.width/g,10);f.setText(function(t,e,i){var n=!1,o=Object(u.B)(t,i);for(;o>e;)n=!0,t=t.substring(0,t.length-1),o=Object(u.B)(t,i);return n?t+"...":t}(i.title,r-20,y+"px "+h.DEFAULT_FONT_FAMILY)),f.setColor(i.titleColor||"#888"),f.setFont(y+"px "+h.DEFAULT_FONT_FAMILY),f.setPaddingByMap({paddingTop:20,paddingBottom:0,paddingLeft:0,paddingRight:0}),f.calculateSize(),f.setPosition(e.x,n.y,"middle","top"),f.draw(t)}}var nn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),on=[2,2],rn=function(t){function e(){var e=t.call(this)||this;return e.lineColor="",e.lineDash=on.concat(),e.start={x:0,y:0},e.end={x:0,y:0},e.triangle=new an,e.setTriangleFillColor(e.lineColor),e.triangle.setTriangleSize(8),e.add(e.triangle),e}return nn(e,t),e.prototype.setlineColor=function(t){this.lineColor=t},e.prototype.setTriangleStrokeColor=function(t){this.triangle.setStrokeColor(t)},e.prototype.setTriangleFillColor=function(t){this.triangle.setFillColor(t)},e.prototype.setTriangleSize=function(t){this.triangle.setTriangleSize(t)},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.getRect=function(){var t=this.triangle.getRect(),e=Object(u.e)([this.start,this.end]);return Object(n.unionRect)(t,e)},e.prototype.setStart=function(t){this.start=t,this.triangle.setTopPoint(t),this.triangle.setDirection(Object(w.i)(this.end,t))},e.prototype.setTriangleOnEnterCallback=function(t,e){this.triangle.setEnterCallback(t,e)},e.prototype.setTriangleOnLeaveCallback=function(t,e){this.triangle.setLeaveCallback(t,e)},e.prototype.calculateLayout=function(){this.triangle.calculateLayout()},e.prototype.setEnd=function(t){this.end=t,this.triangle.setDirection(Object(w.i)(t,this.start))},e.prototype.getSize=function(){return this.getRect()},e.prototype.draw=function(t){Object(u.k)(t,this.start,this.end,this.lineColor,this.lineWidth,this.lineDash),this.triangle.draw(t)},e}(St),an=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillColor="",e.strokeColor="",e.points=[],e}return nn(e,t),e.prototype.setTopPoint=function(t){this.topPoint=t},e.prototype.setTriangleSize=function(t){this.rectSize=t},e.prototype.setFillColor=function(t){this.fillColor=t},e.prototype.setStrokeColor=function(t){this.strokeColor=t},e.prototype.setDirection=function(t){this.direction=t},e.prototype.setEnterCallback=function(t,e){this.hoverCallback=t,this.hoverCallbackData=e},e.prototype.setLeaveCallback=function(t,e){this.leaveCallback=t,this.leaveCallbackData=e},e.prototype.calculateLayout=function(){var t={x:-this.direction.x,y:-this.direction.y},e=Object(w.h)(t),i=Object(w.f)(this.topPoint,Object(w.d)(e,this.rectSize)),n=Object(w.b)(this.direction),o={x:-(null===n||void 0===n?void 0:n.x),y:-n.y},r=Object(w.f)(i,Object(w.d)(n,.5*this.rectSize)),a=Object(w.f)(i,Object(w.d)(o,.5*this.rectSize));this.points=[this.topPoint,r,a]},e.prototype.getRect=function(){return Object(u.e)(this.points)},e.prototype.getTriangleCenter=function(){var t=Object(u.e)(this.points);if(Object(u.O)(t))return Object(n.getRectCenter)(t)},e.prototype.onMouseEnter=function(t,e,i,o){var r=[this.getTriangleCenter(),this.topPoint,{x:t,y:e}],a=Object(n.quicklyFindInArray)(r,function(t){if(Object(n.checkPoint)(t))return t});Object(n.callSafe)(this.hoverCallback,{arg:[{x:a.x,y:a.y,data:this.hoverCallbackData},o,i]})},e.prototype.onMouseLeave=function(t,e,i,o){Object(n.callSafe)(this.leaveCallback,{arg:[{x:t,y:e,data:this.leaveCallbackData},o,i]})},e.prototype.draw=function(t){this.points.length>0&&(t.save(),t.beginPath(),Object(u.b)(t,this.points,!0),t.closePath(),this.fillColor&&(t.fillStyle=this.fillColor,t.fill()),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.stroke()),t.restore())},e}(St),sn=function(){return(sn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},hn=function(){function t(){this.annotationMarkLines=[],this.containerRenderItem=new St,this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}return t.prototype.handleMouseUp=function(t){var e=Object(n.getXYFromMouseEvent)(t),i=e.x,o=e.y;this.containerRenderItem.onMouseUp(i,o,null,t)},t.prototype.handleMouseDown=function(t){var e=Object(n.getXYFromMouseEvent)(t),i=e.x,o=e.y;this.containerRenderItem.onMouseDown(i,o,null,t)},t.prototype.handleMouseEnter=function(t){var e=Object(n.getXYFromMouseEvent)(t),i=e.x,o=e.y;this.containerRenderItem.onMouseEnter(i,o,null,t)},t.prototype.handleMouseLeave=function(t){var e=Object(n.getXYFromMouseEvent)(t),i=e.x,o=e.y;this.containerRenderItem.onMouseLeave(i,o,null,t)},t.prototype.handleMouseMove=function(t){var e=Object(n.getXYFromMouseEvent)(t),i=e.x,o=e.y;this.containerRenderItem.onMouseMove(i,o,null,t)},t.prototype.drawMarkLine=function(t){Object(n.quicklyForEach)(this.annotationMarkLines,function(e){e instanceof rn&&e.draw(t)})},t.prototype.handleData=function(t,e){var i=this,o=t.getFromOption("markLine");o&&o.data&&o.lineStyle&&(this.annotationMarkLines=[],this.containerRenderItem.removes(this.containerRenderItem.getChildren()),Object(n.quicklyForEach)(o.data,function(t){if(t&&t.relativeAxis instanceof Array){var o=e.getHorizontalAxisArray(),r=e.getVerticalAxisArray(),a=null;if(t.xAxisIndex>=0?a=Object(n.getByPath)(o,[t.xAxisIndex]):t.yAxisIndex>=0&&(a=Object(n.getByPath)(r,[t.yAxisIndex])),!a||a.isValueAxis())return;var s=a.getFromAxisParam("data.length"),h=a.startPercent,c=a.endPercent,l=e.getCoordinateInfo(),u=Object(n.getIndexRangeFromPercent)(s,h,c);a&&(null===u||void 0===u?void 0:u.startIndex)>=0&&(null===u||void 0===u?void 0:u.endIndex)>=0&&Object(n.quicklyForEach)(t.relativeAxis,function(e){if(Object(n.isNum)(e.percent)){var o=void 0;if((o=1==s?0:(s-1)*Object(n.convertToNum)(e.percent))>=u.startIndex&&o<=u.endIndex){var r=Object(d.i)({x:o-u.startIndex,y:0},null===a||void 0===a?void 0:a.matrix);if(Object(n.checkPoint)(r)){var h=new rn,c=Object(n.getPointProjectFromRect)(r,null===l||void 0===l?void 0:l.rect),p=void 0;p=a.isVerticalAxis()?Object(n.checkPoint)(null===c||void 0===c?void 0:c.right)?null===c||void 0===c?void 0:c.right:{x:r.x+.01,y:r.y}:Object(n.checkPoint)(null===c||void 0===c?void 0:c.top)?null===c||void 0===c?void 0:c.top:{x:r.x,y:r.y-.01},h.setStart(r),h.setEnd(p);var f=Object(n.getByPath)(e,["triangleStyle"]),g=Object(n.getByPath)(f,["fillColor"],"#ff584c"),y=Object(n.getByPath)(f,["strokeColor"],"#ff584c"),v=Object(n.getByPath)(e,["size"],8);h.setTriangleSize(v),h.setTriangleFillColor(g),h.setTriangleStrokeColor(y);var x=Object(n.getByPath)(e,["lineStyle"]),b=Object(n.getByPath)(x,["width"],1);h.setLineWidth(b);var m=Object(n.getByPath)(x,["color"],"#ff584c");h.setlineColor(m),h.calculateLayout(),h.setTriangleOnEnterCallback(t.onEnter,sn({},e)),h.setTriangleOnLeaveCallback(t.onLeave,sn({},e)),i.annotationMarkLines.push(h),i.containerRenderItem.add(h)}}}})}}))},t}(),cn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ln=function(){return(ln=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},un=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n},pn=ve.default.EVENT_IDS,dn=ve.default.Event,fn=ve.default.UCharts,gn={},yn="uw-chart-instance",vn={paddingTop:20,paddingBottom:10,paddingLeft:10,paddingRight:10},xn=function(){function t(t,e){if(this.topCanvas=null,this.middleCanvas=null,this.bottomCanvas=null,this.tipContainer=null,this.barCanvas=null,this.parentDom=null,this._needRefresh=!0,this._paintAll=!0,this.width=0,this.height=0,this.optionManager=new l,this.paddings=Object(n.assign)({},vn),this.barHeight=40,this.toolboxHeight=0,this.tootltipTimer=null,this._hoverList=[],this._isRefashTitle=!0,this.radarManager=new Qe,this.swimLaneManager=new pi,this.viewClip=new Ge,this.chartLineViewClip=new Ge,this.pagination=new qe,this.toolbox=new Yi,this.dispatchActionHandler=new Ki,this.groupId=null,this.chartUniqId=Object(n.uuid)(),this.operateCanvasDirty=!0,this.markLineManager=new hn,this.handleTooltipInCoordinateRegion=!1,this.dispatchAction=function(t){this.dispatchActionHandler.dispatchAction(t,{dataContainer:this.dataContainer,bottomCanvas:this.bottomCanvas,middleCanvas:this.middleCanvas,height:this.parentDom.clientHeight||this.height,width:this.parentDom.clientWidth||this.width})},this.on=function(t,e,i){this.dispatchActionHandler.on(t,e,i)},this.off=function(t,e){this.dispatchActionHandler.off(t,e)},this.setGroupId=function(t){var e=this;this.groupId=t,this.coordinateControll.setGroupId(t),dn.listen(pn.mousemove,function(t){var i=e.topCanvas?e.topCanvas.getBoundingClientRect().top:0,n=e.topCanvas?e.topCanvas.height:0;(i+n>0&&i+n<window.innerHeight||i>0&&i<window.innerHeight)&&e.groupMousemoveHandler(t)},t,this._instanceId);fn.connect("mouseleaveGroupId"),dn.listen(pn.mouseleave,function(t){e._clearMarkPointAnimation(),e._clearTopCanvas(t,e.tooltip,t.chartUniqId)},"mouseleaveGroupId",this._instanceId);fn.connect("dataZoomGroupId"),dn.listen(pn.dataZoom,this.changeProgress,"dataZoomGroupId",this._instanceId);if(fn.connect("dataZoomResetGroupId"),dn.listen(pn.dataZoomReset,this.changeProgress,"dataZoomResetGroupId",this._instanceId),fn.setDataZoom("dataZoomResetGroupId",{start:0,end:1}),this.groupId){var i=fn.getDataZoom(this.groupId);if(!i)return;this.changeProgress(i.start,i.end)}},this.groupMousemoveHandler=function(t){var e=0;if(t&&t.items&&t.items.length>0&&t.count>1){var i=this.optionManager.getXAxisCount()-1;e=Math.round(i*t.items[0].dataIndex/(t.count-1))}for(var n=this.dataContainer.getPipelines(),o=0;o<n.length;o++){var r=n[o],a=!1;if(r instanceof P){for(var s=r.pointInfoList,h=s.length,c=0;c<h;c++)if(s[c].index==e){var l=s[c].point;if(l){t.chartUniqId!==this.chartUniqId&&this._handleHoverListener(null,l,!0),a=!0;break}}if(a)break}}},this._initEventListener=function(){var t=this;this._dettachEventListener(),this.container.addEventListener("mousedown",this.eventHandler.mousedownListener),this.container.addEventListener("mouseup",this.eventHandler.mouseupListener),this.container.addEventListener("mouseleave",this.eventHandler.mouseleaveListener),this.container.addEventListener("mousemove",this.eventHandler.mousemoveListener),this.container.addEventListener("mousewheel",this.eventHandler.mousewheelListener),this.container.addEventListener("dblclick",this._handleDbclickListener),this.tipContainer&&this.tipContainer.addEventListener("mouseleave",this.tooltip.hide),this.eventHandler.registerListener("mousedown",this.progressBar.mousedownListener),this.eventHandler.registerListener("mousedown",this._handleMousedownListener),this.eventHandler.registerListener("mousemove",this.progressBar.mousemoveListener),this.eventHandler.registerListener("mouseup",this.progressBar.mouseupListener),this.eventHandler.registerListener("mouseleave",this.progressBar.mouseleaveListener),this.eventHandler.registerListener("mouseleave",function(e){t._clearMarkPointAnimation(),t._clearTopCanvas(e,t.tooltip,t.chartUniqId);var i=(e.offsetX||e.layerX)+t.topCanvas.getBoundingClientRect().left,n=(e.offsetY||e.layerY)+t.topCanvas.getBoundingClientRect().top;dn.trigger(pn.leaveChart,{position:{x:i,y:n}});var o=t.dispatchActionHandler.getLeaverHandle();o&&o(),t.mouseoverTime&&clearTimeout(t.mouseoverTime),t.groupId&&dn.trigger(pn.mouseleave,{chartUniqId:t.chartUniqId},"mouseleaveGroupId")}),this.eventHandler.registerListener("mouseleave",function(){t._leaveCanvas()}),this.eventHandler.registerListener("mouseleave",this.toolbox.handleMouseLeave),this.eventHandler.registerListener("mousemove",this._handleHoverListener),this.eventHandler.registerListener("mousemove",function(e){t._legendSelect(e)}),this.eventHandler.registerListener("mousemove",this.toolbox.handleMouseMove),this.eventHandler.registerListener("mousemove",this._handleHBMouseMove),this.eventHandler.registerListener("mousedown",function(e){t.legendClick(e)}),this.eventHandler.registerListener("mousedown",function(e){var i=y(e);t.swimLaneManager.tableRender.onMouseDown(i.x,i.y)}),this.eventHandler.registerListener("mousedown",this.toolbox.handleMouseDown),this.eventHandler.registerListener("propertyChange",function(e){t._onPropertyChange(e)}),this.optionManager.getDataZoom()&&this.eventHandler.registerListener("mousewheel",function(e){t._coordinateRegionWheelListener(e)}),this.eventHandler.registerListener("mousedown",this.coordinateControll.handleMouseDownForDrag),this.eventHandler.registerListener("mousemove",this.coordinateControll.handleMouseMoveForDrag),this.eventHandler.registerListener("mouseup",this.coordinateControll.handleMouseUpForDrag),this.eventHandler.registerListener("mouseleave",this.coordinateControll.handleMouseLeaveForDrag);var e=this.markLineManager;this.eventHandler.registerListener("mousedown",e.handleMouseDown),this.eventHandler.registerListener("mousemove",e.handleMouseMove),this.eventHandler.registerListener("mouseup",e.handleMouseUp),this.eventHandler.registerListener("mouseleave",e.handleMouseLeave),window.addEventListener("resize",this.onresizeAction)},this._dettachEventListener=function(){window.removeEventListener("resize",this.onresizeAction),this.container.removeEventListener("mousedown",this.eventHandler.mousedownListener),this.container.removeEventListener("mouseup",this.eventHandler.mouseupListener),this.container.removeEventListener("mouseleave",this.eventHandler.mouseleaveListener),this.container.removeEventListener("mousemove",this.eventHandler.mousemoveListener),this.container.removeEventListener("mousewheel",this.eventHandler.mousewheelListener),this.tipContainer&&(this.tipContainer.removeEventListener("mouseleave",this.eventHandler.mouseleaveListener),this.tipContainer.removeEventListener("mouseleave",this.tooltip.hide)),this.eventHandler.unRegisterListener("mousedown"),this.eventHandler.unRegisterListener("mousemove"),this.eventHandler.unRegisterListener("mouseup"),this.eventHandler.unRegisterListener("mouseleave"),this.eventHandler.unRegisterListener("propertyChange"),this.eventHandler.unRegisterListener("mousewheel")},this.parentDom=e,this._instanceId=Object(n.uuid)(),e){var i=e.getAttribute(yn);i&&gn[i]&&(gn[i].destroy(),delete gn[i]),e.setAttribute(yn,this._instanceId)}this.type=t;var o=function(t,e){if(t){var i=document.createElement("div");i.style.position="relative","line"===e&&(i.style.cursor="crosshair");var n=bn(),o=bn(),r=bn(),a=bn(),s=bn(),h=function(){var t=document.createElement("div");return b(t,{position:"absolute",display:"none",whiteSpace:"nowrap",zIndex:"9999999",transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.2s cubic-bezier(0.23, 1, 0.32, 1)",left:"10px",top:"10px"}),t}();return h.chartDom=i,t.appendChild(i),i.appendChild(o),"HBar"!==e&&i.appendChild(a),i.appendChild(r),i.appendChild(n),i.appendChild(s),document.body.appendChild(h),{container:i,topCanvas:n,barCanvas:o,middleCanvas:r,bottomCanvas:a,tipContainer:h,operateCanvas:s}}}(e,this.type);gn[this._instanceId]=this,this.container=o.container,this.topCanvas=o.topCanvas,this.middleCanvas=o.middleCanvas,this.bottomCanvas=o.bottomCanvas,this.operateCanvas=o.operateCanvas,this.tipContainer=o.tipContainer,this.barCanvas=o.barCanvas,this.bottomLayer=new Gi(this.bottomCanvas),this.changeProgress=this.changeProgress.bind(this),this.eventHandler=new g,this.progressBar=this.createProgressBar(this.barHeight),this._handleHoverListener=this._handleHoverListener.bind(this),this.groupMousemoveHandler=this.groupMousemoveHandler.bind(this),this._handleMousedownListener=this._handleMousedownListener.bind(this),this._handleDbclickListener=this._handleDbclickListener.bind(this),this._handleHBMouseMove=this._handleHBMouseMove.bind(this),this.onresizeAction=this.onresizeAction.bind(this),this.tooltip=new x(this.tipContainer),this.legend=new te(this.width),this.legend.align="middle",this.legend.setEventHandler(this.eventHandler),this.dataContainer=new Qt(this.eventHandler),this.propertyChangeHandler=new ne(this),this.coordinateControll=new We,this.coordinateControll.setEventHandler(this.eventHandler),this.coordinateControll.setToolbox(this.toolbox),this.coordinateControll.setZoomChangeCallback(this.changeProgress),this.toolbox.setEventHandler(this.eventHandler),this.toolbox.setProgressBar(this.progressBar),this.toolbox.setZoomChangeCallback(this.changeProgress),this.bgImageControll=new Ue(this.optionManager),this.properties={},this.radarManager.setEventHandler(this.eventHandler),this.radarManager.setOptionManager(this.optionManager),this.survivalMonitor(),this.initResizeListener()}return t.prototype.resetFieldWhileSetOption=function(){this.handleTooltipInCoordinateRegion=!1},t.prototype.initResizeListener=function(){var t=this;this.parentDom.parentNode&&window.MutationObserver&&(this.observer=new window.MutationObserver(function(e){for(var i=0,n=e;i<n.length;i++){switch(n[i].type){case"attributes":t.onresizeAction()}}}),this.observer.observe(this.parentDom.parentNode,{attributes:!0,attributeOldValue:!0}))},t.prototype.onresizeAction=function(){var t=getComputedStyle(this.parentDom).getPropertyValue("width"),e=getComputedStyle(this.parentDom).getPropertyValue("height");parseInt(t,10)===this.width&&parseInt(e,10)===this.height||(this.container.style.width=t+"px",this.container.style.height=e+"px",this.parentDom.style.width=t+"px",this.parentDom.style.height=e+"px",this.width=parseInt(t,10),this.height=parseInt(e,10),this.setOption(this.optionManager.getOption(),this.themeCache))},t.prototype.initBottomLayers=function(){this.bottomLayer.clearAll();var t=new Ye;t.setCoordianteController(this.coordinateControll),this.bottomLayer.add(t);var e=new di;e.setSwimLaneManager(this.swimLaneManager),this.bottomLayer.add(e);var i=new $e;i.setRadarManager(this.radarManager),this.bottomLayer.add(i);var n=new mn;n.init(this.optionManager.getTitle(),this.paddings),this.bottomLayer.add(n);var o=new On;o.setPagination(this.pagination),o.setLegend(this.legend);var r=new Xi;r.setToolbox(this.toolbox),this.bottomLayer.add(r),this.bottomLayer.add(o)},t.prototype.setOption=function(t,e){var i=this;this.startTime=(new Date).getTime(),this.resetFieldWhileSetOption(),this.themeCache=e,this.progressBar.setLeftBtnValue(0),this.progressBar.setRightBtnValue(1),this.optionManager.getFromOption("markLine")!==t.markLine&&this.setOperateCanvasDirty(!0),this.optionManager.setOption(t,e);var n=this.parentDom.clientWidth||this.width,o=this.parentDom.clientHeight||this.height,r=0!=this.optionManager.getFromOption("legend.show");this.legend.setVisible(!!r,!0);var a=this.optionManager.getFromOption("legend.align");a&&(this.legend.align=a),this.swimLaneManager.setOptionManager(this.optionManager);var s={width:parseInt(n),height:parseInt(o),chart:this,radarManager:this.radarManager,swimLaneManager:this.swimLaneManager};this.optionManager.setSize({width:n,height:o}),this.initCanvasTime=(new Date).getTime(),this.dataContainer.initPipelines(this.optionManager,s),this.initPipelineTime=(new Date).getTime();var h=this.optionManager.getFromOption("legend.scroll",!1);this.legend.setScroll(h);var c=this.optionManager.getFromOption("legend.color",!1);this.legend.setFontColor(c),this.coordinateControll.initCoordinate(this.optionManager,this.dataContainer,this.progressBar),this.initCoordinateTime=(new Date).getTime(),this.initToolbox(),this.chartLineViewClip.setSize(n,o),this.chartLineViewClip.setPosition(0,0),this.chartLineViewClip.setInnerWidth(n),this.setSize(n,o,this.optionManager.getGrid()),this.toolbox.setParentRect({x:0,y:0,width:parseFloat(n),height:parseFloat(o)}),this.dataContainer.getPipelines().forEach(function(t){(t instanceof P||t instanceof qt||t instanceof ot)&&t.setCoordinate(i.coordinateControll.getCoordinate())});var l=this.optionManager.getFromOption("radar");this.radarManager.putRadar(l,0),this.radarManager.calculate(),this.transformChartLine(),this.transformChartRadar(),this._initEventListener(),this.transformChartTime=(new Date).getTime(),this.trigger(function(){i.needRefresh()&&i.draw()}),this.initResetBtn(!0)},t.prototype.getPipelineById=function(t){return this.dataContainer.getPipelineById(t)},t.prototype.setSize=function(t,e,i){var o=parseInt(t),r=parseInt(e);this.width=o,this.height=r,this.container.style.width=o+"px",this.container.style.height=r+"px",Object(u.M)(this.topCanvas,o,r),Object(u.M)(this.middleCanvas,o,r),Object(u.M)(this.bottomCanvas,o,r),Object(u.M)(this.barCanvas,o,r),Object(u.M)(this.operateCanvas,o,r),i=i||Object(n.assign)({},vn);var a=Object(n.convertPercent)(this.width,i.paddingLeft),s=Object(n.convertPercent)(this.width,i.paddingRight),h=Object(n.convertPercent)(this.height,i.paddingTop),c=Object(n.convertPercent)(this.height,i.paddingBottom);this.paddings={paddingLeft:a,paddingRight:s,paddingTop:h,paddingBottom:c},this.optionManager.setSize({width:t,height:e}),this.calculateLayout();var l,p=0,d=0;if(this.toolbox.setPosition(0,0),this.toolbox.setWidth(t),l=Object(n.get)(this.toolbox.getRect(),"height",0),this.legend.isVisible()){if(this.legend.getInnerWidth()>this.legend.getWidth())d=this.legend.getRect().height;p=this.legend.getHeight(),p=Math.max(p,d)}this.initBottomLayers(),this.swimLaneManager.setWidth(this.width-a-s),this.swimLaneManager.calculate(),this.swimLaneManager.setPosition(a,0),this.swimLaneManager.calculateLayout();var f=this.swimLaneManager.tableRender.getRect();this.optionManager.getDataZoom()||(this.barHeight=0);var g={x:a,y:0,width:this.width-a-s,height:this.height-this.barHeight-p-l-c-h},y=Object(u.d)(g,{width:f.width,height:f.height},{horizontal:"left",vertical:"middle"},{horizontal:"left",vertical:"bottom"});this.swimLaneManager.setPosition(a,y.y),this.swimLaneManager.calculateLayout();var v={x:a,y:h+l,width:this.width-a-s,height:this.height-h-c-p-this.barHeight-l};this.coordinateControll.updateRegion(v),this.coordinateControll.handleXAsixChange(),this.markLineManager.handleData(this.optionManager,this.coordinateControll)},t.prototype.calculateLayout=function(){var t=this,e=this.width;this.legend.setWidth(e);var i=0;if(this.buildLegendItems(),this.legend.isVisible()){i=this.legend.getHeight(),this.legend.setPosition(0,this.height-i),this.legend.calculate();var o=this.legend.getInnerWidth(),r=this.legend.getRect(),a=r.height+0;i=Math.max(a,i),this.pagination.setViewClip(this.viewClip),this.pagination.setClickCallback(function(){t.legend.refresh()}),this.pagination.setViewClickCallback(function(e){t._legendClick({offsetX:e.x,offsetY:e.y})}),this.pagination.setPosition(0,this.height-i),this.pagination.setSize(this.width,a),this.pagination.setBtnSize(20,a),this.viewClip.setViewPos(0,this.height-i),this.viewClip.setInnerWidth(o);var s=this.pagination.getViewWidth();this.viewClip.setSize(s,r.height)}this.toolbox.setPosition(0,0),this.toolbox.setWidth(this.width),this.toolbox.calculate();var h=0,c=this.optionManager.getDataZoom();c&&(h=this.barHeight);var l=e-Object(n.convertPercent)(e,this.paddings.paddingLeft)-Object(n.convertPercent)(e,this.paddings.paddingRight);if(c){var u=this.height-h-i,p=Object(n.convertPercent)(e,this.paddings.paddingLeft);this.progressBar.resize(p,u,l,h),this.progressBar.setBoundRect({x:0,y:u-3,width:e,height:h+6}),this.progressBar.setVisible(!0),this.progressBar.setLeftBtnValue(c.start),this.progressBar.setRightBtnValue(c.end);var d=this.optionManager.getXAxisCount()-1,f=Math.round(d*c.start),g=Math.round(d*c.end);this.optionManager.setIndexRange(f,g)}else this.progressBar.setVisible(!1),this.progressBar.setLeftBtnValue(0),this.progressBar.setRightBtnValue(1)},t.prototype.transformChartLine=function(){var t=this,e={};(this.optionManager.getFromOption("series")||[]).forEach(function(t){var i=t.xAxisIndex||0,n=t.yAxisIndex||0;e[i]=e[i]||{},e[i][n]=e[i][n]||[],e[i][n].push(t.data||[])}),this._animationArray=[];var i=[],o=[];this.dataContainer.getPipelines().forEach(function(t){t instanceof m&&(t instanceof P||t instanceof ot)&&(t instanceof P?i.push(t):t instanceof ot&&o.push(t))});var r=function(i){if(i instanceof P||i instanceof ot||i instanceof qt){var o=i.getXAxisIndex(),r=i.getYAxisIndex(),a=0;e[o][r].forEach(function(t){a<t.length&&(a=t.length)});var s=t.getCoordinateInfo(o,r,a);if(i.setMatrix(s.transformatrix),i.setIndexRange(s.startIndex,s.endIndex),i instanceof P?i.calculatePointInfo(s.rect,Object(n.get)(s.rect,"width")):i.calculatePointInfo(),i.isAnimation()){var h=i.buildAnimation();t._animationArray.push(h)}}};i.forEach(function(t){r(t)});var a=this.dataContainer.getHeatMap();r(a);var s=this.coordinateControll.coordinate,h={horizontal:{},vertical:{}};o.forEach(function(t){var e=t.getYAxisIndex(),i=t.getXAxisIndex(),o=s.getVerticalAxisByIndex(e),r=s.getHorizontalAxisByIndex(i);0==o.isValueAxis()?(null==h.vertical[e]&&(h.vertical[e]=[]),Object(n.addIfAbsent)(h.vertical[e],t)):0==r.isValueAxis()&&(null==h.horizontal[i]&&(h.horizontal[i]=[]),Object(n.addIfAbsent)(h.horizontal[i],t))});var c=function(t){var e=[],i={},o=0;for(var r in t){var a=t[r];Object(n.quicklyForEach)(a,function(t){var r=t.getStack();if(r||Object(n.isNum)(r)){(a=i[r])||(a={isStack:!0,list:[]},i[r]=a,e.push(a),o++),Object(n.addIfAbsent)(a.list,t)}else{var a={isStack:!0,list:[t]};e.push(a),o++}})}Object(n.quicklyForEach)(e,function(t,e){Object(n.quicklyForEach)(t.list,function(i,n){i.setGroupCount(o),i.setIndex(e),i.setLevel(t.list.length-n-1)})})};c(h.vertical),c(h.horizontal),o.forEach(function(t){r(t)})},t.prototype.transformChartRadar=function(){var t=[];this.dataContainer.getPipelines().forEach(function(e){e instanceof Lt&&t.push(e)});var e=this.radarManager.getRadar();e&&(e.transformChartRadar(t),e.refresh())},t.prototype.buildLegendItems=function(){var t=this,e=[];this.dataContainer.getPipelines().forEach(function(i){if(i instanceof m)if(i instanceof Dt){var n=t.swimLaneManager.buildLegendItems();n instanceof Array&&(e=e.concat(n))}else{var o=i.getName(),r=i.getName(),a=t.optionManager.getFromOption("legend.formatter",!1);if("function"==typeof a&&(r=a(o)),o){var s=new re;s.setColor(i.getColor()),s.setName(o),s.setShowName(r),s.setId(i.getId()),s.setFont(t.legend.font),s.setFontColor(t.legend.fontColor),e.push(s)}}}),this.legend.setLegends(e)},t.prototype.getSize=function(){return{width:this.width,height:this.height}},t.prototype.destroy=function(){this._survivalTimer&&(clearTimeout(this._survivalTimer),this._survivalTimer=null),this.loopTimer&&(cancelAnimationFrame(this.loopTimer),this.loopTimer=null),this._dettachEventListener(),this.destroyAllAnimation(),this.tipContainer&&document.body.contains(this.tipContainer)&&document.body.removeChild(this.tipContainer),this._instanceId&&(dn.removeByInstanceId(this._instanceId),gn[this._instanceId]&&delete gn[this._instanceId]),this.observer&&"function"==typeof this.observer.disconnect&&(this.observer.disconnect(),this.observer=null),this.parentDom.contains(this.container)&&(this.parentDom.removeChild(this.container),this.parentDom.removeAttribute(yn),this.topCanvas=null,this.middleCanvas=null,this.barCanvas=null,this.bottomCanvas=null,this.tipContainer=null,this.operateCanvas=null),this.dataContainer.destroy(),this.optionManager.destroy(),this.viewClip&&this.viewClip.destroy(),this.chartLineViewClip&&this.chartLineViewClip.destroy(),Object(u.a)(),this.eventHandler.destroy(),this.bottomLayer.clearAll()},t.prototype.createProgressBar=function(t){var e=this,i=t,n=this.height-i,o=this.paddings.paddingLeft,r=this.width-this.paddings.paddingLeft-this.paddings.paddingRight,a=new f(this.topCanvas,this.optionManager,o,n,r,i,20,0,1,function(){e.eventHandler.dispatchPropertyChangeEvent({type:"xAxisChange"})},10,i);return a.setVisible(!1),a},t.prototype._handleXAsixChange=function(){var t={};(this.optionManager.getFromOption("series")||[]).forEach(function(e){var i=e.xAxisIndex||0,n=e.yAxisIndex||0;t[i]=t[i]||{},t[i][n]=t[i][n]||[],t[i][n].push(e.data||[])});var e=this;this.coordinateControll.handleXAsixChange(function(){e.setOperateCanvasDirty(!0),e.dataContainer.getPipelines().forEach(function(i){if(i instanceof P||i instanceof qt||i instanceof ot){var o=i.getXAxisIndex(),r=i.getYAxisIndex(),a=0;t[o][r].forEach(function(t){a<t.length&&(a=t.length)});var s=e.getCoordinateInfo(o,r,a);i.setMatrix(s.transformatrix),i.setIndexRange(s.startIndex,s.endIndex),i.calculatePointInfo(s.rect,Object(n.get)(s.rect,"width"))}})}),this.markLineManager.handleData(this.optionManager,this.coordinateControll)},t.prototype.clearOperateCanvas=function(){var t=Object(u.v)(this.operateCanvas);t&&(t.save(),t.clearRect(0,0,this.width,this.height),t.restore(),t.save())},t.prototype.clearBarCanvas=function(){var t=Object(u.v)(this.barCanvas);t&&(t.save(),t.clearRect(0,0,this.width,this.height),t.restore(),t.save())},t.prototype.setOperateCanvasDirty=function(t){this.operateCanvasDirty=!!t},t.prototype.isOperateCanvasDirty=function(){return!0===this.operateCanvasDirty},t.prototype.changeProgress=function(t,e){var i=t,n=e;if(void 0!==t.left&&t.right){if(!this.optionManager.showResetBtn())return;if(this.coordinateControll==t.coordinateControll)return void(this.optionManager.showResetBtn()&&fn.setDataZoom(this.groupId,{start:i,end:n}));i=t.left,n=t.right}var o=this.progressBar.getLeftBtnValue(),r=this.progressBar.getRightBtnValue();if(o!==t||r!==e){this.progressBar.setLeftBtnValue(i),this.progressBar.setRightBtnValue(n);var a=this.optionManager.getXAxisCount()-1,s=Math.round(a*i),h=Math.round(a*n);this.optionManager.setIndexRange(s,h);var c=this.optionManager.getXAxisData(0);if(c.length>=h-1){var l=c[s],u=c[h],p=this.dispatchActionHandler.getDataZoomHandle();p&&p({type:"dataZoom",start:i,end:n,startValue:l,endValue:u})}0===i&&1===n?(this.dataContainer.clearAttachments(),this.hideResetBtn(!0),this.setOperateCanvasDirty(!0)):(this.initResetBtn(!1),this.hideResetBtn(!1)),this.eventHandler&&this.eventHandler.dispatchPropertyChangeEvent({type:"xAxisChange"})}},t.prototype.hideResetBtn=function(t){Object(n.quicklyForEach)(this.dataContainer.getAttachments(),function(e){e&&"resetBtn"===e.id&&e.setVisible(!t)})},t.prototype.initResetBtn=function(t){var e=this;if(this.optionManager.showResetBtn()){var i=this.dataContainer.getAttachments(),n=!1;if(t)i.length>0&&this.dataContainer.clearAttachments();else this.dataContainer.getAttachments().forEach(function(t){"resetBtn"==t.id&&(n=!0)});if(!n){var o=this.optionManager.getDataZoomResetLabel(),r=new ie("resetBtn",o);r.setCallback(function(){e.setOperateCanvasDirty(!0)}),this.dataContainer.addAttachments(r)}0==this.progressBar.getLeftBtnValue()&&1===this.progressBar.getRightBtnValue()&&this.hideResetBtn(!0)}},t.prototype.drawResetBtn=function(){var t;if(this.dataContainer.getAttachments().forEach(function(e){"resetBtn"==e.id&&(t=e)}),t){var e=t.getRect();if(e&&this.coordinateControll.getCoordinate()){var i=this.coordinateControll.getCoordinate().getCoordinateRect();if(Object(u.O)(i)){t.setLocation({x:i.x+i.width-e.width,y:i.y});var n=Object(u.v)(this.operateCanvas);n&&t.draw(n)}}}},t.prototype.getCoordinateInfo=function(t,e,i){return void 0===i&&(i=void 0),this.coordinateControll.getCoordinateInfo(t,e,i)},t.prototype._legendSelect=function(t){if(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY,n=null;if(this.pagination.needPagination()){var o=this.pagination.transformPos(e,i);n=this.legend.getLegendItemByPos(o.x,o.y)}else Object(u.C)(this.legend.getRectExtend(),e,i)&&(n=this.legend.getLegendItemByPos(e,i));n?Object(p.setCursorById)(this.topCanvas,"pointer"):Object(p.setCursorById)(this.topCanvas,"default")}},t.prototype._onPropertyChange=function(t){"xAxisChange"==t.type?this._handleXAsixChange():t&&this.propertyChangeHandler.handle(t)},t.prototype.legendClick=function(t){this.legend.isVisible()&&(this.pagination.needPagination()?this.pagination.onClick(t):this._legendClick(t))},t.prototype._legendClick=function(t){if(t){var e=t.offsetX||t.layerX,i=t.offsetY||t.layerY,n=this.legend.getLegendItemByPos(e,i);if(n){var o=n.getName();n.setDisable(!n.isDisable()),"function"==typeof n.onClick&&n.onClick();var r=this.dataContainer.getPipelineByName(o);if(r){var a=1==n.isDisable();r.setVisible(!a)}this.legend.refresh()}}},t.prototype._leaveCanvas=function(){var t=this;this._hoverList.forEach(function(e){var i=t.dataContainer.getPipelineById(e);i&&i.onLeave&&i.onLeave()}),this._hoverList=[]},t.prototype._handleDbclickListener=function(t){var e=this,i=t.offsetX||t.layerX,n=t.offsetY||t.layerY;this._clearMarkPointAnimation(),this._clearTopCanvas(),this.dataContainer.getPipelines().forEach(function(t){if(t.isSelected){var o=t.isSelected({x:i,y:n});if(t.setSelected(o),e.dataContainer.dirtyList.push(t),t instanceof m&&o)return e.optionManager.getDBClickEvent()(t)}})},t.prototype._handleMousedownListener=function(t){var e=this,i=this._getCoordinateRegion(),n=t.offsetX||t.layerX,o=t.offsetY||t.layerY;this._clearMarkPointAnimation(),this._clearTopCanvas();var r=this.dataContainer.getPipelines(),a=!0;if(r.forEach(function(t){if(t.isSelected){var i=t.isSelected({x:n,y:o});if(t.setSelected(i),e.dataContainer.dirtyList.push(t),i)return a=!1,t instanceof Pt?e.optionManager.getClickAttachmentEvent()(t):e.optionManager.getClickEvent()(t)}}),this.dataContainer.getAttachments().forEach(function(t){var i=t.getRect(),r="function"!=typeof t.isVisible||t.isVisible();Object(u.C)(i,n,o)&&r&&(e.changeProgress(0,1),fn.setDataZoom(e.groupId,{start:0,end:1}),e.dataContainer.clearAttachments(),e.setOperateCanvasDirty(!0),e.groupId&&dn.trigger(pn.dataZoomReset,{left:0,right:1,coordinateControll:e.coordinateControll}))}),a){var s=this.optionManager.getClickBlankEvent();if(s)return s({})}if(i&&Object(u.C)(i,n,o)&&this.optionManager.getFromOption("xAxis")){var h=this.handleLineHoverData(n,o,r);if([].push(h),r&&r.length>0&&(dn.hasListen(pn.click)||dn.hasListen(pn.lineClick))){var c=null;if(r[0]instanceof P){var l=h.selectedPoints,p=20;(void 0===l?[]:l).forEach(function(t,e){var i=Math.abs(t.point.x-n)+Math.abs(t.point.y-o);i<p&&(p=i,c=e)}),null!=c&&(h.items=h.items[c],h.items.serialIndex=c,h.items.yAxisIndex=r[c].yAxisIndex,t.stopPropagation(),dn.trigger(pn.lineClick,{x:n,y:o,lineData:h.items,rect:{top:this.topCanvas.getBoundingClientRect().top,left:this.topCanvas.getBoundingClientRect().left,width:this.topCanvas.width,height:this.topCanvas.height},groupId:this.dispatchActionHandler.getLineClickGroupId()}))}else r[0]instanceof ot?r.forEach(function(i){i.getRectList().forEach(function(r,a){Object(u.C)(r,n,o)&&(t.stopPropagation(),dn.trigger(pn.lineClick,{x:n,y:o,lineData:i.pointInfoList[a],rect:{top:e.topCanvas.getBoundingClientRect().top,left:e.topCanvas.getBoundingClientRect().left,width:e.topCanvas.width,height:e.topCanvas.height},groupId:e.dispatchActionHandler.getLineClickGroupId()}))})}):r[0]instanceof dt&&r.forEach(function(i){i.getHBarRects().forEach(function(i){Object(u.C)(i.rect,n,o)&&(t.stopPropagation(),dn.trigger(pn.lineClick,{x:n,y:o,lineData:i,type:"hbar",rect:{top:e.topCanvas.getBoundingClientRect().top,left:e.topCanvas.getBoundingClientRect().left,width:e.topCanvas.width,height:e.topCanvas.height},groupId:e.dispatchActionHandler.getLineClickGroupId()}))})});dn.hasListen(pn.click)&&dn.trigger(pn.click,ln(ln({},h),{groupId:this.dispatchActionHandler.getClickGroupId()}))}}},t.prototype._handleHBMouseMove=function(t){var e=this,i=this.dataContainer.getPipelines()[0];if(i instanceof dt){var n=i.getHBarRects(),o=t.offsetX||t.layerX,r=t.offsetY||t.layerY;n.forEach(function(t){Object(u.C)(t.rect,o,r)&&e._handleTooltip(o,r,[{title:t.title,items:[{names:t.names,values:t.values,colors:t.valueColorGroup,title:t.title,seriesType:"hbar",unit:t.unit,seriesName:t.seriesName,info:t.info}]}],e.optionManager,t.rect)})}},t.prototype._handleHoverListener=function(t,e,i){var n=this;void 0===i&&(i=!1);var o=Object(u.v)(this.topCanvas);if(o){var r=this.coordinateControll.getCoordinate().getCoordinateRect(),a=r,s=0,h=0;e?(s=e.x,h=e.y):(s=t.offsetX||t.layerX,h=t.offsetY||t.layerY),this.markPointAnimation&&(this.markPointAnimation.cancel(),this.markPointAnimation=null),this._clearMarkPointAnimation(),this._clearTopCanvas();var c=this.dataContainer.getPipelines(),l=[],p=this.handleTooltipInCoordinateRegion?a:r;if(p&&Object(u.C)(p,s,h)&&this.optionManager.getFromOption("xAxis")){this.handleTooltipInCoordinateRegion=!0;var d=this.handleLineHoverData(s,h,c);e||c.length>0&&c[0]instanceof P&&this.groupId&&dn.trigger(pn.mousemove,ln(ln({},d),{count:this.optionManager.getXAxisCount(),chartUniqId:this.chartUniqId}));var f=d.selectedPoints,g=void 0===f?[]:f,y=d.items,v=void 0===y?[]:y;this.markPointAnimation&&this.markPointAnimation.done(!0),this.markPointAnimation=new C(100,function(t){var e=t/100;n._clearTopCanvasRect(),e>=0&&n._drawMarkPoints(s,h,d,4*e),n.coordinateControll.drawZoomRect(o)}),this.markPointAnimation.run(),l.push(d),this.mouseoverTime&&clearTimeout(this.mouseoverTime),this.mouseoverTime=setTimeout(function(){if(n.optionManager.getPointSelectedAnimation()&&t){var e,i=!1;g.forEach(function(t,n){var o=v[n].value;if(Math.abs(t.point.x-s)<10&&Math.abs(t.point.y-h)<10&&o)return i=!0,void(e=n)}),c.forEach(function(t,n){i&&n!=e?(t.setRGBA(t.color),t.setLevel(-1)):t.color!=t.hexColor&&(t.setColor(t.hexColor),t.setLevel(1))})}},200)}else this.handleTooltipInCoordinateRegion=!1;c.forEach(function(t){if(t instanceof Lt){if(t.getPointInfo(s,h)){var e=t.getRadarIndex(),i=n.radarManager.getRadar(e),o={items:[],title:t.getName()};if(i){for(var r=i.getFromRadarPram("indicator",[]),a=t._valueArray||[],c=0;c<r.length&&c<a.length;c++){var p=r[c],d=a[c];null!=d&&p&&o.items.push({seriesType:t.getSeriesType(),seriesName:t.getName(),label:p.name||p.text,chartLineId:t.getId(),value:d,color:t.getColor()})}l.push(o)}}}else if(t instanceof Dt){var f=n.swimLaneManager.tableRender.getRect();if(f&&Object(u.C)(f,s,h))(p=t.getHover(s,h))&&l.push({items:[p]})}else if(t instanceof qt){var g=t,y=n.coordinateControll.coordinate.getCoordinateRect();if(Object(u.O)(y)&&Object(u.C)(y,s,h))(p=g.getHover(s,h))&&l.push({items:[p]}),g.setHover(!0,{x:s,y:h});else g.setHover(!1,{x:s,y:h})}});var x=[],b=[],m=this._hoverList.concat();c.forEach(function(t){if(t instanceof G&&t.getHover(s,h,l)){var e=t.getId();e&&b.push(e)}});var O=null;if(this.pagination.needPagination()){if(this.viewClip.isInRectRegion(s,h)){var w=this.pagination.transformPos(s,h);O=this.legend.getLegendItemByPos(w.x,w.y)}}else O=this.legend.getLegendItemByPos(s,h);if(O){var _=O.getId(),j=this.dataContainer.getPipelineById(_),A={items:[]};if(j instanceof I&&j.getParent()){var L=j.getParent();L.setLabelParam(null);var F=L.getId();if(F&&b.indexOf(F)<0&&b.push(F),!O.isDisable()){b.push(_);var S=j.buildTooltipInfo();A.items.push(S),L.setLabelParam(S),l.push(A)}}}b.forEach(function(t){var e=m.indexOf(t);e<0?x.push(t):m.splice(e,1)}),m.forEach(function(t){var e=n.dataContainer.getPipelineById(t);e&&e.onLeave&&e.onLeave()}),x.forEach(function(t){var e=n.dataContainer.getPipelineById(t);e&&e.onEnter&&e.onEnter()}),this._hoverList=b,this.swimLaneManager.onMouseMove(s,h),this._handleTooltip(s,h,l,this.optionManager,{width:this.topCanvas.width,height:this.topCanvas.height},i)}},t.prototype._coordinateRegionWheelListener=function(t){var e=this._getCoordinateRegion();if(this.progressBar&&this.progressBar.isVisible()){var i=this.progressBar.getRegion();e=Object(u.E)(e,i)}var n=t.offsetX||t.layerX,o=t.offsetY||t.layerY;if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.markPointAnimation&&(this.markPointAnimation.cancel(),this.markPointAnimation=null),Object(u.C)(e,n,o)){var r=t.wheelDelta,a=0;0!=(a=Math.abs(r)>10?r/120:r/3)&&this.eventHandler.dispatchPropertyChangeEvent({type:"mousewheel",source:this,value:a})}return!1},t.prototype._clearTopCanvas=function(t,e,i){if(void 0===t&&(t=null),void 0===e&&(e={}),void 0===i&&(i=""),e.enterable){if(this.topCanvas){var n=t&&(t.offsetX||t.layerX)+this.topCanvas.getBoundingClientRect().left,o=t&&(t.offsetY||t.layerY)+this.topCanvas.getBoundingClientRect().top,r={x:this.tipContainer&&this.tipContainer.getBoundingClientRect().x,y:this.tipContainer&&this.tipContainer.getBoundingClientRect().y,width:this.tipContainer&&this.tipContainer.getBoundingClientRect().width,height:this.tipContainer&&this.tipContainer.getBoundingClientRect().height};Object(u.C)(ln(ln({},r),{y:r.y-5}),n,o)||Object(u.C)(ln(ln({},r),{y:r.y+5}),n,o)||this.tooltip.hide()}}else this.tooltip.hide();if(this.topCanvas){var a=this.dispatchActionHandler.getTooltipHideHandle();if(i&&i!==this.chartUniqId)a&&a();else if(t){n=t.offsetX||t.layerX,o=t.offsetY||t.layerY;var s=this.topCanvas.getBoundingClientRect().width;!n||!o||o>5&&n>5&&n<s||a&&a({position:{x:n+this.topCanvas.getBoundingClientRect().left,y:o+this.topCanvas.getBoundingClientRect().top}})}this._clearTopCanvasRect()}},t.prototype._clearTopCanvasRect=function(){var t=Object(u.v)(this.topCanvas);if(t){var e=parseInt(this.topCanvas.width),i=parseInt(this.topCanvas.height);t.save(),window.devicePixelRatio<1?t.clearRect(0,0,2*e,2*i):t.clearRect(0,0,e,i),t.restore()}},t.prototype._clearMarkPointAnimation=function(){this.markPointAnimation instanceof C&&this.markPointAnimation.cancel(),this.markPointAnimation&&(this.markPointAnimation=null)},t.prototype._handleTooltip=function(t,e,i,n,o,r){if(void 0===r&&(r=!1),this.topCanvas){if(!0===this.needStopShowTip()){this.tooltip.hide();var a=this.dispatchActionHandler.getTooltipHideHandle();a&&a()}else{this.tooltip.coordinateRect=this._getCoordinateRegion();var s=this.dispatchActionHandler.getTooltipShowHandle();s&&s({x:t,y:e,datas:i,offset:20,rect:ln(ln({},o),{left:this.tipContainer.chartDom.getBoundingClientRect().left,top:this.tipContainer.chartDom.getBoundingClientRect().top,coordinateRect:this.tooltip.coordinateRect}),optionManager:n,isFromConnect:r}),this.tooltip.show(t,e,i,20,o,n)}}},t.prototype.needStopShowTip=function(){return!!(this.coordinateControll&&this.coordinateControll.dragActionHandler&&this.coordinateControll.dragActionHandler.isPress())},t.prototype._getCoordinateRegion=function(){return this.coordinateControll.getCoordinateRegion()},t.prototype.refresh=function(){this._needRefresh=!0},t.prototype.handleLineHoverData=function(t,e,i){var o={},r=[];o.items=[],o.selectedPoints=r,o.items=[];var a=[];if(i)for(var s=0;s<i.length;s++){var h=i[s];if(h&&h.isVisible()){var c=void 0;if(h instanceof P||h instanceof ot)if((c=h.getPointInfo(t,e))instanceof Array||(c=[c]),"item"==this.optionManager.getFromOption("tooltip.trigger")){if(Object(n.checkPoint)(Object(n.getByPath)(c,["0","point"])))if(a.length<1)a=[{chartLine:h,serieIndex:s,pointInfos:c}];else Object(w.a)(c[0].point,{x:t,y:e})<=Object(w.a)(a[0].pointInfos[0].point,{x:t,y:e})&&(a=[{chartLine:h,serieIndex:s,pointInfos:c}])}else a.push({chartLine:h,serieIndex:s,pointInfos:c})}}return a.forEach(function(t){for(var e=t.chartLine,i=t.pointInfos,a=t.serieIndex,s=e.getColor(),h=0;h<i.length;h++){var c=i[h];null!=c&&c.point&&(o.items.push({seriesType:e.getSeriesType(),axisValueLabel:c.xValue,seriesName:e.getName(),chartLineId:e.getId(),serialIndex:a,yAxisIndex:e.yAxisIndex,dataIndex:c.index,value:c.yValue,color:c.getAddionalDataByKey("color")||s,description:Object(n.get)(c.getAdditionalData(),"description")}),r.push({seriesName:e.getName(),chartLineId:e.getId(),point:c.point,color:s}),o.title||(o.title=c.xValue))}}),o},t.prototype.draw=function(){var t=(new Date).getTime();this.bottomLayer.draw();var e=Object(u.v)(this.bottomCanvas);if(e&&this.markLineManager.drawMarkLine(e),this.isOperateCanvasDirty()){this.clearOperateCanvas(),this.clearBarCanvas();var i=Object(u.v)(this.operateCanvas);i&&(this.bgImageControll.drawBackgroudImage(i,this.width,this.height),this.drawResetBtn()),this.drawMarkAreaAction(),this.drawGlobeMarkLineAction(),this.drawStatTextAction(),this.setOperateCanvasDirty(!1)}var n=Object(u.v)(this.barCanvas);if(n&&this.progressBar.needRefresh()&&(this.progressBar.beforeDraw(n),this.progressBar.draw(n)),this.dataContainer.dirtyList.length>0||this._needRefresh){try{this._refreshPipeline();var o=(new Date).getTime();dn.trigger(pn.didMount,{initTime:this.transformChartTime-this.startTime,drawTime:o-t,initCanvasTime:this.initCanvasTime-this.startTime,initPipelineTime:this.initPipelineTime-this.initCanvasTime,initCoordinateTime:this.initCoordinateTime-this.initPipelineTime,transformChartTime:this.transformChartTime-this.initCoordinateTime,drawCount:{lineCount:this.dataContainer.pipelines&&this.dataContainer.pipelines.length,valueCount:this.dataContainer.pipelines&&this.dataContainer.pipelines[0]&&this.dataContainer.pipelines[0].valueArray&&this.dataContainer.pipelines[0].valueArray.length||0},groupId:this.dispatchActionHandler.getRenderGroupId()})}catch(t){console.log(t)}this.dataContainer.clearDirty()}this._needRefresh=!1},t.prototype._refreshPipeline=function(){var t=this;if(this.middleCanvas){var e=this.optionManager.getFromOption("stat");if(e&&!e.showArea)return;var i=this.dataContainer.pipelines,o=un(i);o.sort(function(t,e){return t.level-e.level});var r=Object(u.v)(this.middleCanvas);r&&(r.save(),r.clearRect(0,0,this.width,this.height),r.restore(),r.save());var a,s=0!=this.optionManager.getFromOption("useOfflineCanvas"),h=void 0;if(s){h=document.createElement("canvas");var c=this.parentDom.clientWidth||this.width,l=this.parentDom.clientHeight||this.height;o.length>50?(h.height=l,h.width=c):Object(u.M)(h,parseInt(c,10),parseInt(l,10)),a=Object(u.v)(h)||r}else a=r;for(var p=o.length-1;p>=0;p--){var d=o[p];d&&d.isVisible()&&(a.save(),d instanceof P&&d.getAreaStyle()&&d.getAreaStyle()&&d.drawArea(a,d._drawPercent),a.restore())}var f=0,g=[],y=Object(n.simpleFilter)(o,function(t){if(t instanceof P&&t.isVisible()){var e=Object(n.getByPath)(t.getPointInfoList(),["length"],0);f=Object(n.getMax)(f,e);var i=Object(n.getIndexRangeFromPercent)(e,0,t._drawPercent).endIndex;if(g.push(i),t.getShowType().indexOf("bar")>=0)return t}}),v=this.coordinateControll.coordinate.getCoordinateRect();Object(u.O)(v)&&(a.save(),a.beginPath(),a.rect(v.x,v.y,v.width,v.height),a.clip());var x=function(t){for(var e=[],i=0;i<y.length;i++){var o=y[i],r=g[i],s=o.getPointInfoList();r>=t&&s[t]&&Object(n.checkPoint)(s[t].point)&&e.push({pipe:o,y:s[t].point.y,trueValue:s[t].getYValue()})}e.sort(function(t,e){var i=t.y-e.y;return 0==i?t.trueValue-e.trueValue:i}),e.forEach(function(e){e.pipe.drawBarByIndex(a,t)})};for(p=0;p<f;p++)x(p);if(Object(u.O)(v)&&a.restore(),o.forEach(function(e){e&&e.isVisible()&&(e instanceof P?(e.setViewClip(t.chartLineViewClip),e.draw(a)):e.draw(a),t._needRefresh=!1,t.dataContainer.removeFromDirty(e))}),a.restore(),s&&r){c=this.parentDom.clientWidth||this.width,l=this.parentDom.clientHeight||this.height;Object(n.isNum)(c)&&Object(n.isNum)(l)&&r.drawImage(h,0,0,parseInt(c,10),parseInt(l,10))}this._needRefresh=!1}},t.prototype._drawMarkPoints=function(t,e,i,n){void 0===n&&(n=4),this._animationArray&&(this._animationArray.forEach(function(t){t instanceof C&&t.done(!0)}),this._animationArray=null);var o=Object(u.v)(this.topCanvas);o&&this.coordinateControll.drawMarkPoints(o,t,e,i,n)},t.prototype.needRefresh=function(){return this._needRefresh||this.progressBar&&this.progressBar.needRefresh()||this.dataContainer.isDirty()||this.bottomLayer.isDirty()||this.isOperateCanvasDirty()},t.prototype.survivalMonitor=function(){var t=this;this._survivalTimer&&(clearTimeout(this._survivalTimer),this._survivalTimer=null),document.body.contains(this.container)&&document.body.contains(this.middleCanvas)?this._survivalTimer=setTimeout(function(){t.survivalMonitor()},2e3):this.destroy()},t.prototype.destroyAllAnimation=function(){this.markPointAnimation&&(this.markPointAnimation.cancel(),this.markPointAnimation=null),Object(n.quicklyForEach)(this._animationArray,function(t){t&&Object(n.callSafe)(t.cancel,{})}),this._animationArray=[]},t.prototype.drawGlobeMarkLineAction=function(){var t=Object(u.v)(this.operateCanvas);t&&function(t,e,i,o){var r=Object(n.get)(e,"option.theme"),a=e.getFromOption("markLine");if(a&&a.data&&a.lineStyle){var s=Object(n.get)(e.getXAxisData(),"length"),c={};o.getPipelines().forEach(function(t){if(t instanceof P||t instanceof ot){var e=t.getYAxisIndex(),i=t.getXAxisIndex(),o=Object(n.getByPath)(c,[i,e]);o||(o=[],Object(n.setByPath)(c,[i,e],o)),o.push(t)}}),a.data.forEach(function(e){var c=Object(n.getByPath)(a,["symbol"]),l=a.lineStyle,p=Object(n.get)(a,"label"),f=Object(n.get)(a,"yAxisIndex")||0,g=Object(n.get)(a,"xAxisIndex",0),y={},v={};e.lineStyle&&(l=e.lineStyle),e.symbol&&(c=e.symbol),e.label&&(p=e.label),(e.yAxisIndex||0===e.yAxisIndex)&&(f=e.yAxisIndex),Object(n.isNum)(e.xAxisIndex)&&(g=e.xAxisIndex);var x=i.getCoordinateInfo(0,f,s);if(x.transformatrix){var b=i.getCoordinate().getCoordinateRect(),m=null===b||void 0===b?void 0:b.width,O=null===b||void 0===b?void 0:b.height;if(t.rect(b.x-5,b.y-5-16,b.width+10,b.height+10+16),t.clip(),Array.isArray(e)&&e.length>0)e.forEach(function(t,e){t.lineStyle&&(l=t.lineStyle),t.label&&(p=t.label),(t.yAxisIndex||0===t.yAxisIndex)&&(f=t.yAxisIndex);var n=i.getCoordinateInfo(g,f,s);if(n.transformatrix){if(t.xAxis){var o=i.getHorizontalAxisArray();if(o&&o.length>0){var r=o[0];if(!r.isValueAxis()&&r.axisParam&&r.axisParam.data)for(var a=r.axisParam.data,h=a.length,u=0;u<h;u++)if(a[u]==t.xAxis&&u>=n.startIndex&&u<=n.endIndex){var x=Object(d.i)({x:u-n.startIndex,y:0},n.transformatrix);0===e?v.x=null===x||void 0===x?void 0:x.x:y.x=null===x||void 0===x?void 0:x.x}}}if((t.yAxis||0===t.yAxis)&&(x=Object(d.i)({x:0,y:t.yAxis},n.transformatrix),0===e?v.y=null===x||void 0===x?void 0:x.y:y.y=null===x||void 0===x?void 0:x.y),v.x>y.x){var b=Qi({},v);v=Qi({},y),y=b}"circle"===t.symbol&&(c=0===e?[t.symbol]:$i(c,[t.symbol]))}});else{if(e.xAxis||0===e.xAxis){var w=i.getHorizontalAxisArray();if(w&&w.length>0){var _=w[0];if(!_.isValueAxis()&&_.axisParam&&_.axisParam.data)for(var j=_.axisParam.data,A=j.length,C=0;C<A;C++)j[C]==e.xAxis&&C>=x.startIndex&&C<=x.endIndex&&(v=Object(d.i)({x:C-x.startIndex,y:0},x.transformatrix),y={x:v.x,y:v.y-O+25})}}(e.yAxis||0===e.yAxis)&&(v=Object(d.i)({x:0,y:e.yAxis},x.transformatrix),y={x:v.x+m,y:v.y})}if(Object(n.checkPoint)(y)&&Object(n.checkPoint)(v)){var L={x:0,y:0},I=(null===p||void 0===p?void 0:p.position)||"end",F=new Y,S=(null===p||void 0===p?void 0:p.distance)&&Number(p.distance)||12,M=(v.x+y.x)/2,R=(v.y+y.y)/2,E=Math.atan((y.y-v.y)/(y.x-v.x));if(p&&p.formatter){var T=p.formatter;"function"==typeof p.formatter&&(T=p.formatter({startPoint:v,footPoint:y})),F.setText(T),F.setColor(l.normal.color),F.setFont("12px "+h.DEFAULT_FONT_FAMILY),F.setPaddingByMap({paddingTop:0,paddingBottom:0,paddingLeft:5,paddingRight:5}),F.calculateSize();var B=F.getSize();F.setAngle(E);var k={x:0,y:0};if(k.x=B.width/2*(1-Math.cos(E)),k.y=B.width/2*Math.sin(E),"end"===I)L=Ji(B.width,y.x,y.y,E,m,O),F.setPosition(y.x-k.x-L.x,y.y+k.y-L.y,"left","middle");else if("start"===I)L=Ji(B.width,v.x,v.y,E,m,O,"start"),F.setPosition(v.x-k.x+L.x,v.y-k.y+L.y,"right","middle");else if("middle"===I){var D=S*Math.sin(E),V=S*Math.cos(E);F.setPosition(M+D,R-V,"middle","middle")}F.draw(t)}var N=Object(n.get)(l,"normal.type")===h.DASHED?[4,4]:void 0;if("end"===I?Object(u.k)(t,{x:y.x-L.x,y:y.y-L.y},v,l.normal.color,l.normal.width,N):"start"===I?Object(u.k)(t,y,{x:v.x+L.x,y:v.y+L.y},l.normal.color,l.normal.width,N):"middle"===I&&Object(u.k)(t,y,v,l.normal.color,l.normal.width,N),"circle"===c)"end"===I?(Object(u.h)(t,v.x,v.y,3,l.normal.color,l.normal.color),Object(u.h)(t,y.x-L.x,y.y-L.y,3,l.normal.color,l.normal.color)):"start"===I?(Object(u.h)(t,v.x+L.x,v.y+L.y,3,l.normal.color,l.normal.color),Object(u.h)(t,y.x,y.y,3,l.normal.color,l.normal.color)):"middle"===I&&(Object(u.h)(t,v.x,v.y,3,l.normal.color,l.normal.color),Object(u.h)(t,y.x,y.y,3,l.normal.color,l.normal.color));else if(c&&Array.isArray(c)){if("circle"===c[0]){var H="start"===I?v.x+L.x:v.x;Object(u.h)(t,H,v.y+L.y,3,l.normal.color,l.normal.color)}if("circle"===c[1]){var z="end"===I?y.x-L.x:y.x;Object(u.h)(t,z,y.y-L.y,3,l.normal.color,l.normal.color)}}}if(e.type){var W=Object(n.simpleFilter)(o.getPipelines(),function(t){if(t instanceof P||t instanceof ot)return t}),X={};for(var G in Object(n.quicklyForEach)(W,function(t){var e=t.getYAxisIndex();X[e]||(X[e]=[]),X[e].push(t)}),X)G==f&&("max"===e.type&&tn(t,i,X[G],!1,a,r),"min"===e.type&&tn(t,i,X[G],!0,a,r))}}})}}(t,this.optionManager,this.coordinateControll,this.dataContainer)},t.prototype.drawMarkAreaAction=function(){var t=Object(u.v)(this.barCanvas);t&&function(t,e,i){var o=["#FCC4C4","#FFBFA3","#BCDEB6"],r=e.getFromOption("markArea");if(r&&r.data){var a=Object(n.get)(e.getXAxisData(),"length"),s=r.itemStyle||{},h=Object(n.get)(r,"yAxisIndex")||0;r.data.forEach(function(e){var n=[],r=[];(e.yAxisIndex||0===e.yAxisIndex)&&(h=e.yAxisIndex);var c=i.getCoordinateInfo(0,h,a),l=i.getCoordinate().getCoordinateRect();if(e.data&&e.data.forEach(function(t,e){if(t.itemStyle&&(s=t.itemStyle),t.x||0===t.x)n[e]=t.x;else if(t.xAxis){var o=i.getHorizontalAxisArray();if(o&&o.length>0){var a=o[0];if(a.axisParam&&a.axisParam.data)for(var h=a.axisParam.data,u=h.length,p=0;p<u;p++)if(h[p]==t.xAxis&&p>=c.startIndex&&p<=c.endIndex){var f=Object(d.i)({x:p-c.startIndex,y:0},c.transformatrix);n[e]=f.x}}}else n[e]=0===e?l.x:l.width+l.x;t.y||0===t.y?r[e]=t.y:t.yAxis||0===t.yAxis?(f=Object(d.i)({x:0,y:t.yAxis},c.transformatrix),r[e]=f.y):r[e]=0===e?l.height+l.y:l.y}),!(r[0]>=l.height+l.y&&r[1]>=l.height+l.y||r[0]<=l.y&&r[1]<=l.y)){var p=Math.max(Math.min(n[0],n[1]),l.x),f=Math.max(Math.min(r[0],r[1]),l.y),g=Math.min(Math.abs(n[0]-n[1]),l.width),y=Math.min(Math.abs(r[0]-r[1]),l.height);Object(u.n)(t,p,f,g,y,null,s.color||o[0],s.opacity)}})}}(t,this.optionManager,this.coordinateControll)},t.prototype.drawStatTextAction=function(){var t=Object(u.v)(this.operateCanvas);if(t){var e=this.optionManager.getFromOption("stat");if(void 0===Object(n.get)(e,"label.value"))return;for(var i=this.dataContainer.getPipelines(),o=void 0,r=0;r<i.length;r++){o=i[r].color;break}var a={title:Object(n.get)(e,"title.value"),value:Object(n.get)(e,"label.value"),formatter:Object(n.get)(e,"label.formatter"),color:o,showArea:Object(n.get)(e,"showArea"),unit:Object(n.get)(e,"unit"),titleColor:Object(n.get)(e,"title.color"),titleFontSize:Object(n.get)(e,"title.size")&&14},s=this.coordinateControll.getCoordinate();if(!s)return;var h=s.getCoordinateRect();en(t,a.showArea?{x:h.x+h.width/2,y:h.y+h.height/2,height:h.height/3*2,width:h.width>h.height?h.height/3*2:h.width/3*2}:{x:h.x+h.width/2,y:h.y+h.height/2,height:h.height,width:h.width>h.height?h.height:h.width},a,h)}},t.prototype.initToolbox=function(){var t=this.optionManager.getFromOption("toolbox");this.toolbox.setToolboxParam(t)},t.prototype.getProperty=function(t){return this.properties[t]},t.prototype.setProperty=function(t,e){null!=t&&(this.properties[t]=e)},t.prototype.bottomLayerDraw=function(){},t.prototype.setBackgrounColor=function(t){var e=this.optionManager.getFromOption("backgroundColor");!this.container||t==e&&Object(n.getByPath)(this.container,["style","background-color"])===t||(Object(n.setByPath)(this.optionManager,["option","backgroundColor"],t),this.container.style["background-color"]=t)},t.prototype.trigger=function(t){var e=this,i=function(){e.loopTimer&&cancelAnimationFrame(e.loopTimer),t&&t(),e.loopTimer=Object(n.callSafe)(requestAnimationFrame,{arg:[i,16]})};e.loopTimer&&(cancelAnimationFrame(e.loopTimer),e.loopTimer=null),Object(n.callSafe)(requestAnimationFrame,{arg:[i,16]})},t}();e.default=xn;function bn(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.left="0px",t.style.top="0px",t}var mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cn(e,t),e.prototype.init=function(t,e){if(t&&t.show&&""!==t.text){var i={x:e.paddingLeft,y:e.paddingTop-15},n=new Xe(t.text,p.common.SMALL_FONT,"#000");n.calculateSize(),n.setPosition(i.x,i.y,"left","top"),n.setOffset(0,0),this.textRender=n}},e.prototype.getRect=function(){if(this.textRender)return this.textRender.getRect()},e.prototype.draw=function(t){this.textRender&&this.textRender.draw(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.textRender.destory(),this.textRender=null},e}(ye),On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cn(e,t),e.prototype.setPagination=function(t){var e=this;this.pagination=t,this.pagination&&this.pagination.setClickCallback(function(){e.dirtyItself()})},e.prototype.setLegend=function(t){this.legend=t,this.legend.setLocalElement(this)},e.prototype.getRect=function(){if(this.legend&&this.legend.isVisible())return this.legend.getRectExtend()},e.prototype.draw=function(t){this.legend&&this.legend.isVisible()&&(this.pagination.needPagination()?this.pagination.draw(t,[this.legend]):this.legend.draw(t))},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.legend=null,this.pagination=null},e}(ye)}])});